function ba(a){throw a;}var e=true,f=null,i=false;function ca(){return function(){}}function da(a){return function(b){this[a]=b}}function l(a){return function(){return a}}var o;function ea(a){this.jc=this.fc=f;this.K=a}o=ea.prototype;o.fc=new ea(f);o.jc=new ea(f);o.Zj=i;o.Yj=i;o.K=f;o.remove=function(){if(this.Yj||this.Zj)return i;this.jc.fc=this.fc;this.fc.jc=this.jc;return e};function fa(){this.$d=new ea(f);this.ec=new ea(f);this.ec.jc=this.$d;this.$d.fc=this.ec;this.ec.Zj=e;this.$d.Yj=e}
fa.prototype.$d=new ea(f);fa.prototype.ec=new ea(f);fa.prototype.push=function(a){a=new ea(a);a.fc=this.ec;a.jc=this.ec.jc;this.ec.jc.fc=a;return this.ec.jc=a};fa.prototype.clear=function(){this.$d.fc=this.ec;this.ec.jc=this.$d};function p(a,b){this.Ck=a;this.scope=b}p.prototype.Ck=f;p.prototype.scope=f;function t(a,b){a.Ck.apply(a.scope,b)};var w=[6,13,14,31,32,36,37,49],ga={"-1":-1,6:0,13:1,14:2,31:3,32:4,36:5,37:6,49:7},ha={0:32,1:13,2:37,3:36,4:31,5:49,6:14,7:6},ia=[1,1,1,1,1,1,1,1],ja=[0,0,0,960,0,0,782,0],ka={0:0,1:1,2:2,3:4,4:9,5:10,6:11,7:7,8:8,9:12,10:13,11:14,12:15,13:3,14:16,15:17,16:18},la={6:4,5:3,7:2,3:1,4:0},ma=[0,4,10,9,8,6,15,11,3,5,0,7],na={1:0,2:1,3:2,16:3,5:4,4:5,20:4,19:6,9:7,10:8,6:9,7:10,8:11,21:16,14:17,28:18,24:19,15:18,22:17,23:17,25:18,26:18},oa=["head","neck","shoulder","back","chest","shirt","tabard","wrist",
"hands","waist","legs","feet","finger1","finger2","trinket1","trinket2","mainHand","offHand","ranged"],pa={164:"Blacksmithing",165:"Leatherworking",171:"Alchemy",182:"Herbalism",186:"Mining",197:"Tailoring",202:"Engineering",333:"Enchanting",393:"Skinning",755:"Jewelcrafting",773:"Inscription"};function qa(a,b,c,d,g){b=(b>0?b-1:11)*100+(g-1);var h=g=0;if(c!=0&&b<ra.length){g=ra[b]*c*a;h=g*d;g-=h/2;return[g,h]}return f}
function sa(a,b,c,d){if(a!=b&&c>0&&b>0&&a>0){a=Math.min(b,a+(b-a)/c*(d-1));return[a,a/b]}return f}
var ta=[164,165,171,182,186,197,202,333,393,755,773],ua=f,y=f,va=["#999999","#FFFFFF","#00DD00","#3366CC","#AA66DD","#DD6600","#E5CC80","#E5CC80"],wa={0:[0,0,0,0,0],1:[20,20,20,20,20],2:[23,17,21,17,22],3:[25,16,21,19,19],4:[16,24,20,20,20],5:[19,18,20,18,25],6:[25,16,21,16,22],7:[15,22,20,23,20],8:[21,22,21,16,21],9:[17,22,20,23,18],10:[17,22,20,23,18],11:[21,17,20,20,22],22:[23,22,20,16,19]},xa=[0,0,0.00652,-0.01532,-0.00295,0.031765,0,0.02922,0.03454,0.02622,0,0.074755],ya=[0,0,0.033355,0,0,0.012375,
0,0.02201,0.009075,0.017,0,0.018515],za=[0,3.75955,3.65168-3,-5.43889,-0.588581,3.18783,3.66584,1.67504,3.47569,2.04144,0,4.97143],Aa=[0,1,0,2,1,0,0,0,0,0,0,0],Ba=[0,1,0,2,1,0,0,0,0,0,0,0],Ca=[0,-10,0,-20,-10,0,0,0,0,0,0,0],Ea=[[0,0,0,0,0],[2,0,0,0,0],[2,0,0,0,0],[1,1,0,0,0],[1,2,0,0,0],[1,0,0,0,0],[2,0,0,0,0],[1,2,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,0,0,0,0],[2,0,0,0,0]],Fa=[2,2,0,0,0],Ga=[2,2,0,0,0],Ha=[2,0,0,0,0],Ia=[5,5.5,6,8],Ja=[24,24.5,25,27],Ka=[4,5,6,17],La=[5,5.5,6,8],Ma=[5,5.5,6,14],Na=[5,
5.5,6,6.5],Oa=[0,3,3,2,2,0,3,2,0,0,0,3],Pa=[0.956,0.956,0.988,0.988,0.953,0.956,0.988,0.953,0.953,0,0.972],Qa=[65.63144,65.63144,145.560408,145.560408,0,65.63144,145.560408,0,0,0,0],Ra=[65.63144,65.63144,145.560408,145.560408,150.37594,65.63144,145.560408,150.37594,150.37594,0,116.890707],A=[[0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.144231,0.192308,0.240385,0.288462,0.336538,0.384615,0.432692,0.480769,0.528846,0.576923,0.625,0.673077,0.721154,0.769231,
0.817308,0.865385,0.913462,0.961538,1.00961,1.05769,1.10577,1.15385,1.20192,1.25,1.29808,1.34615,1.39423,1.44231,1.49039,1.53846,1.58654,1.63461,1.68269,1.73077,1.77885,1.82692,1.875,1.92308,1.97115,2.01923,2.06731,2.11539,2.16346,2.21154,2.25961,2.30769,2.35577,2.40385,2.45192,2.5,2.59494,2.69737,2.80822,2.92857,3.0597,3.20313,3.36066,3.53448,3.72727,3.94231,4.24173,4.56391,4.91054,5.28351,5.68481,6.11658,6.58115,7.08101,7.61883,8.1975,10.764,14.1349,18.5689,24.3818,32.0143,12.7186,13.6846,14.724,
15.8423,17.0456,18.3402,19.7332,21.232,22.8446,24.5797,26.4466,28.4553,30.6166,32.942,35.444],[0.0576922,0.0576922,0.0576922,0.0576922,0.0576923,0.0576923,0.0576923,0.0576922,0.0576922,0.0576922,0.0865385,0.115385,0.144231,0.173077,0.201923,0.230769,0.259615,0.288462,0.317308,0.346154,0.375,0.403846,0.432692,0.461538,0.490385,0.519231,0.548077,0.576923,0.605769,0.634615,0.663462,0.692308,0.721154,0.75,0.778846,0.807692,0.836538,0.865385,0.894231,0.923077,0.951923,0.980769,1.00961,1.03846,1.06731,
1.09615,1.125,1.15385,1.18269,1.21154,1.24039,1.26923,1.29808,1.32692,1.35577,1.38461,1.41346,1.44231,1.47115,1.5,1.55696,1.61842,1.68493,1.75714,1.83582,1.92188,2.01639,2.12069,2.23636,2.36539,2.54504,2.73834,2.94633,3.17011,3.41089,3.66995,3.94869,4.2486,4.5713,4.9185,6.4584,8.48096,11.1413,14.6291,19.2086,7.63117,8.21077,8.8344,9.5054,10.2274,11.0041,11.8399,12.7392,13.7068,14.7478,15.868,17.0732,18.3699,19.7652,21.2664],[0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,
0.530769,0.530769,0.796154,1.06154,1.32692,1.59231,1.85769,2.12308,2.38846,2.65385,2.91923,3.18462,3.45,3.71539,3.98077,4.24615,4.51154,4.77692,5.04231,5.30769,5.57308,5.83846,6.10385,6.36923,6.63462,6.9,7.16538,7.43077,7.69615,7.96154,8.22692,8.49231,8.75769,9.02308,9.28846,9.55385,9.81923,10.0846,10.35,10.6154,10.8808,11.1462,11.4115,11.6769,11.9423,12.2077,12.4731,12.7385,13.0038,13.2692,13.5346,13.8,14.3241,14.8895,15.5014,16.1657,16.8896,17.6813,18.5508,19.5103,20.5745,21.7615,23.4144,25.1928,
27.1062,29.165,31.3801,33.7635,36.328,39.0872,42.0559,45.2502,59.4173,78.0249,102.5,134.588,176.719,70.2067,75.5391,81.2765,87.4496,94.0917,101.238,108.927,117.201,126.102,135.68,145.985,157.073,169.003,181.84,195.651],[0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.796154,1.06154,1.32692,1.59231,1.85769,2.12308,2.38846,2.65385,2.91923,3.18462,3.45,3.71539,3.98077,4.24615,4.51154,4.77692,5.04231,5.30769,5.57308,5.83846,6.10385,6.36923,6.63462,6.9,7.16538,
7.43077,7.69615,7.96154,8.22692,8.49231,8.75769,9.02308,9.28846,9.55385,9.81923,10.0846,10.35,10.6154,10.8808,11.1462,11.4115,11.6769,11.9423,12.2077,12.4731,12.7385,13.0038,13.2692,13.5346,13.8,14.3241,14.8895,15.5014,16.1657,16.8896,17.6813,18.5508,19.5103,20.5745,21.7615,23.4144,25.1928,27.1062,29.165,31.3801,33.7635,36.328,39.0872,42.0559,45.2502,59.4173,78.0249,102.5,134.588,176.719,70.2067,75.5391,81.2765,87.4496,94.0917,101.238,108.927,117.201,126.102,135.68,145.985,157.073,169.003,181.84,
195.651],[0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.398077,0.530769,0.663461,0.796154,0.928846,1.06154,1.19423,1.32692,1.45962,1.59231,1.725,1.85769,1.99038,2.12308,2.25577,2.38846,2.52115,2.65385,2.78654,2.91923,3.05192,3.18462,3.31731,3.45,3.58269,3.71538,3.84808,3.98077,4.11346,4.24615,4.37885,4.51154,4.64423,4.77692,4.90962,5.04231,5.175,5.30769,5.44038,5.57308,5.70577,5.83846,5.97115,6.10385,6.23654,6.36923,6.50192,6.63461,6.76731,6.9,7.16202,
7.44474,7.75069,8.08286,8.44478,8.84063,9.27541,9.75517,10.2873,10.8808,11.7072,12.5964,13.5531,14.5825,15.6901,16.8818,18.164,19.5436,21.028,22.6251,29.7087,39.0124,51.2501,67.2938,88.3594,35.1034,37.7696,40.6382,43.7248,47.0458,50.6191,54.4637,58.6004,63.0512,67.8401,72.9927,78.5367,84.5018,90.9199,97.8255],[0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.541114,0.721486,0.901856,1.08223,1.2626,1.44297,1.62334,1.80371,1.98409,2.16446,2.34483,2.5252,2.70557,
2.88594,3.06631,3.24668,3.42706,3.60743,3.7878,3.96817,4.14854,4.32891,4.50928,4.68966,4.87003,5.0504,5.23077,5.41114,5.59151,5.77188,5.95226,6.13263,6.313,6.49337,6.67374,6.85411,7.03448,7.21485,7.39523,7.5756,7.75597,7.93634,8.11671,8.29708,8.47746,8.65783,8.8382,9.01857,9.19894,9.37931,9.73549,10.1198,10.5357,10.9872,11.4792,12.0172,12.6083,13.2604,13.9837,14.7905,15.9138,17.1225,18.423,19.8223,21.3278,22.9477,24.6907,26.566,28.5837,30.7548,40.3836,53.0304,69.6653,91.4738,120.109,47.7167,51.3409,
55.2404,59.4361,63.9504,68.8075,74.0336,79.6567,85.7068,92.2164,99.2205,106.757,114.865,123.589,132.976],[0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.541114,0.721486,0.901856,1.08223,1.2626,1.44297,1.62334,1.80371,1.98409,2.16446,2.34483,2.5252,2.70557,2.88594,3.06631,3.24668,3.42706,3.60743,3.7878,3.96817,4.14854,4.32891,4.50928,4.68966,4.87003,5.0504,5.23077,5.41114,5.59151,5.77188,5.95226,6.13263,6.313,6.49337,6.67374,6.85411,7.03448,7.21485,7.39523,
7.5756,7.75597,7.93634,8.11671,8.29708,8.47746,8.65783,8.8382,9.01857,9.19894,9.37931,9.73549,10.1198,10.5357,10.9872,11.4792,12.0172,12.6083,13.2604,13.9837,14.7905,15.9138,17.1225,18.423,19.8223,21.3278,22.9477,24.6907,26.566,28.5837,30.7548,40.3836,53.0304,69.6653,91.4738,120.109,47.7167,51.3409,55.2404,59.4361,63.9504,68.8075,74.0336,79.6567,85.7068,92.2164,99.2205,106.757,114.865,123.589,132.976],[0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.461538,
0.615385,0.769231,0.923077,1.07692,1.23077,1.38461,1.53846,1.69231,1.84615,2,2.15385,2.30769,2.46154,2.61539,2.76923,2.92308,3.07692,3.23077,3.38461,3.53846,3.69231,3.84615,4,4.15385,4.30769,4.46154,4.61539,4.76923,4.92308,5.07692,5.23077,5.38461,5.53846,5.69231,5.84615,6,6.15385,6.30769,6.46154,6.61539,6.76923,6.92308,7.07692,7.23077,7.38461,7.53846,7.69231,7.84615,8,8.3038,8.63158,8.9863,9.37143,9.79105,10.25,10.7541,11.3103,11.9273,12.6154,13.5736,14.6045,15.7137,16.9072,18.1914,19.5731,21.0597,
22.6592,24.3803,26.232,34.4448,45.2318,59.4204,78.0218,102.446,40.6996,43.7908,47.1168,50.6954,54.5459,58.6888,63.1463,67.9425,73.1029,78.6552,84.6292,91.057,97.973,105.414,113.421],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,
8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0.538462,0.538462,0.538462,0.538462,
0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,
22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,
6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,
184.475,198.486],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.459472,0.612629,0.765786,0.918944,1.0721,1.22526,1.37842,1.53157,1.68473,1.83789,1.99104,
2.1442,2.29736,2.45052,2.60367,2.75683,2.90999,3.06315,3.2163,3.36946,3.52262,3.67577,3.82893,3.98209,4.13525,4.2884,4.44156,4.59472,4.74788,4.90103,5.05419,5.20735,5.3605,5.51366,5.66682,5.81998,5.97313,6.12629,6.27945,6.43261,6.58576,6.73892,6.89208,7.04523,7.19839,7.35155,7.50471,7.65786,7.81102,7.96418,8.26661,8.59293,8.94606,9.32947,9.7472,10.2041,10.7059,11.2597,11.8739,12.5589,13.5128,14.5391,15.6434,16.8315,18.1099,19.4854,20.9654,22.5578,24.2711,26.1145,32.5965,40.6875,50.7868,63.3928,79.1278,
45.582,49.044,52.7691,56.777,61.0893,65.7292,70.7215,76.093,81.8724,88.0909,94.7816,101.98,109.726,118.06,127.027],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,1.15385,1.34615,1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,
2.88461,3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,8.26923,8.46154,8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,32.79,43.056,56.5397,74.2755,97.5272,128.057,50.8745,54.7385,
58.896,63.3693,68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,1.15385,1.34615,1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,2.88461,3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,
8.26923,8.46154,8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,32.79,43.056,56.5397,74.2755,97.5272,128.057,50.8745,54.7385,58.896,63.3693,68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,
1.15385,1.34615,1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,2.88461,3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,8.26923,8.46154,8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,
32.79,43.056,56.5397,74.2755,97.5272,128.057,50.8745,54.7385,58.896,63.3693,68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.135279,0.180372,0.225465,0.270557,0.315649,0.360742,0.405835,0.450928,0.496021,0.541114,0.586207,0.6313,0.676393,0.721486,0.766579,
0.811672,0.856764,0.901856,0.946949,0.992042,1.03714,1.08223,1.12732,1.17241,1.21751,1.2626,1.30769,1.35279,1.39788,1.44297,1.48806,1.53316,1.57825,1.62334,1.66844,1.71353,1.75862,1.80371,1.84881,1.8939,1.93899,1.98409,2.02918,2.07427,2.11936,2.16446,2.20955,2.25464,2.29974,2.34483,2.43387,2.52995,2.63392,2.7468,2.86979,3.00431,3.15206,3.3151,3.49593,3.69761,3.97846,4.28063,4.60575,4.95557,5.33196,5.73693,6.17267,6.6415,7.14594,7.68869,10.0959,13.2576,17.4163,22.8685,30.0272,11.9292,12.8352,13.8101,
14.859,15.9876,17.2019,18.5084,19.9142,21.4267,23.0541,24.8051,26.6891,28.7162,30.8973,33.244],[0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.270872,0.361163,0.451454,0.541745,0.632036,0.722326,0.812617,0.902908,0.993199,1.08349,1.17378,1.26407,1.35436,1.44465,1.53494,1.62523,1.71553,1.80582,1.89611,1.9864,2.07669,2.16698,2.25727,2.34756,2.43785,2.52814,2.61843,2.70872,2.79902,2.88931,2.9796,3.06989,3.16018,3.25047,3.34076,3.43105,3.52134,3.61163,3.70192,
3.79221,3.8825,3.9728,4.06309,4.15338,4.24367,4.33396,4.42425,4.51454,4.60483,4.69512,4.87342,5.06579,5.27397,5.5,5.74627,6.01563,6.31147,6.63793,7,7.40385,7.96619,8.57124,9.22224,9.9227,10.6763,11.4872,12.3597,13.2985,14.3085,15.3953,20.2153,26.5461,34.8732,45.7902,60.1244,23.8862,25.7004,27.6524,29.7527,32.0124,34.4439,37.06,39.8748,42.9034,46.162,49.6681,53.4405,57.4994,61.8666,66.5656],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,
1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,
42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],Sa=[0.020979,0.020515,0.020079,0.019516,0.018997,0.018646,0.018314,0.017997,0.017584,0.017197,0.016551,0.015729,0.015229,
0.01458,0.014008,0.01365,0.013175,0.012832,0.012475,0.012073,0.01184,0.011494,0.011292,0.01099,0.010761,0.010546,0.010321,0.010151,0.009949,0.00974,0.009597,0.009425,0.009278,0.009123,0.008974,0.008847,0.008698,0.008581,0.008457,0.008338,0.008235,0.008113,0.008018,0.007906,0.007798,0.007713,0.007612,0.007524,0.00743,0.00734,0.007268,0.007184,0.007116,0.007029,0.006945,0.006884,0.006805,0.006747,0.006667,0.0066,0.006421,0.006314,0.006175,0.006072,0.005981,0.005885,0.005791,0.005732,0.005668,0.005596,
0.005316,0.005049,0.004796,0.004555,0.004327,0.00411,0.003903,0.003708,0.003522,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345],B={"1":[6,8,4,5,8,8,9,3,2,1,1,1,21,31,51,77,27,42,68,102,22,34,55,83,24,37,60,89,19,29,47,70,15,24,38,57,17,26,43,64,12,18,30,45,14],"2":[6,9,4,6,9,9,9,3,3,2,1,1,22,34,56,84,30,46,75,112,24,37,61,91,26,40,66,98,21,32,52,77,17,26,42,
63,19,29,47,70,13,20,33,49,15],"3":[7,9,4,6,9,10,12,4,3,2,1,1,24,37,61,91,32,50,81,122,26,41,66,99,28,44,71,107,22,34,56,84,18,28,46,69,20,31,51,76,14,22,35,53,16],"4":[7,10,5,6,10,11,12,4,3,2,1,1,26,40,65,98,35,54,87,131,28,44,71,106,31,47,76,115,24,37,60,90,20,30,49,74,22,34,54,82,15,24,38,57,18],"5":[8,10,5,7,10,12,15,5,4,3,2,2,28,43,70,105,38,57,94,141,31,46,76,115,33,50,82,123,26,39,65,97,21,32,53,79,24,36,59,88,17,25,41,62,19],"6":[8,11,5,7,11,12,15,5,4,3,2,2,30,46,75,113,40,61,100,150,33,50,
81,122,35,53,88,131,28,42,69,103,23,34,56,84,25,38,63,94,18,27,44,66,20],"7":[9,11,6,7,11,13,18,6,4,3,2,3,32,49,80,120,43,65,106,160,35,53,86,130,38,57,93,140,30,45,73,110,24,37,60,90,27,41,66,100,19,28,46,70,22],"8":[9,12,6,8,12,14,21,7,5,4,2,3,34,52,85,127,45,69,113,169,37,56,92,137,39,60,99,148,31,47,78,116,25,39,64,95,28,43,71,106,20,30,49,74,23],"9":[10,13,6,8,13,15,21,7,5,4,2,3,36,55,89,134,48,73,119,179,39,59,97,145,42,64,104,157,33,50,82,123,27,41,67,101,30,46,74,112,21,32,52,78,24],"10":[10,
13,7,9,13,16,24,8,6,4,2,3,38,58,94,141,50,77,125,188,41,63,102,153,44,67,109,165,34,53,86,129,28,43,70,106,31,48,78,118,22,34,55,82,25],"11":[11,14,7,9,14,16,24,8,6,5,3,4,40,61,99,149,53,81,132,198,43,66,107,161,46,71,116,173,36,56,91,136,30,46,74,111,33,51,83,124,23,35,58,87,27],"12":[11,15,7,10,15,17,27,9,7,5,3,4,42,64,104,156,56,85,138,208,46,69,112,169,49,74,121,182,39,58,95,143,32,48,78,117,35,53,86,130,25,37,60,91,28],"13":[12,16,8,10,16,18,27,9,7,5,3,4,44,67,108,163,58,89,145,217,47,72,118,
176,51,78,127,190,40,61,100,149,33,50,82,122,36,56,91,136,25,39,63,95,29],"14":[12,16,8,11,16,19,30,10,8,6,3,4,45,69,113,170,61,93,151,227,50,76,123,184,53,81,132,199,42,64,104,156,34,52,85,128,38,58,94,142,27,41,66,99,31],"15":[13,17,9,11,17,20,33,11,8,6,3,5,47,72,118,177,63,96,157,236,51,78,128,192,55,84,137,207,43,66,108,162,35,54,88,133,39,60,98,148,28,42,69,103,32],"16":[14,18,9,12,18,21,33,11,8,6,4,5,49,75,123,184,66,100,164,246,54,81,133,200,58,88,144,215,45,69,113,169,37,56,92,138,41,63,103,
154,29,44,72,108,33],"17":[14,19,9,12,19,22,36,12,9,7,4,5,51,78,128,192,68,104,170,255,55,85,138,207,60,91,149,223,47,72,117,175,38,59,96,143,43,65,106,159,30,46,74,112,34],"18":[15,19,10,13,19,23,36,12,9,7,4,5,53,81,132,199,71,108,176,265,58,88,143,215,62,95,154,232,49,74,121,182,40,61,99,149,44,68,110,166,31,47,77,116,36],"19":[15,20,10,13,20,24,39,13,10,7,4,6,55,84,137,206,73,112,183,275,59,91,149,223,64,98,160,241,50,77,126,189,41,63,103,155,46,70,114,172,32,49,80,120,37],"20":[16,21,10,14,21,
25,42,14,10,8,4,6,57,87,142,213,76,116,189,284,62,94,154,231,67,102,165,249,52,80,130,195,43,65,106,160,48,73,118,178,33,51,83,124,38],"21":[16,21,11,14,21,26,42,14,11,8,5,6,59,90,147,220,79,120,195,294,64,98,158,239,69,105,171,257,54,83,134,202,44,68,110,165,49,75,122,184,35,53,85,129,40],"22":[17,22,11,14,22,27,45,15,11,8,5,6,61,93,151,227,81,124,202,303,66,101,164,246,71,109,177,265,56,85,139,208,46,70,114,170,51,78,126,189,35,54,88,133,41],"23":[17,23,11,15,23,28,45,15,12,9,5,7,63,96,156,235,
84,128,208,313,68,104,169,254,74,112,182,274,58,88,143,215,47,72,117,176,53,80,130,196,37,56,91,137,42],"24":[18,23,12,15,23,29,48,16,12,9,5,7,65,99,161,242,86,132,215,322,70,107,175,262,75,116,188,282,59,91,148,221,48,74,121,181,54,83,134,201,38,58,94,141,43],"25":[19,24,12,16,24,30,51,17,12,9,5,7,67,102,166,249,89,136,221,332,72,111,180,270,78,119,193,291,61,94,152,228,50,77,124,187,56,85,138,208,39,60,97,145,45],"26":[19,25,13,17,25,30,51,17,13,10,5,7,68,105,170,256,91,139,227,342,74,113,184,278,
80,122,199,299,63,96,156,235,51,78,128,192,57,87,142,214,40,61,99,150,46],"27":[20,26,13,17,26,31,54,18,13,10,6,8,70,108,175,263,94,143,234,351,76,116,190,285,82,125,205,307,65,98,161,241,53,80,132,197,59,89,146,219,41,63,102,154,47],"28":[21,27,14,18,27,32,54,18,14,10,6,8,72,110,180,270,96,147,240,361,78,119,195,293,84,129,210,316,66,101,165,248,54,83,135,203,60,92,150,226,42,64,105,158,48],"29":[22,29,14,19,29,32,57,19,14,11,6,8,74,113,185,278,99,151,246,370,80,123,200,301,87,132,215,324,68,104,
169,254,56,85,138,208,62,94,154,231,43,66,108,162,50],"30":[23,30,15,20,30,33,60,20,15,11,6,8,76,116,190,285,102,155,253,380,83,126,206,309,89,136,221,333,70,107,174,261,57,87,142,214,64,97,158,238,45,68,111,166,51],"31":[24,31,16,20,31,34,60,20,15,11,6,9,78,119,194,292,104,159,259,389,85,129,210,316,91,139,227,340,72,109,178,267,59,89,146,219,65,99,162,243,46,70,113,170,52],"32":[25,32,16,21,32,34,63,21,16,12,7,9,80,122,199,299,107,163,265,399,87,132,215,324,94,143,232,349,74,112,182,274,60,92,149,
224,67,102,166,249,47,71,116,175,54],"33":[25,33,17,22,33,35,63,21,16,12,7,9,82,125,204,306,109,167,272,408,89,136,221,332,95,146,238,357,75,115,187,281,61,94,153,230,68,104,170,255,48,73,119,179,55],"34":[26,34,17,23,34,36,66,22,16,12,7,9,84,128,209,314,112,171,278,418,91,139,226,340,98,150,243,366,77,118,191,287,63,96,156,235,70,107,174,261,49,75,122,183,56],"35":[27,35,18,23,35,37,69,23,17,13,7,10,86,131,213,321,114,175,285,428,93,142,232,348,100,153,249,375,78,120,196,294,64,98,160,241,71,109,
178,268,50,77,125,187,57],"36":[28,36,18,24,36,38,69,23,17,13,7,10,88,134,218,328,117,178,291,437,95,145,236,355,102,156,255,382,80,122,200,300,66,100,164,246,73,111,182,273,51,78,127,191,59],"37":[28,37,19,24,37,39,72,24,18,13,8,10,90,137,223,335,119,182,297,447,97,148,241,363,104,159,260,391,82,125,204,307,67,102,167,251,74,114,186,279,52,80,130,196,60],"38":[29,38,19,25,38,40,72,24,18,14,8,10,92,140,228,342,122,186,304,456,99,151,247,371,107,163,266,399,84,128,209,314,69,105,171,257,76,116,190,
285,53,81,133,200,61],"39":[29,38,19,25,38,41,75,25,19,14,8,11,93,143,233,349,125,190,310,466,102,154,252,379,109,166,271,408,86,131,213,320,70,107,174,262,78,119,194,291,55,83,136,204,63],"40":[30,39,20,26,39,42,78,26,19,14,8,11,95,146,237,357,127,194,316,475,103,158,257,386,111,170,277,416,87,133,217,327,71,109,178,267,79,121,198,297,56,85,138,208,64],"41":[31,40,20,26,40,43,78,26,20,15,8,11,97,149,242,364,130,198,323,485,106,161,262,394,114,173,283,424,89,136,222,333,73,111,182,273,81,124,202,
303,57,87,141,212,65],"42":[31,41,21,27,41,44,81,27,20,15,8,11,99,151,247,371,132,202,329,495,107,164,267,402,116,177,288,433,91,139,226,340,74,114,185,278,83,126,206,309,58,88,144,217,66],"43":[32,41,21,27,41,45,81,27,20,15,9,12,101,154,252,378,135,206,336,504,110,167,273,410,118,180,294,441,93,142,231,347,76,116,189,284,84,129,210,315,59,90,147,221,68],"44":[32,42,21,28,42,47,84,28,21,16,9,12,103,157,256,385,137,210,342,514,111,171,278,418,120,184,299,450,94,144,235,353,77,118,192,289,86,131,214,
321,60,92,150,225,69],"45":[33,43,22,29,43,48,84,28,21,16,9,12,105,160,261,392,140,214,348,523,114,174,283,425,123,187,305,458,96,147,239,360,79,120,196,294,88,134,218,327,61,94,152,229,70],"46":[34,44,22,29,44,50,87,29,22,16,9,12,107,163,266,400,142,218,355,533,115,177,288,433,124,191,311,466,98,150,244,366,80,123,200,300,89,136,222,333,62,95,155,233,71],"47":[34,45,23,30,45,51,90,30,22,17,9,13,109,166,271,407,145,221,361,542,118,180,293,440,127,193,316,474,100,152,248,373,82,124,203,305,91,138,
226,339,63,97,158,237,73],"48":[35,45,23,30,45,52,90,30,23,17,10,13,111,169,276,414,148,225,367,552,120,183,298,449,130,197,321,483,102,155,252,380,83,127,206,311,93,141,229,345,65,98,161,242,74],"49":[35,46,23,31,46,53,93,31,23,17,10,13,113,172,280,421,150,229,374,561,122,186,304,456,131,200,327,491,103,157,257,386,84,129,210,316,94,143,234,351,66,100,164,245,75],"50":[36,47,24,31,47,54,93,31,24,18,10,13,115,175,285,428,153,233,380,571,124,189,309,464,134,204,333,500,105,160,261,393,86,131,214,321,
96,146,238,357,67,102,166,250,77],"51":[37,48,24,32,48,54,96,32,24,18,10,14,116,178,290,435,155,237,386,581,126,193,314,472,136,207,338,508,107,163,265,399,87,133,217,327,97,148,241,363,68,104,169,254,78],"52":[37,49,25,32,49,55,99,33,24,18,10,14,118,181,295,443,158,241,393,590,128,196,319,479,138,211,344,516,109,166,270,406,89,136,221,332,99,151,246,369,69,105,172,258,79],"53":[38,49,25,33,49,57,99,33,25,19,11,14,120,183,297,445,160,243,396,593,130,197,322,482,140,213,347,519,110,167,272,408,90,
137,223,334,100,152,248,371,70,106,173,259,80],"54":[38,50,25,33,50,58,102,34,25,19,11,14,122,184,299,447,162,246,398,596,132,200,323,484,142,215,348,522,111,169,274,410,91,138,224,335,101,154,249,373,71,108,174,261,81],"55":[39,51,26,34,51,59,102,34,26,19,11,15,123,186,301,450,165,248,401,600,134,202,326,488,144,217,351,525,113,171,276,413,93,140,226,338,103,155,251,375,72,109,175,263,83],"56":[40,52,26,34,52,61,105,35,26,20,11,15,125,188,303,452,167,251,404,603,136,204,328,490,146,220,354,528,115,
173,278,415,94,141,227,339,104,157,253,377,73,110,177,264,84],"57":[40,53,27,35,53,62,108,36,27,20,11,15,127,190,305,455,169,253,407,606,137,206,331,492,148,221,356,530,116,174,280,417,95,142,229,341,106,158,254,379,74,111,178,265,85],"58":[50,65,33,43,65,85,139,46,34,25,14,19,157,223,342,497,210,297,456,663,171,241,371,539,184,260,399,580,144,204,314,456,118,167,257,373,131,186,285,414,92,130,200,290,105],"59":[51,67,34,44,67,88,142,47,36,27,15,20,163,229,349,505,217,305,465,674,176,248,378,548,
190,267,407,590,149,210,320,463,122,172,262,379,136,191,291,421,95,133,203,295,109],"60":[53,68,35,45,68,91,148,49,37,28,16,21,171,240,365,513,228,320,487,684,185,260,396,556,200,280,426,599,157,220,335,470,128,180,274,385,143,200,304,428,100,140,213,299,114],"61":[54,70,36,47,70,94,154,51,39,29,16,22,181,254,386,533,242,338,515,711,197,275,418,578,212,296,451,622,166,232,354,489,136,190,290,400,151,211,322,444,106,148,225,311,121],"62":[55,72,36,48,72,97,160,53,40,30,17,22,192,269,409,578,255,358,
545,771,207,291,443,626,223,313,477,675,175,246,375,530,143,201,307,434,159,224,341,482,112,157,238,337,128],"63":[56,73,37,49,73,100,163,54,41,31,17,23,203,284,433,623,270,379,577,831,219,308,469,675,236,332,505,727,186,261,397,571,152,213,325,467,169,237,361,519,118,166,252,364,135],"64":[58,75,38,50,75,104,166,55,42,31,18,24,214,301,458,668,286,401,611,890,232,326,496,723,250,351,535,779,197,276,420,612,161,226,344,501,179,251,382,556,125,175,267,389,143],"65":[60,78,40,52,78,109,172,57,43,32,
18,24,227,318,485,713,302,424,647,950,245,345,526,772,264,371,566,831,208,292,445,653,170,239,364,534,189,265,404,594,132,186,283,416,151],"66":[62,81,41,54,81,113,175,58,44,33,18,25,240,337,514,757,320,449,685,1010,260,365,557,821,280,393,599,884,220,309,471,694,180,253,385,568,200,281,428,631,140,196,300,442,160],"67":[65,84,43,56,84,117,178,59,45,34,19,25,254,356,544,802,338,475,725,1070,275,386,589,869,296,416,634,936,232,327,498,736,190,267,408,602,211,297,453,669,148,208,317,468,169],"68":[91,
119,61,79,119,168,253,84,62,47,26,36,361,498,749,1091,482,664,998,1454,392,540,811,1181,422,581,873,1272,331,457,686,1E3,271,374,561,818,301,415,624,909,211,291,437,636,241],"69":[93,121,62,81,121,172,262,87,64,48,27,37,375,518,779,1144,500,691,1039,1526,406,561,844,1240,438,605,909,1335,344,475,714,1049,281,389,584,858,313,432,649,954,219,302,455,668,250],"70":[95,124,63,82,124,175,271,90,67,50,28,39,389,539,811,1198,519,718,1082,1597,422,583,879,1298,454,628,947,1397,357,494,744,1098,292,404,609,
898,324,449,676,998,227,314,473,699,260],"71":[97,127,65,84,127,179,280,93,69,52,29,40,404,560,845,1252,539,746,1126,1669,438,606,915,1356,472,653,985,1460,371,513,774,1147,303,420,633,939,337,466,704,1043,236,326,493,730,270],"72":[99,129,66,86,129,183,292,97,72,54,30,42,419,582,879,1306,559,776,1172,1741,454,631,952,1415,489,679,1026,1523,384,534,806,1197,314,437,659,979,349,485,733,1088,245,340,513,762,280],"73":[102,132,68,88,132,187,304,101,75,56,32,43,435,605,915,1359,580,806,1220,1813,471,
655,991,1473,508,705,1068,1586,399,554,839,1246,326,453,686,1020,363,504,763,1133,254,353,534,793,290],"74":[104,135,69,90,135,191,313,104,78,58,33,45,451,628,952,1414,601,838,1269,1885,488,681,1031,1532,526,733,1110,1649,413,576,872,1296,338,471,714,1060,376,524,793,1178,263,367,555,825,301],"75":[106,138,71,92,138,196,325,108,81,60,34,46,468,653,990,1468,624,870,1320,1957,507,707,1073,1590,546,761,1155,1712,429,598,908,1345,351,489,743,1101,390,544,825,1223,273,381,578,856,312],"76":[109,141,72,
94,141,200,340,113,84,63,35,48,485,678,1030,1522,647,904,1373,2029,526,735,1116,1649,566,791,1201,1775,445,622,944,1395,364,509,772,1141,404,565,858,1268,283,396,601,888,324],"77":[111,145,74,96,145,205,352,117,87,65,37,50,503,704,1071,1576,670,939,1429,2102,544,763,1161,1708,586,822,1250,1839,461,646,982,1445,377,528,804,1182,419,587,893,1314,293,411,625,920,335],"78":[114,148,76,99,148,210,364,121,90,68,38,52,521,731,1114,1631,695,975,1486,2174,565,792,1207,1766,608,853,1300,1902,478,670,1022,1495,
391,548,836,1223,434,609,929,1359,304,427,650,951,348],"79":[117,152,78,101,152,215,380,126,94,71,40,54,534,751,1146,1660,713,1001,1528,2213,579,813,1242,1798,624,876,1337,1936,490,688,1051,1521,401,563,860,1245,446,626,955,1383,312,438,669,968,357],"80":[120,156,80,104,156,220,395,131,97,73,41,56,546,762,1156,1668,729,1016,1541,2224,592,826,1252,1807,638,889,1348,1946,501,699,1059,1529,410,572,867,1251,456,635,963,1390,319,445,674,973,365],"81":[225,293,150,195,293,414,928,308,229,172,97,132,813,
1017,1390,1875,1084,1356,1854,2500,881,1102,1506,2031,949,1187,1622,2188,745,932,1275,1719,610,763,1043,1406,678,848,1159,1563,474,593,811,1094,542],"82":[262,353,175,235,353,498,1108,368,273,205,116,158,829,1062,1485,2034,1105,1416,1981,2713,898,1151,1610,2204,967,1239,1733,2374,760,974,1362,1865,622,797,1114,1526,691,885,1238,1696,483,620,867,1187,553],"83":[309,417,206,278,417,590,1310,435,323,242,137,186,844,1104,1577,2189,1125,1472,2102,2919,914,1196,1708,2372,984,1288,1839,2554,773,1012,1445,
2007,633,828,1182,1642,703,920,1314,1824,492,644,920,1277,563],"84":[336,454,224,302,454,641,1425,473,351,263,149,203,852,1126,1624,2271,1136,1501,2166,3028,923,1220,1760,2460,994,1313,1895,2650,781,1032,1489,2082,639,844,1218,1703,710,938,1354,1893,497,657,948,1325,568],"85":[362,489,241,326,489,691,1533,509,378,284,160,218,858,1145,1668,2346,1145,1527,2224,3128,930,1241,1807,2542,1002,1336,1946,2737,787,1050,1529,2151,644,859,1251,1760,716,954,1390,1955,501,668,973,1369,573]},ra=[23.3107,24.1651,
24.7346,25.1143,25.3675,25.8738,27.1553,28.4368,29.7184,30.9999,32.2814,33.563,34.8445,37.1915,39.6652,42.2657,44.993,47.847,50.8277,53.9353,58.8846,64.1624,69.78,75.7488,82.0803,88.7858,95.8768,103.365,111.261,119.577,128.323,137.513,147.156,157.265,167.85,178.923,190.496,202.58,215.187,228.327,237.558,246.991,256.628,266.467,276.51,286.755,297.203,307.853,318.707,329.763,341.022,352.484,364.149,376.016,388.086,400.36,412.835,425.514,478.257,491.95,512.169,532.943,554.279,576.187,598.672,621.743,
645.407,669.673,694.546,720.036,746.15,772.895,800.278,828.309,856.993,886.339,916.355,947.048,978.425,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,34.6214,35.4356,35.5984,35.8589,36.038,36.2139,36.3562,36.4902,37.8794,38.6922,39.413,40.0417,40.5784,42.3805,44.1849,45.9759,47.738,49.4556,51.1132,52.6953,54.4846,56.2322,57.9299,59.5701,61.1453,62.6485,64.0733,65.4135,66.6632,67.8171,
70.2758,72.7271,75.1662,77.5882,79.9881,82.3611,84.7021,87.0064,89.2691,91.4851,94.5168,97.5646,100.626,103.699,106.78,109.868,112.959,116.052,119.144,122.232,125.314,128.387,131.45,134.499,137.532,140.547,143.541,293.024,327.008,332.962,354.075,375.985,398.707,422.256,446.646,471.89,498.002,524.997,552.889,581.691,611.418,642.083,673.701,706.285,739.849,774.407,809.974,846.562,884.185,922.858,943.72,964.814,986.142,1007.7,1029.49,1051.52,1073.77,1096.26,1118.98,1141.93,1165.11,1188.51,1212.15,1236.02,
1260.12,1284.45,1309,1333.79,1358.8,1384.04,5.2216,5.7727,6.27696,6.74717,7.1928,7.72152,8.5082,9.33304,10.196,11.0972,12.0365,13.0139,14.0295,15.5282,17.1514,18.9051,20.7947,22.826,25.0047,27.3363,29.7556,32.3265,35.0535,37.9411,40.9935,44.215,47.6099,51.1823,54.9364,58.8762,63.0058,67.3291,71.8499,76.5723,81.4999,86.6366,91.9859,97.5516,103.337,109.346,116.451,123.889,131.668,139.798,148.289,157.15,166.392,176.025,186.057,196.501,207.366,218.662,230.4,242.591,255.245,268.373,281.986,296.095,338.963,
355.055,376.742,399.409,423.086,447.802,473.588,500.474,528.491,557.67,588.043,619.643,652.502,686.653,722.129,758.966,797.196,836.855,877.979,920.602,964.762,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,37.2971,38.6641,39.5754,40.1829,40.588,41.398,43.4485,45.4989,47.5494,49.5998,51.6503,53.7007,55.7512,59.5064,63.4644,67.6252,71.9888,76.5552,81.3244,86.2964,90.3279,94.4277,98.5882,
102.802,107.061,111.358,115.686,120.036,124.402,128.775,133.148,137.513,141.863,146.19,150.486,154.745,158.957,163.117,167.215,171.245,182.128,193.477,205.302,217.615,230.425,243.742,257.576,271.937,286.836,302.283,318.287,334.86,352.01,369.749,388.086,407.032,426.597,446.79,510.141,532.946,552.215,571.938,592.122,612.77,633.888,655.481,677.554,700.112,723.161,746.704,770.748,795.297,820.357,845.932,872.028,898.65,925.802,953.49,981.719,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,
1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,22.555,22.8271,22.8815,22.9686,23.0284,23.0872,23.1348,23.1796,23.5733,23.9155,24.209,24.4536,24.6495,25.7049,26.7761,27.8523,28.923,29.9776,31.0057,31.9966,33.6486,35.3325,37.0434,38.7764,40.5265,42.2887,44.0578,45.8288,47.5965,49.3556,52.144,55.0287,58.0102,61.0891,64.2659,67.5409,70.9147,74.3878,77.9607,81.6337,84.8264,88.0704,91.3642,94.7066,98.0965,101.533,105.013,108.538,112.105,115.713,119.361,
123.047,126.771,130.531,134.326,138.154,142.015,291.813,328.421,336.625,355.277,374.585,394.558,415.208,436.546,458.581,481.326,504.79,528.985,553.92,579.607,606.055,633.277,661.281,690.078,719.679,750.095,781.334,813.409,846.328,865.675,885.235,905.007,924.992,945.189,965.597,986.215,1007.04,1028.08,1049.33,1070.78,1092.45,1114.32,1136.39,1158.68,1181.16,1203.86,1226.75,1249.85,1273.16,23.3107,24.1651,24.7346,25.1143,25.3675,25.8738,27.1553,28.4368,29.7184,30.9999,32.2814,33.563,34.8445,37.1915,
39.6652,42.2657,44.993,47.847,50.8277,53.9353,58.8846,64.1624,69.78,75.7488,82.0803,88.7858,95.8768,103.365,111.261,119.577,128.323,137.513,147.156,157.265,167.85,178.923,190.496,202.58,215.187,228.327,235.578,242.875,250.212,257.585,264.988,272.417,279.866,287.33,294.804,302.283,309.762,317.236,324.699,332.148,339.576,346.978,354.35,361.687,402.533,409.958,432.076,454.951,478.595,503.02,528.24,554.267,581.114,608.793,637.318,666.7,696.953,728.089,760.121,793.062,826.923,861.719,897.461,934.163,971.836,
1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,30.0793,30.7255,30.8547,31.0615,31.2037,31.3433,31.4562,31.5626,32.6485,33.3104,33.8949,34.4021,34.832,36.3846,37.9444,39.4977,41.0304,42.5288,43.9789,45.367,46.6013,47.7707,48.8674,49.8842,50.8144,51.6517,52.3907,53.0262,53.5537,53.9691,55.3766,56.7193,57.9908,59.1841,60.2929,61.3102,62.2297,63.0445,63.7481,64.3338,66.6823,69.059,71.4627,
73.892,76.3458,78.8229,81.3219,83.8416,86.3809,88.9384,91.5129,94.1033,96.7081,99.3263,101.957,104.598,107.248,219.815,246.45,251.971,274.168,297.331,321.476,346.622,372.788,399.993,428.254,457.591,488.021,519.562,552.234,586.053,621.039,657.21,694.583,733.177,773.01,814.099,856.463,900.12,920.54,941.187,962.061,983.161,1004.49,1026.04,1047.82,1069.82,1092.05,1114.5,1137.18,1160.08,1183.2,1206.55,1230.12,1253.91,1277.92,1302.15,1326.61,1351.28,31.0214,31.4306,31.5124,31.6433,31.7334,31.8217,31.8933,
31.9606,32.5713,33.0673,33.4947,33.8535,34.1437,35.6445,37.1693,38.7032,40.231,41.7376,43.208,44.6273,46.8581,49.1244,51.4189,53.7345,56.064,58.4003,60.7361,63.0644,65.378,67.6698,71.3599,75.1661,79.0884,83.1267,87.2807,91.5504,95.9356,100.436,105.052,109.783,113.1,116.4,119.677,122.928,126.146,129.329,132.47,135.565,138.61,141.599,144.529,147.394,150.189,152.911,155.554,158.114,160.585,325.929,362.339,366.621,384.399,402.743,421.66,441.159,461.248,481.937,503.232,525.144,547.679,570.847,594.656,
619.113,644.228,670.008,696.462,723.597,751.422,779.945,809.174,839.117,858.338,877.77,897.413,917.266,937.33,957.603,978.085,998.776,1019.67,1040.78,1062.09,1083.61,1105.33,1127.26,1149.39,1171.72,1194.26,1217,1239.94,1263.08,32.2214,32.7267,32.8278,32.9895,33.1006,33.2098,33.2981,33.3813,34.1745,34.7479,35.2466,35.6706,36.0198,37.5977,39.1938,40.7928,42.3796,43.939,45.4558,46.9148,48.8949,50.8768,52.8527,54.8151,56.7566,58.67,60.5484,62.3851,64.1734,65.907,68.9589,72.0684,75.233,78.4502,81.7176,
85.0327,88.393,91.7962,95.2397,98.7212,101.446,104.135,106.785,109.391,111.947,114.45,116.894,119.274,121.587,123.827,125.989,128.069,130.062,131.964,133.769,135.473,137.072,277.12,306.629,308.962,328.7,349.192,370.449,392.487,415.318,438.956,463.412,488.702,514.837,541.831,569.697,598.448,628.097,658.656,690.139,722.558,755.927,790.257,825.563,861.855,881.517,901.397,921.494,941.807,962.336,983.08,1004.04,1025.21,1046.6,1068.2,1090.02,1112.04,1134.28,1156.73,1179.39,1202.26,1225.35,1248.64,1272.13,
1295.84,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,25.7771,26.4755,26.6152,26.8387,26.9923,27.1432,27.2653,27.3802,28.5971,29.2692,29.8687,30.3957,30.8502,32.1517,33.4634,34.773,36.0683,37.3369,38.5667,39.7455,41.294,42.8351,44.3625,45.8701,47.3519,48.8023,50.2157,51.5869,52.9107,54.1822,56.5272,58.9058,61.3156,63.7541,66.2189,68.7075,71.2174,
73.7463,76.2916,78.851,81.422,84.0022,86.5891,89.1804,91.7735,94.3661,96.9557,99.5399,102.116,104.683,107.236,109.775,112.296,114.797,117.276,119.73,122.157,249.109,277.898,282.633,303.65,325.525,348.274,371.914,396.46,421.927,448.333,475.691,504.019,533.332,563.645,594.974,627.334,660.742,695.212,730.76,767.402,805.152,844.027,884.04,904.113,924.408,944.926,965.665,986.626,1007.81,1029.21,1050.83,1072.68,1094.74,1117.02,1139.52,1162.24,1185.17,1208.33,1231.7,1255.28,1279.08,1303.1,1327.33,3,3,4,
4,5,5,6,7,7,8,8,9,9,10,11,11,12,12,13,14,14,15,15,16,17,17,18,18,19,20,20,21,21,22,23,23,24,24,25,26,26,27,27,28,28,29,30,30,31,31,32,33,33,34,34,35,36,36,37,37,54,55,56,57,59,60,61,63,68,70,89,93,96,100,104,107,112,116,120,125,305,338,375,407,443,1083,1200,1330,1446,1573,3847,4262,4722,5135,5584,13659,15134,16767,18234,19829],Ta=[["Consumable",["Consumable","Potion","Elixir","Flask","Scroll","Food & Drink","Item Enhancement","Bandage","Other"]],["Container",["Bag","Soul Bag","Herb Bag","Enchanting Bag",
"Engineering Bag","Gem Bag","Mining Bag","Leatherworking Bag","Inscription Bag","Tackle Box"]],["Weapon",["One-Handed Axes","Two-Handed Axes","Bows","Guns","One-Handed Maces","Two-Handed Maces","Polearms","One-Handed Swords","Two-Handed Swords","Obsolete","Staves","One-Handed Exotics","Two-Handed Exotics","Fist Weapons","Miscellaneous","Daggers","Thrown","Spears","Crossbows","Wands","Fishing Poles"]],["Gem",["Red","Blue","Yellow","Purple","Green","Orange","Meta","Simple","Prismatic","Hydraulic","Cogwheel"]],
["Armor",["Miscellaneous","Cloth","Leather","Mail","Plate","Bucklers","Shields","Librams","Idols","Totems","Sigils","Relic"]],["Reagent",["Reagent"]],["Projectile",["Wand(OBSOLETE)","Bolt(OBSOLETE)","Arrow","Bullet","Thrown(OBSOLETE)"]],["Trade Goods",["Trade Goods","Parts","Explosives","Devices","Jewelcrafting","Cloth","Leather","Metal & Stone","Meat","Herb","Elemental","Other","Enchanting","Materials","Item Enchantment","Weapon Enchantment - Obsolete"]],["Generic(OBSOLETE)",["Generic(OBSOLETE)"]],
["Recipe",["Book","Leatherworking","Tailoring","Engineering","Blacksmithing","Cooking","Alchemy","First Aid","Enchanting","Fishing","Jewelcrafting","Inscription"]],["Money",["Money(OBSOLETE)"]],["Quiver",["Quiver(OBSOLETE)","Quiver(OBSOLETE)","Quiver","Ammo Pouch"]],["Quest",["Quest"]],["Key",["Key","Lockpick"]],["Permanent(OBSOLETE)",["Permanent"]],["Miscellaneous",["Junk","Reagent","Pet","Holiday","Other","Mount"]],["Glyph",{"1":"Warrior","2":"Paladin","3":"Hunter","4":"Rogue","5":"Priest","6":"Death Knight",
"7":"Shaman","8":"Mage","9":"Warlock","11":"Druid"}]],Ua={"164":[164,"Schmiedekunst","Eine hohe Schmiedefertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schmiedepl\u00e4ne zu benutzen. Pl\u00e4ne k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schmiedepl\u00e4ne oder Ihr erhaltet sie als Questbelohnung.",[]],"165":[165,"Lederverarbeitung","Eine hohe Lederverarbeitungsfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schnittmuster zu benutzen. Muster k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schnittmuster oder Ihr erhaltet sie als Questbelohnung.",
[]],"171":[171,"Alchemie","Eine hohe Alchemiefertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Rezepte zu benutzen. Alchemierezepte k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Rezepte oder Ihr erhaltet sie als Questbelohnung.",[]],"182":[182,"Kr\u00e4uterkunde","Eine hohe Kr\u00e4uterkundefertigkeit erm\u00f6glicht es Euch, schwierigere Kr\u00e4uter zu ernten. Wenn Ihr ein bestimmtes Kraut nicht ernten k\u00f6nnt, steigert Eure Kr\u00e4uterkundefertigkeit, indem Ihr in niedrigstufigeren Gebieten leichtere Kr\u00e4uter erntet.",
[[22119,[81708,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],f,0,0,[0,12E4,0],[[0,10,0,0,11,0,0,26,0,0,0,0,0,68781],[0,6,189,0,5,0,0,0,917504,0,0,0,0,87571],f],f,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 5 haste rating for $time(20). Can be used while stealthed or invisible.",
i,f,f,[0,32,16384,0,0,0,0,0,0,0],f,f,f,0],0,0,1,55428],[19355,[55428,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],f,0,0,[0,12E4,0],[[0,10,0,0,29,0,0,61,0,0,0,0,0,48361],[0,6,189,0,15,0,0,0,917504,0,0,0,0,87572],f],f,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 15 haste rating for $time(20). Can be used while stealthed or invisible.",
i,f,f,[0,32,16384,0,0,0,0,0,0,0],f,f,f,0],0,0,75,55480],[19356,[55480,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],f,0,0,[0,12E4,0],[[0,10,0,0,47,0,0,97,0,0,0,0,0,48439],[0,6,189,0,35,0,0,0,917504,0,0,0,0,87573],f],f,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 35 haste rating for $time(20). Can be used while stealthed or invisible.",
i,f,f,[0,32,16384,0,0,0,0,0,0,0],f,f,f,0],0,0,150,55500],[19357,[55500,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],f,0,0,[0,12E4,0],[[0,10,0,0,71,0,0,145,0,0,0,0,0,48442],[0,6,189,0,55,0,0,0,917504,0,0,0,0,87574],f],f,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 55 haste rating for $time(20). Can be used while stealthed or invisible.",
i,f,f,[0,32,16384,0,0,0,0,0,0,0],f,f,f,0],0,0,225,55501],[19358,[55501,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],f,0,0,[0,12E4,0],[[0,10,0,0,89,0,0,181,0,0,0,0,0,48443],[0,6,189,0,70,0,0,0,917504,0,0,0,0,87575],f],f,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 70 haste rating for $time(20). Can be used while stealthed or invisible.",
i,f,f,[0,32,16384,0,0,0,0,0,0,0],f,f,f,0],0,0,300,55502],[19359,[55502,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],f,0,0,[0,12E4,0],[[0,10,0,0,119,0,0,241,0,0,0,0,0,48444],[0,6,189,0,120,0,0,0,917504,0,0,0,0,87576],f],f,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 120 haste rating for $time(20). Can be used while stealthed or invisible.",
i,f,f,[0,32,16384,0,0,0,0,0,0,0],f,f,f,0],0,0,375,55503],[19360,[55503,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],f,0,0,[0,12E4,0],[[0,10,0,0,359,0,0,721,0,0,0,0,0,48445],[0,6,189,0,240,0,0,0,917504,0,0,0,0,87577],f],f,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 240 haste rating for $time(20). Can be used while stealthed or invisible.",
i,f,f,[0,32,16384,0,0,0,0,0,0,0],f,f,f,0],0,0,450,74497],[21619,[74497,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],f,0,0,[0,12E4,0],[[0,10,0,0,719,0,0,1441,0,0,0,0,0,74358],[0,6,189,0,480,0,0,0,917504,0,0,0,0,87594],f],f,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 480 haste rating for $time(20). Can be used while stealthed or invisible.",
i,f,f,[0,32,16384,0,0,0,0,0,0,0],f,f,f,0],0,0,525,0]]],"186":[186,"Bergbau","Eine hohe Bergbaufertigkeit erm\u00f6glicht es Euch, schwierigere Erzvorkommen abzubauen. Wenn Ihr ein bestimmtes Erzvorkommen nicht abbauen k\u00f6nnt, steigert Eure Bergbaufertigkeit, indem Ihr in niedrigstufigeren Gebieten leichtere Erzvorkommen abbaut.",[[17987,[53120,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],
f,0,0,f,[[0,6,29,0,3,0,0,0,2,0,0,0,0,45755],f,f],f,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 3.",i,f,f,[80,0,0,0,0,0,0,0,0,0],f,f,f,0],0,0,75,53121],[17988,[53121,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],f,0,0,f,[[0,6,29,0,5,0,0,0,2,0,0,0,0,45756],f,f],f,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 5.",
i,f,f,[80,0,0,0,0,0,0,0,0,0],f,f,f,0],0,0,150,53122],[17989,[53122,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],f,0,0,f,[[0,6,29,0,7,0,0,0,2,0,0,0,0,45757],f,f],f,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 7.",i,f,f,[80,0,0,0,0,0,0,0,0,0],f,f,f,0],0,0,225,53123],[17990,[53123,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.",
"ability_golemthunderclap",0,[0,0,0,0],f,0,0,f,[[0,6,29,0,10,0,0,0,2,0,0,0,0,45758],f,f],f,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 10.",i,f,f,[80,0,0,0,0,0,0,0,0,0],f,f,f,0],0,0,300,53124],[17991,[53124,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],f,0,0,f,[[0,6,29,0,30,0,0,0,2,0,0,0,0,45759],f,f],f,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 30.",
i,f,f,[80,0,0,0,0,0,0,0,0,0],f,f,f,0],0,0,375,53040],[17984,[53040,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],f,0,0,f,[[0,6,29,0,60,0,0,0,2,0,0,0,0,45636],f,f],f,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 60.",i,f,f,[80,0,0,0,0,0,0,0,0,0],f,f,f,0],0,0,450,74496],[21618,[74496,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.",
"ability_golemthunderclap",0,[0,0,0,0],f,0,0,f,[[0,6,29,0,120,0,0,0,2,0,0,0,0,74357],f,f],f,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 120.",i,f,f,[80,0,0,0,0,0,0,0,0,0],f,f,f,0],0,0,525,0]]],"197":[197,"Schneiderei","Eine hohe Schneiderfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schnittmuster zu benutzen. Muster k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schnittmuster oder Ihr erhaltet sie als Questbelohnung.",
[]],"202":[202,"Ingenieurskunst","Eine hohe Ingenieursfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Baupl\u00e4ne zu benutzen. Baupl\u00e4ne k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Baupl\u00e4ne oder Ihr erhaltet sie als Questbelohnung.",[]],"333":[333,"Verzauberkunst","Eine hohe Verzauberungsfertigkeit erm\u00f6glicht es Euch, m\u00e4chtigere Formeln zu benutzen. Verzauberungsformeln k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben und auch bei toten Gegnern und beim Questen finden.",
[]],"393":[393,"K\u00fcrschnerei","Eine hohe K\u00fcrschnerfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Monster zu h\u00e4uten. Sobald Euer Fertigkeitswert 100 \u00fcbersteigt, ist die maximale Stufe der Monster, die Ihr h\u00e4uten k\u00f6nnt, Euer Fertigkeitswert geteilt durch 5.",[[17993,[53125,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],f,0,0,f,[[0,6,189,
0,3,0,0,0,1792,0,0,0,0,45760],f,f],f,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 3.",i,f,f,[80,0,0,0,0,0,0,0,0,0],f,f,f,0],0,0,75,53662],[18277,[53662,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],f,0,0,f,[[0,6,189,0,6,0,0,0,1792,0,0,0,0,46349],f,f],f,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 6.",
i,f,f,[80,0,0,0,0,0,0,0,0,0],f,f,f,0],0,0,150,53663],[18278,[53663,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],f,0,0,f,[[0,6,189,0,9,0,0,0,1792,0,0,0,0,46350],f,f],f,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 9.",i,f,f,[80,0,0,0,0,0,0,0,0,0],f,f,f,0],0,0,225,53664],[18279,[53664,"Master of Anatomy",
"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],f,0,0,f,[[0,6,189,0,12,0,0,0,1792,0,0,0,0,46351],f,f],f,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 12.",i,f,f,[80,0,0,0,0,0,0,0,0,0],f,f,f,0],0,0,300,53665],[18280,[53665,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.",
"inv_misc_organ_01",0,[0,0,0,0],f,0,0,f,[[0,6,189,0,20,0,0,0,1792,0,0,0,0,46352],f,f],f,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 20.",i,f,f,[80,0,0,0,0,0,0,0,0,0],f,f,f,0],0,0,375,53666],[18281,[53666,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],f,0,0,f,[[0,6,189,0,40,0,0,0,1792,0,0,0,0,46353],f,
f],f,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 40.",i,f,f,[80,0,0,0,0,0,0,0,0,0],f,f,f,0],0,0,450,74495],[21617,[74495,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],f,0,0,f,[[0,6,189,0,80,0,0,0,1792,0,0,0,0,74356],f,f],f,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 80.",
i,f,f,[80,0,0,0,0,0,0,0,0,0],f,f,f,0],0,0,525,0]]],"755":[755,"Juwelenschleifen","Eine hohe Juwelenschleiferfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Vorlagen zu benutzen. Vorlagen bekommt Ihr bei allen Juwelierskunstlehrern, von toten Gegnern und als Questbelohnung.",[]],"773":[773,"Inschriftenkunde","Eine h\u00f6here Inschriftenfertigkeit erm\u00f6glicht es Euch, fortgeschrittenere Inschriften zu erlernen. Inschriften k\u00f6nnt Ihr bei den gelehrten Schreibern \u00fcberall in der Welt erwerben.",
[]]};var Va=f;function C(a,b){if(!a){Wa("TextIO.sprintf: Called with empty or no String");return b.join(" ")}var c;for(c=0;c<b.length;c++){if(a.search(/\$/)==-1){for(Wa("TextIO.sprintf: Format parameter count did not match (Expected: "+b.length+", found: "+c+")");c<b.length;c++)a+=" "+b[c];break}a=a.replace(/\$/,b[c])}return a}
function D(a,b){if(!a){Wa("TextIO.sprintf: Called with empty or no String");return String(b)}if(a.search(/\$/)==-1&&b){Wa("TextIO.sprintf: Format parameter count did not match (Expected: 1, found: 0)");return a}return a.replace(/\$/,String(b))}function E(a){var b="?",c,d,g=0;for(c in a){if(g>0)b+="&";b+=c;d=a[c];if(d!=="")b+="="+encodeURIComponent(String(d));g++}return b}function Wa(a){Va&&Va.appendChild(document.createTextNode(a))}function Xa(a){Wa("Error code: "+a)}
function Ya(a,b){if(!a)return[""];var c,d,g;for(g=a;d=a.match(/\$(\?.*)$/i);){a=a.replace(d[0],Za(d[1],b?b.da:f));if(a==g)break;g=a}a=a.replace(/\$G(\w+):(\w+);/i,"$1 / $2");if(b){d=b.g;g=b.z;a=a.replace(/\$pl\b/gi,String(b.j));a=a.replace(/\$max\b/gi,"Math.max");a=a.replace(/\$hnd\b/gi,g.H(16)?g.H(16).ta==17&&f==g.H(17)?"2":"1":"1");a=a.replace(/\$ap\b/gi,String(Math.floor(d.cb)));a=a.replace(/\$rap\b/gi,String(Math.floor(d.nc)));a=a.replace(/\$ar\b/gi,String(Math.floor(d.Da[0])));a=a.replace(/\$sp\b/gi,
String(Math.floor(d.n[0])));a=a.replace(/\$MWS\b/gi,$a(d.Ib,2));a=a.replace(/\$z\b/gi,"[Location]")}else{a=a.replace(/\$pl\b/gi,"[Player Level]");a=a.replace(/\$max\b/gi,"[Maximum]");a=a.replace(/\$hnd\b/gi,"[Hands]");a=a.replace(/\$ap\b/gi,"[AP]");a=a.replace(/\$rap\b/gi,"[rAP]");a=a.replace(/\$ar\b/gi,"[Armor]");a=a.replace(/\$sph\b/gi,"[SpDmg Holy]");a=a.replace(/\$spn\b/gi,"[SpDmg Nature]");a=a.replace(/\$spfr\b/gi,"[SpDmg Frost]");a=a.replace(/\$spfi\b/gi,"[SpDmg Fire]");a=a.replace(/\$sps\b/gi,
"[SpDmg Shadow]");a=a.replace(/\$spa\b/gi,"[SpDmg Arcane]");a=a.replace(/\$sp\b/gi,"[SpDmg]");a=a.replace(/\$MWS\b/gi,"[Wpn Speed]");a=a.replace(/\$mwb\b/g,"[Wpn minDmg]");a=a.replace(/\$MWB\b/g,"[Wpn maxDmg]");a=a.replace(/\$rwb\b/g,"[rWpn minDmg]");a=a.replace(/\$RWB\b/g,"[rWpn maxDmg]");a=a.replace(/\$mw\b/g,"[Wpn minDmg]");a=a.replace(/\$MW\b/g,"[Wpn maxDmg]");a=a.replace(/\$z/gi,"[Location]")}for(;c=a.match(/\$?\{([^{]*)\}(?:\.([\d]*))?/);)try{a=a.replace(c[0],function(){return Math.abs(F.floor(parseFloat(eval("("+
c[1]+")")),c[2]?parseInt(c[2],10):0))})}catch(h){a=a.replace(c[0],"<span class='yellow'>"+c[1]+"</span>")}return a.split("|")}function ab(a,b){var c="",d="";c="";var g,h=a.match(/^\?(!?)(a|s)(\d+)(.+)?$/i);if(!h)return["",a];g=bb(h[4],b);c=g[0];g=bb(g[1],b);d=g[0];if(h[1]=="!"){var j=c;c=d;d=j}c=b!=f&&b.lb(h[3])?c:d;return[c,g[1]]}function bb(a,b){var c=a.match(/^(?:(\[([^\]]*)\])|(\?))(.*)$/i);if(c[1])return[c[2],c[4]];return ab(a,b)}function Za(a,b){var c=ab(a,b);return c[0]+c[1]}
function cb(a,b){if(a>0)return C(locale.ydRange2,[a,b]);return D(locale.ydRange,b)}function $a(a,b){var c="";for(a=Math.round(a*Math.pow(10,b));b>0;b--)if(a%10==0){c="0"+c;a/=10}else break;if(b==0)return Math.floor(a)+"."+c;return Math.floor(a)/Math.pow(10,b)+c}function G(a){var b;a=Math.round(a*100);b=a%10+"";a/=10;b=Math.floor(a%10)+b;return b=Math.floor(a/10)+"."+b}function db(a){a=Math.round(a*10);return Math.floor(a/10)+"."+a%10}
function eb(a){a=Math.round(a*10)/10;return a%3600==0?a/3600+" "+locale.h:a%60==0?a/60+" "+locale.m:a+" "+locale.s};var H={};H.kk=function(a,b){var c=f,d="";if(a.status==200)if(a.getResponseHeader("error"))d=a.responseText;else try{c=eval("("+a.responseText+")")}catch(g){d=g.name+": "+g.message}else d=D(fb,a.status);t(b,[c,d])};H.zk=function(a,b,c){var d=f,g="";if(a.status==200)if(a.getResponseHeader("error"))g=a.responseText;else try{d=eval("("+a.responseText+")");c.Wg=gb(c)}catch(h){g=h.name+": "+h.message}else g=D(fb,a.status);t(b,[d,g])};
H.Tn=function(a,b,c,d){K("php/interface/profiles/get_armory_profile.php"+E({name:a,server:b,region:c}),new p(H.kk,H),[d])};H.Ao=function(a,b,c,d){K("php/interface/profiles/set_profile.php"+E({id:0,name:a,password:MD5(b),serialized:JSON.stringify(gb(c))}),new p(H.zk,H),[d,c])};H.Pk=function(a,b,c){K("php/interface/profiles/set_profile.php"+E({id:a,session_id:g_settings.sessionId,serialized:JSON.stringify(gb(b))}),new p(H.zk,H),[c,b])};
H.Un=function(a,b){K("php/interface/profiles/get_profile.php"+E({id:a}),new p(H.kk,H),[b])};H.Sm=function(a,b){K("php/interface/profiles/delete_profile.php"+E({id:a}),b,[a])};var L={};L.Do="DatabaseIO: Error - ";L.Tm=function(a,b,c){K("php/interface/get_character_class.php"+E({"class":a,lang:g_settings.language}),new p(L.Um,L),[b,c])};L.Um=function(a,b,c){var d=f;if(a.status==200)(d=parseInt(a.getResponseHeader("error"),10))?Xa(d):hb(b,new ib(eval("("+a.responseText+")")));c&&t(c,[d])};L.Vm=function(a,b,c){K("php/interface/get_character_race.php"+E({race:a,lang:g_settings.language}),new p(L.Wm,L),[b,c])};
L.Wm=function(a,b,c){var d=f;if(a.status==200)if(d=parseInt(a.getResponseHeader("error"),10))Xa(d);else{a=new jb(b,eval("("+a.responseText+")"));b.Na=a;hb(b,f);b.C.uh.update()}c&&t(c,[d])};L.eo=function(a,b,c,d,g,h,j){K("php/interface/user/save_stat_weights.php"+E({name:b,description:c,chr_class_mask:h,"public":d?1:0,serialized:JSON.stringify(a),overwrite:g?1:0}),new p(L.fo,L),[j])};
L.fo=function(a,b){var c="",d=i;if(a.status==200){d=eval("("+a.responseText+")");c=d[0];d=d[1]}else c="Wrong HTTP Response code: "+a.status;b&&t(b,[c,d])};L.Zn=function(a,b,c){K("php/interface/user/remove_stat_weights.php"+E({name:b,user_id:a}),new p(L.$n,L),[c])};L.$n=function(a,b){var c="";c=a.status==200?eval("("+a.responseText+")"):"Wrong HTTP Response code: "+a.status;b&&t(b,[c])};function kb(a){if(a==1)return 64;else if(a==2)return 297;else if(a==4)return 308;else if(a==8)return 282;else if(a==32)return 1024;return 319}function lb(a,b){if(b>=75)return 6;if(a==165||a==182||a==186){if(b>=55)return 5;if(b>=40)return 4;if(b>=25)return 3;if(b>=10)return 2;return 1}if(b>=65)return 5;if(b>=50)return 4;if(b>=35)return 3;if(b>=20)return 2;if(b>=10)return 1;if(b>=5)return 0;return-1}function mb(a,b){var c=lb(a,b);if(c<0)return 0;return(c+1)*75};function M(a,b,c,d,g){function h(j){g?c.apply(d,g):c.apply(d,[j])}if(document.addEventListener)a.addEventListener(b,h,i);else document.attachEvent&&a.attachEvent("on"+b,h)}function nb(a,b,c){if(document.addEventListener)a.addEventListener("click",function(){t(b,c)},i);else document.attachEvent&&a.attachEvent("onclick",function(){t(b,c)})};var F={};F.yo=function(a){if(a<0)a=~a+1;return a};F.Lo=function(a){return(""+a).replace(/\\/ig,"\\\\").replace(/\'/ig,"\\'").replace(/"/ig,'"')};F.La=function(a){var b=document.createElement("div");b.style.clear="both";a.appendChild(b)};F.xa=function(a){if(a)for(;a.firstChild;)a.removeChild(a.firstChild)};F.So=function(a,b){var c;if(a){for(;a.firstChild;)a.removeChild(a.firstChild);for(c=0;c<b.length;c++)b[c]&&a.appendChild(b[c])}};F.Io=function(a,b){var c;if(a)for(c=0;c<b.length;c++)b[c]&&a.appendChild(b[c])};
F.ba=function(a,b){if(a){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(b)}};F.To=function(a,b,c,d,g){c=F.floor(c,g);d=F.floor(d,g);if(c==d)F.xa(a);else{F.ba(b,document.createTextNode("["+c+"]"));a.className=c>d?"compare_green":"compare_red"}F.ba(b,document.createTextNode(d))};F.floor=function(a,b){if(b)return Math.floor(Math.pow(10,b)*a)/Math.pow(10,b);return Math.floor(a)};F.ceil=function(a,b){if(b)return Math.ceil(Math.pow(10,b)*a)/Math.pow(10,b);return Math.ceil(a)};
F.f=function(a){return"<tr><td colspan='2'>"+a+"</td></tr>"};F.kb=function(a,b){return"<tr><td vAlign='bottom'>"+a+"</td><td vAlign='bottom' style='white-space:nowrap; padding-left:50px' align='right'>"+b+"</td></tr>"};F.Ko=function(a){document.body.appendChild(document.createTextNode(a));document.body.appendChild(document.createElement("br"))};var ob=[{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1},{x:0,y:-1},{x:0,y:1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:0}];
F.outline=function(a){for(var b=[],c=document.createElement("div"),d=0;d<9;d++){b[d]=document.createElement("div");b[d].innerHTML=a;b[d].style.position="absolute";b[d].style.textAlign="right";b[d].style.top=ob[d].y+"px";b[d].style.right=ob[d].x+"px";b[d].style.zIndex=d;c.appendChild(b[d]);switch(d){case 8:b[d].style.color="#FFFFFF";break;default:b[d].style.color="#000000"}}c.style.position="relative";return c};
F.wj=function(a,b){b["default"]||ba("Default css class missing!");a.className=b["default"];a.Yh=i;if(b.focus){a.onfocus=function(){this.Yh=e;this.className=b["default"]+" "+b.focus};a.onblur=function(){this.Yh=i;this.className=b["default"]}}if(b.hover){a.onmouseover=b.focusHover?function(){this.className=this.Yh?b["default"]+" "+b.focusHover:b["default"]+" "+b.hover}:function(){this.className=b["default"]+" "+b.hover};a.onmouseout=function(){this.className=this.Yh?b["default"]+" "+b.focus:b["default"]}}};var pb=350;
function qb(){function a(m){for(var r=0,n=0,v=m.offsetWidth,s=m.offsetHeight;m!=f;){n+=m.offsetTop;r+=m.offsetLeft;m=m.offsetParent}return[r,n,v,s]}function b(m){if(g==f){h=document.createElement("div");g=document.createElement("div");g.className="tooltip_div";var r=new O(3,3);r.d[0][0].innerHTML="<div class='tt_bg_lt'></div>";r.d[0][1].className="tt_bg_t";r.d[0][2].innerHTML="<div class='tt_bg_rt'></div>";r.d[1][0].className="tt_bg_l";r.d[1][1].appendChild(h);h.className="tt_bg";r.d[1][2].className="tt_bg_r";
r.d[2][0].innerHTML="<div class='tt_bg_lb'></div>";r.d[2][1].className="tt_bg_b";r.d[2][2].innerHTML="<div class='tt_bg_rb'></div>";g.appendChild(r.b);document.body.appendChild(g)}g.style.width="";g.style.whiteSpace="nowrap";h.innerHTML=m;g.style.display="block";g.offsetWidth>pb&&c(pb)}function c(m){g.style.whiteSpace="normal";g.style.width=m+"px";if(g.firstChild.offsetWidth>m)g.style.width=g.firstChild.offsetWidth+"px"}function d(m,r){var n=P.Cg(),v=Math.max(document.documentElement.scrollTop,document.body.scrollTop);
if(g){if(r+g.offsetHeight>n[1]+v)r=n[1]+v-g.offsetHeight;if(m+g.offsetWidth>document.body.scrollLeft+document.body.offsetWidth)m-=g.offsetWidth+20}return[Math.max(0,m),Math.max(0,r)]}var g=f,h=f,j=0,k=0,q=0,x=0;this.Xd=document.createElement("div");this.Xd.className="tt_msg_c";this.Mo=function(){return pb};this.Bk=function(m){if(!m)m=window.event;if(document.all&&document.getElementById){q=m.clientX+document.documentElement.scrollLeft;x=m.clientY+document.documentElement.scrollTop}else{q=m.pageX;
x=m.pageY}};this.move=function(){var m=d(q+10,x+10);if(g){g.style.left=m[0]+"px";g.style.top=m[1]+"px"}};this.Nk=function(m,r,n,v,s){var u=m.q[r][n][v],z=u.N==0?f:u.Q[u.N-1],I=u.N==u.Aa?f:u.Q[u.N],Z=[],J="<table cellpadding='0px' cellspacing='0px'>",$=g_settings.isPlanner?R.l:f;if(z!=f){J+=F.f("<span class='tooltip_talent_name'>"+z.getName()+"</span>");J+=F.f("<span class='tooltip_talent_rank'>"+locale.Rank+" "+u.N+"/"+u.Aa+"</span>");J+=F.f(z.Ma($,1,[]));if(I!=f)J+=F.f("<div class='tooltip_talent_next_rank'>"+
locale.Nextrank+"</div>")}else J+=F.kb("<span class='tooltip_talent_name'>"+I.getName()+"</span>","<span class='tooltip_talent_rank'>"+locale.Rank+" "+u.N+"/"+u.Aa+"</span>");if(I!=f){for(z=0;z<3;z++){var Q=u.td[z];if(Q)if(Q.N!=Q.Aa)Z[Z.length]=Q.Aa>1?C(locale.requires_points_in,[Q.Aa,Q.getName()]):D(locale.requires_point_in,Q.getName())}if(m.Za[r]<n*5)Z[Z.length]=C(locale.requires_points_in_tree,[n*5,m.we[r]]);J+=F.f(I.Ma($,1,Z))}J+="</table>";m=a(s);b(J);rb(g,250);g.style.left=r==1&&v>1||r==2?m[0]-
g.offsetWidth-10+"px":m[0]+m[2]+10+"px";g.style.top=n>5?m[1]+m[3]-g.offsetHeight+"px":m[1]+"px"};this.uo=function(m,r){var n=a(r);b(m);n=d(n[0]+n[2]+10,n[1]);g.style.left=n[0]+"px";g.style.top=n[1]+"px"};this.qo=function(m){if(m!=f){b(m.Ma(void 0));this.move()}};this.Lk=function(m){b(R.l.z.k[m][0].Ma())};this.Mk=function(m){var r=ua.H(m),n=f;if(r){if(g_settings.isPlanner)n=R.l;b(r.Ma(n));this.move()}else{j=m;ua.Fd(m,new p(this.Mk,this),[m])}};this.Kk=function(m){var r=ua.H(m),n=f,v=-1;if(r){if(g_settings.isPlanner){n=
R.l;if(n!=f){v=n.C.Ha;v!=-1&&n.Gd(r,v,-1)}}b(r.Ma(n));this.move()}else{j=m;ua.Fd(m,new p(this.Mm,this),[m,v])}};this.so=function(m){var r=f,n=na[m.ta];if(g_settings.isPlanner){r=R.l;r!=f&&r.Gd(m,n,-1)}b(m.Ma(r));this.move()};this.xf=function(m){var r=y.H(m);if(r){b(r.Ma(g_settings.isPlanner?R.l:f));this.move()}else{k=m;y.Fd(m,new p(this.Nm,this),[m])}};this.gi=function(m){b(m.Ma(g_settings.isPlanner?R.l:f));this.move()};this.po=function(m){var r=y.H(m),n;if(r){if(R.ql&&R.l!=f){m=R.l;n=m.C.Ha;if(n!=
-1){m.z.tc();var v=m.z;if(v.k[n][0]!=f){var s=f;if(r!=f&&r.O[0]!=f&&r.O[0].Xb)s=r.O[0].Xb;v.zi=s;v.Li=sb(v.k[n][0],s);v.pd=n;v.yi=e}tb(m.kc,e);ub(m.C)}}b(r.Ma(g_settings.isPlanner?R.l:f));this.move()}else{k=m;y.Fd(m,new p(this.Km,this),[m])}};this.Km=function(m){if(m==k){k=0;this.xf(m)}};this.Nm=function(m){if(m==k){k=0;this.xf(m)}};this.Mm=function(m){if(m==j){j=0;this.Kk(m)}};this.fi=function(m){var r=ua.H(m),n=f,v=-1,s=-1;if(r){if(g_settings.isPlanner){n=R.l;s=R.w.Lb.Zb;if(n!=f){v=n.C.Ha;v!=-1&&
s!=-1&&n.Gd(r,v,s)}}b(r.Ma(n));this.move()}else{j=m;ua.Fd(m,new p(this.Lm,this),[m])}};this.Lm=function(m){if(m==j){j=0;this.fi(m)}};this.vo=function(m,r,n,v){var s=v.g,u="<table style='line-height:125%' class='tt_stat_text'>";switch(m){case 0:u+=F.f("<span class='tt_stat_title'>"+locale.CS_Stats[m][r]+" "+Math.floor(s.Sb[r])+"</span>");switch(r){case 0:u+=F.f(locale.TT_StatText.Health);break;case 1:u+=F.f(locale.TT_StatText.Mana);break;case 2:u+=F.f(locale.TT_StatText.Rage);break;case 3:u+=F.f(locale.TT_StatText.Energy);
break;case 4:u+=F.f(locale.TT_StatText.Focus);break;case 5:u+=F.f(locale.TT_StatText.RunicPower);break;case 6:u+=F.f(locale.TT_StatText.ItemLevel)}break;case 1:var z=Math.floor(s.De[r]),I=Math.floor(s.R[r]),Z=I-z,J=Math.floor(s.Gg[r]),$=Math.floor(s.Jh[r]),Q=Math.round(s.Kf[r]*100)/100,aa=Math.round(s.Mh[r]*100)/100;u+=F.f("<span class='tt_stat_title'>"+locale.CS_Stats[m][r]+" "+I+(Z>0?" ("+z+"+<span class='green'>"+Z+"</span>)":"")+"</span>");if((r==3||r==4)&&!vb(v))u+=F.f("<span class='tt_stat_no_benefit'>"+
locale.TT_StatText.NoBenefit+"</span>");else{v="";if(r==2)v+=(v?"<br />":"")+D(locale.TT_StatText.IncreasesHealth,Math.floor(s.Pg));else if(r==3)v+=(v?"<br />":"")+D(locale.TT_StatText.IncreasesMana,Math.floor(s.Zg));else if(r==4)v+=(v?"<br />":"")+D(locale.TT_StatText.IncreasesManaRegen,Math.floor(s.$g));if(J>0)v+=(v?"<br />":"")+D(locale.TT_StatText.IncreasesAP,J);if($>0)v+=(v?"<br />":"")+D(locale.TT_StatText.IncreasesSP,$);if(Q>0)v+=(v?"<br />":"")+D(locale.TT_StatText.IncreasesCrit,G(Q));if(aa>
0)v+=(v?"<br />":"")+D(locale.TT_StatText.IncreasesSpellCrit,G(aa));if(v)u+=F.f(v)}break;case 2:switch(r){case 0:u+=F.f("<span class='tt_stat_title'>"+locale.TT_StatTitle.MainHand+"</span>");u+=F.kb(locale.TT_StatText.AttackSpeed,$a(s.Ib/1E3,2));u+=F.kb(locale.TT_StatText.Damage,Math.floor(s.Vb)+" - "+Math.ceil(s.Ub));u+=F.kb(locale.TT_StatText.DamagePerSecond,$a(s.Ji,1));if(s.gc>0){u+=F.f("<div style='padding:5px'></div>");u+=F.f("<span class='tt_stat_title'>"+locale.TT_StatTitle.OffHand+"</span>");
u+=F.kb(locale.TT_StatText.AttackSpeed,$a(s.gc/1E3,2));u+=F.kb(locale.TT_StatText.Damage,Math.floor(s.Ec)+" - "+Math.ceil(s.Dc));u+=F.kb(locale.TT_StatText.DamagePerSecond,$a(s.Ki,1))}break;case 1:u+=F.f("<span class='tt_stat_title'>"+locale.TT_StatTitle.Dps+"</span>");break;case 2:u+=F.f("<span class='tt_stat_title'>"+D(locale.TT_StatTitle.MeleeAp,Math.floor(s.cb)+(Math.floor(s.Md)>0?" ("+(Math.floor(s.cb)-Math.floor(s.Md))+"<span class='green'>+"+Math.floor(s.Md)+"</span>)":""))+"</span>");u+=F.f(D(locale.TT_StatText.IncreasesMeleeDamage,
$a(s.cb/14,1)));break;case 3:u+=F.f("<span class='tt_stat_title'>"+D(locale.TT_StatTitle.AttackSpeed,$a(s.aa[3][0]/1E3,2)+(s.aa[3][1]!=f?" / "+$a(s.aa[3][1]/1E3,2):""))+"</span>");break;case 4:u+=F.f("<span class='tt_stat_title'>"+D(locale.TT_StatTitle.Haste,G(s.aa[4]))+"</span>");u+=F.f(locale.TT_StatText.IncreasesAttackSpeed);u+=F.f(C(locale.TT_StatText.IncreasesHaste,[s.Yf,G(s.Yf/A[17][v.j-1])]));break;case 5:u+=F.f("<span class='tt_stat_title'>"+D(locale.TT_StatTitle.HitChance,$a(s.aa[5],2))+
"</span>");u+=F.f(C(locale.TT_StatText.HitRating,[Math.floor(s.gd[1]),$a(s.gd[1]/A[5][v.j-1],2)]));r="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";if(s.gc>0){r+="<tr><td class='tt_miss_g' colspan='2'>"+locale.TT_NormalAttacks+"</td></tr>";for(m=0;m<4;m++)r+="<tr><td class='tt_miss_level'>"+(v.j+m)+"</td><td class='tt_miss'>"+
G(Math.max(0,Ja[m]-s.aa[5]))+"%</td></tr>";r+="<tr><td colspan='2'>"+wb(Ja[3],s.aa[5],A[5][v.j-1])+"</td></tr>";r+="<tr><td class='tt_miss_g' colspan='2'>"+locale.TT_SpecialAttacks+"</td></tr>"}for(m=0;m<4;m++)r+="<tr><td class='tt_miss_level'>"+(v.j+m)+"</td><td class='tt_miss'>"+G(Math.max(0,Ia[m]-s.aa[5]))+"%</td></tr>";r+="<tr><td colspan='2'>"+wb(Ia[3],s.aa[5],A[5][v.j-1])+"</td></tr>";r+="</table>";u+=F.f(r);break;case 6:u+=F.f("<span class='tt_stat_title'>"+D(locale.TT_StatTitle.CritChance,
G(s.aa[6]))+"</span>");u+=F.f(locale.TT_StatText.ExtraDamage);u+=F.f(C(locale.TT_StatText.CritRating,[Math.floor(s.fd[1]),G(s.fd[1]/A[8][v.j-1])]));break;case 7:J=0.25*s.aa[7][0];$=s.aa[7][1]==f?f:0.25*s.aa[7][1];Q=A[23][v.j-1]/0.25;u+=F.f("<span class='tt_stat_title'>"+locale.CS_Stats[m][r]+" "+s.aa[7][0]+($!=f?" / "+s.aa[7][1]:"")+"</span>");u+=F.f(D(locale.TT_StatText.ReduceDodgeParry,G(J)+"%"+($!=f?"/"+G($)+"%":"")));u+=F.f(C(locale.TT_StatText.ExpertiseRating,[Math.floor(s.Xc[1]),Math.floor(s.Xc[1]/
A[23][v.j-1])]));r="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup>";r+="<tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_DodgeChance+"</td></tr>";r+=xb(v.j,Na,J,$);r+="<tr><td colspan='2'>"+wb(Na[3],J,Q)+"</td></tr>";r+="<tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_ParryChance+"</td></tr>";r+=xb(v.j,Ma,J,$);r+="<tr><td colspan='2'>"+
wb(Ma[3],J,Q)+"</td></tr>";r+="</table>";u+=F.f(r);break;case 8:u+=F.f("<span class='tt_stat_title'>"+D(locale.TT_StatTitle.Mastery,G(s.aa[8]))+"</span>");u+=F.f(C(locale.TT_StatText.MasteryRating,[Math.floor(s.Tb),G(s.Tb/A[25][v.j-1])]))}break;case 3:switch(r){case 0:u+=F.f("<span class='tt_stat_title'>"+locale.TT_StatTitle.MainHand+"</span>");u+=F.kb(locale.TT_StatText.AttackSpeed,G(s.rd/1E3));u+=F.kb(locale.TT_StatText.Damage,Math.floor(s.dg)+" - "+Math.ceil(s.cg));u+=F.kb(locale.TT_StatText.DamagePerSecond,
db(s.th));break;case 1:u+=F.f("<span class='tt_stat_title'>"+locale.TT_StatTitle.Dps+"</span>");break;case 2:u+=F.f("<span class='tt_stat_title'>"+D(locale.TT_StatTitle.RangedAp,Math.floor(s.nc))+"</span>");u+=F.f(D(locale.TT_StatText.IncreasesRangedDamage,db(s.nc/14)));break;case 3:u+=F.f("<span class='tt_stat_title'>"+D(locale.TT_StatTitle.AttackSpeed,G(s.ua[3]/1E3))+"</span>");break;case 4:u+=F.f("<span class='tt_stat_title'>"+D(locale.TT_StatTitle.Haste,G(s.ua[4]))+"</span>");u+=F.f(locale.TT_StatText.IncreasesAttackSpeedAndFocus);
u+=F.f(C(locale.TT_StatText.IncreasesHaste,[s.gg,G(s.gg/A[18][v.j-1])]));break;case 5:u+=F.f("<span class='tt_stat_title'>"+D(locale.TT_StatTitle.HitChance,G(s.ua[5]))+"</span>");u+=F.f(C(locale.TT_StatText.HitRating,[Math.floor(s.hg),G(s.hg/A[6][v.j-1])]));r="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";
for(m=0;m<4;m++)r+="<tr><td class='tt_miss_level'>"+(v.j+m)+"</td><td class='tt_miss'>"+G(Math.max(0,La[m]-s.ua[5]))+"%</td></tr>";r+="<tr><td colspan='2'>"+wb(La[3],s.ua[5],A[6][v.j-1])+"</td></tr>";r+="</table>";u+=F.f(r);break;case 6:u+=F.f("<span class='tt_stat_title'>"+D(locale.TT_StatTitle.CritChance,G(s.ua[6]))+"</span>");u+=F.f(locale.TT_StatText.ExtraDamage);u+=F.f(C(locale.TT_StatText.CritRating,[Math.floor(s.fg),G(s.fg/A[9][v.j-1])]));break;case 7:u+=F.f("<span class='tt_stat_title'>"+
D(locale.TT_StatTitle.Mastery,G(s.ua[7]))+"</span>");u+=F.f(C(locale.TT_StatText.MasteryRating,[Math.floor(s.Tb),G(s.Tb/A[25][v.j-1])]))}break;case 4:switch(r){case 0:u+=F.f("<span class='tt_stat_title'>"+D(locale.TT_StatTitle.SpellPower,Math.floor(s.n[0]))+"</span>");u+=F.f(locale.TT_StatText.IncreasesDamageAndHealing);break;case 1:u+=F.f("<span class='tt_stat_title'>"+D(locale.TT_StatTitle.Haste,G(s.n[1]))+"</span>");u+=F.f(locale.TT_StatText.IncreasesSpellCasting);u+=F.f(C(locale.TT_StatText.IncreasesHaste,
[s.rg,G(s.rg/A[19][v.j-1])]));break;case 2:u+=F.f("<span class='tt_stat_title'>"+D(locale.TT_StatTitle.HitChance,G(s.n[2]))+"</span>");u+=F.f(C(locale.TT_StatText.HitRating,[Math.floor(s.sg),G(s.sg/A[7][v.j-1])]));r="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";for(m=0;m<4;m++)r+="<tr><td class='tt_miss_level'>"+
(v.j+m)+"</td><td class='tt_miss'>"+G(Math.max(0,Ka[m]-s.n[2]))+"%</td></tr>";r+="<tr><td colspan='2'>"+wb(Ka[3],s.n[2],A[7][v.j-1])+"</td></tr>";r+="</table>";u+=F.f(r);break;case 4:u+=F.f("<span class='tt_stat_title'>"+locale.TT_StatTitle.ManaRegen+"</span>");u+=F.f(D(locale.TT_StatText.ManaRegen,Math.floor(s.n[4])));break;case 5:u+=F.f("<span class='tt_stat_title'>"+locale.TT_StatTitle.CombatRegen+"</span>");u+=F.f(D(locale.TT_StatText.CombatRegen,Math.floor(s.n[5])));break;case 6:u+=F.f("<span class='tt_stat_title'>"+
D(locale.TT_StatTitle.CritChance,G(s.n[6]))+"</span>");u+=F.f(C(locale.TT_StatText.CritRating,[Math.floor(s.pg),G(s.pg/A[10][v.j-1])]));break;case 7:u+=F.f("<span class='tt_stat_title'>"+D(locale.TT_StatTitle.Mastery,G(s.n[7]))+"</span>");u+=F.f(C(locale.TT_StatText.MasteryRating,[Math.floor(s.Tb),G(s.Tb/A[25][v.j-1])]))}break;case 5:u+=F.f("<span class='tt_stat_title'>"+D(locale.TT_StatTitle_Defense[r],r==4||r==0?s.Da[r]:G(s.Da[r]))+"</span>");switch(r){case 0:v=v.j;s=v>=81?s.Da[0]/(s.Da[0]+2167.5*
v-158167.5):v>=60?s.Da[0]/(s.Da[0]+467.5*v-22167.5):s.Da[0]/(s.Da[0]+85*v+400);u+=F.f(D(locale.TT_StatText.ReducesPhysical,G(s*100)));break;case 1:u+=F.f(C(locale.TT_StatText.DodgeRating,[s.D[2],G(s.D[2]/A[2][v.j-1])]));break;case 2:u+=F.f(C(locale.TT_StatText.ParryRating,[s.af,G(s.af/A[3][v.j-1])]));break;case 3:u+=F.f(C(locale.TT_StatText.BlockRating,[s.D[4],G(s.D[4]/A[4][v.j-1])]));break;case 4:u+=F.f(D(locale.TT_StatText.Resilience,G(s.dj*100)))}break;case 6:u+=F.f("<span class='tt_stat_title'>"+
D(locale.TT_ResistanceTitle[r],s.Jc[r])+"</span>");u+=F.f(D(locale.TT_Resistance[r],0))}b(u+"</table>");n=a(n);g.style.left=n[0]+n[2]+"px";g.style.top=n[1]+"px";g.offsetWidth>300&&c(300)};this.na=function(){k=j=f;if(g!=f)g.style.display="none"};this.vj=function(){this.na();R.l.tc()};this.Vo=function(m){b(m);this.move()};this.Uo=function(m){m=R.parse(m);for(var r="",n=0;n<m.length;n++){if(n)r+="<br/>";r+=m[n]}b("<div class='tooltip_buff'>"+r+"</div>");this.move()};this.to=function(m){b("<div class='tooltip_shape'>"+
Ya(m,R.l).join("<br/>")+"</div>");this.move()};this.wo=function(m){b(m);this.move()}}function wb(a,b,c){a=Math.floor((a-b)*c);if(a!=0){if(a>0)return"<div class='tt_hit_cap'>"+D(locale.TillCap,a)+"</div>";return"<div class='tt_hit_cap'>"+D(locale.OverCap,Math.abs(a))+"</div>"}return""}function xb(a,b,c,d){var g,h="";for(g=0;g<4;g++)h+="<tr><td class='tt_miss_level'>"+(a+g)+"</td><td class='tt_miss'>"+G(Math.max(0,b[g]-c))+(d!=f?"/"+G(Math.max(0,b[g]-d)):"")+"%</td></tr>";return h}
function rb(a,b){b=b?b:pb;a.style.width=a.firstChild.offsetWidth+"px";if(a.offsetWidth>b){a.style.whiteSpace="normal";a.style.width=b+"px";if(a.firstChild.offsetWidth>b)a.style.width=a.firstChild.offsetWidth+"px"}}o=qb.prototype;o.X=f;o.Je=i;o.Qf=i;o.Xd=f;
o.Xh=function(){if(this.X==f)this.X=document.getElementById("tt_overlay");var a=P.Cg();this.X.style.width=Math.max(a[0],document.body.scrollWidth)+"px";this.X.style.height=Math.max(a[1],document.body.scrollHeight)+"px";this.X.style.display="block";this.Je=e;this.X.onclick=f};o.wa=function(){F.xa(this.X);this.X.style.display="none";this.Qf=this.Je=i};
o.uj=function(a){var b=a.scrollHeight,c=P.Cg(),d=document.body.scrollTop;a.style.marginLeft=Math.max(0,document.body.scrollLeft+(c[0]-a.scrollWidth>>1))+"px";a.style.marginTop=Math.max(0,d+(c[1]-b>>1))+"px"};o.Id=function(a){this.Xh();F.ba(this.X,a);this.uj(a)};
function S(a,b){var c='<span class="tt_error_msg">'+b+"</span>";if(a.Qf)a.Xd.innerHTML=c+"<br />"+a.Xd.innerHTML;else{a.Qf=e;a.Xd.innerHTML=c+'<br /><span class="tt_close_notice">Left click or hit escape to continue.</span>'}a.Id(a.Xd);a.X.onclick=function(){T.wa()}}
function yb(a,b){var c=document.createElement("div");c.innerHTML='<span class="tt_msg">'+b+'</span><br/><span class="tt_close_notice">Left click or hit escape to continue.</span>';c.className="tt_msg_c";a.Id(c);a.X.onclick=function(){T.wa()}}o.Ca=function(){var a=document.createElement("div");a.className="tt_loading";a.innerHTML="Loading";this.Id(a)};o.je=f;o.Ym=function(a){a.keyCode==27&&this.Je&&this.wa()};var T=new qb;
function zb(){window.g_moveTooltip=function(){T.move()};window.g_hideTooltip=function(){T.na()};window.g_showItemWithoutPreview=function(a){T.Mk(a)};window.g_showItemBySlot=function(a){T.Lk(a)};window.g_showErrorTooltip=function(a){S(T,a)};window.g_showHTMLTooltip=function(a){yb(T,a)};window.g_enable=function(){T.wa()};window.g_disable=function(){T.Xh()};window.g_loading=function(){T.Ca()}}window.__tooltip_init=function(){zb()};var Ab=[],Bb=-1,Cb=e;function Db(){Cb=i;if(Ab.length<1)Cb=e;else{var a=f;Bb=Bb==-1?0:(Bb+1)%Ab.length;a=Ab[Bb];a==f&&ba("NullPointerException in JobManager.resumeJobs, Current job is null");a.Ik(250);a.Dk()&&Ab.splice(Bb,1);window.setTimeout(Db,50)}}window.__jobmanager_init=ca();function Eb(){}Eb.prototype.Ik=ca();Eb.prototype.Dk=l(e);function Fb(){}Fb.prototype.Bc=0;function Gb(){}o=Gb.prototype;o.Dg=1E4;o.Be=25;o.$a=f;o.Tc=f;o.Hb=[];o.Sf=0;o.i=f;o.Jg=f;o.Xi=f;function Hb(a,b,c){a.Hb=b;a.Jg=c;b.length!=a.Be&&ba("Individual count doesn't match!");Ab.push(new Ib(a));Cb&&Db()}function Jb(a,b){a.Xi=b}function Ib(a){this.Ea=a;this.gl=0}Ib.prototype=new Eb;Ib.prototype.Ea=f;Ib.prototype.gl=0;
Ib.prototype.Ik=function(a){a=(new Date).getTime()+a;this.Ea.Xi&&t(this.Ea.Xi,[this.Ea.Sf*100/this.Ea.Dg]);do{var b=this.Ea,c=[],d=void 0,g=void 0,h=void 0;d=void 0;for(h=b.Be-1;h>=0;h--){d=b.Hb[h];g=d.Ob();Math.random()<0.3&&Kb(d);Math.random()<0.3&&Kb(g);if(Math.random()<0.2){var j=d,k=g,q=j.yc,x=k.yc,m=1+Math.floor(Math.random()*18);j.yc=q.slice(0,m).concat(x.slice(m));k.yc=x.slice(0,m).concat(q.slice(m));Lb(j);Lb(k)}c.push(d,g)}g=void 0;j=c.length;k=void 0;q=void 0;x=[];for(d=0;d<=3;d++)x[d]=
[];for(h=0;h<j;h++){k=c[h];q=k.Bc;for(d=g=0;d<3;d++)q<c[Math.floor(Math.random()*j)].Bc||g++;x[g].push(k)}b.Hb=x[3];for(h=2;h>=0;h--){b.Hb=b.Hb.concat(x[h]);if(b.Hb.length>=b.Be)break}b.Hb.splice(b.Be,b.Hb.length-b.Be);b.Sf++}while(this.Ea.Sf<this.Ea.Dg&&(new Date).getTime()<a);if(this.Ea.Sf>=this.Ea.Dg){a=this.Ea.Hb[0];for(b=0;b<this.Ea.Hb.length;b++)if(this.Ea.Hb[b].Bc>a.Bc)a=this.Ea.Hb[b];t(this.Ea.Jg,[a])}};Ib.prototype.Dk=function(){return this.Ea.Sf>=this.Ea.Dg};function Mb(a,b,c){this.og=b;this.Bc=0;this.yc=a.slice(0);c||Lb(this)}Mb.prototype=new Fb;o=Mb.prototype;o.D=[];o.og=[];o.yc=[];o.Bc=0;function Lb(a){var b,c,d=[0,0,0,0,0,0,0,0],g=a.og[1],h=a.og[2];for(c=0;c<19;c++){b=a.yc[c];if(!(!b||b[0]==-1)){d[b[0]]-=b[3];d[b[1]]+=b[4]}}a.Bc=Math.min(d[0],g[0])-h[0]+Math.min(d[1],g[1])-h[1]+Math.min(d[2],g[2])-h[2]+Math.min(d[3],g[3])-h[3]+Math.min(d[4],g[4])-h[4]+Math.min(d[5],g[5])-h[5]+Math.min(d[6],g[6])-h[6]+Math.min(d[7],g[7])-h[7]}
function Kb(a){var b=Math.floor(Math.random()*19),c=a.og[0][b];if(c){a.yc[b]=c[Math.floor(Math.random()*c.length)];Lb(a)}}o.Ob=function(){var a=new Mb(this.yc,this.og,e);a.Bc=this.Bc;return a};function Nb(){this.Oa=[];this.Ra=[];this.Kd=[];this.We=[];for(var a=0;a<21;a++){this.Oa[a]=[0,0,0,0,0,0,0,0,0];this.Ra[a]=[0,0,0,0,0,0,0,0,0];this.We[a]=[0,0,0,0,0,0,0,0];this.Kd[a]=[[-1,-1,0]]}this.D=[0,0,0,0,0,0,0];this.df=[0,0,0,0,0,0,0];this.$a=[0,0,0,0,0,0,0,0];this.Tc=[0,0,0,0,0,0,0,0];this.Eg=[0,0,0,0,0,0,0,0];this.Lf=[];this.Bb=f;this.S=new Ob(["started","finished","progress_change","values_change"])}o=Nb.prototype;o.S=f;o.i=f;o.Kd=[];o.We=[];o.Oa=[];o.Ra=[];o.D=[];o.df=[];o.$a=[];o.Tc=[];
o.Eg=[];o.Lf=[];o.Bb=[];
function Pb(a){var b=0,c=0,d=0,g=0,h=f;c=0;var j,k;a.Kd=[];a.df=[0,0,0,0,0,0,0];a.D=Qb(a.i.g);for(c=0;c<19;c++){for(d=0;d<w.length;d++)a.Oa[c][d]=0;if(h=a.i.z.H(c)){a.We[c]=[0,0,0,0,0,0,0,0];a.Lf[c]=[-1,-1,0,0,0];if(h.V!=-1){a.df[ga[h.V]]-=h.qa;a.df[ga[h.ca]]+=h.qa;a.Oa[c][ga[h.V]]-=h.qa;a.Oa[c][ga[h.ca]]+=h.qa;a.Lf[c]=[ga[h.V],ga[h.ca],h.qa,h.qa*a.$a[ga[h.V]],h.qa*a.$a[ga[h.ca]]]}a.Kd[c]=[[-1,-1,0,0,0]];j=[];k=[];for(d=0;d<w.length;d++){g=Rb(h,w[d]);if(g>0){j[d]=g;a.We[c][d]+=g}else a.$a[d]>0&&k.push(d)}for(d in j)for(b in k){g=
Math.floor(j[d]*0.4)*a.$a[d];h=Math.floor(j[d]*0.4)*a.$a[k[b]];g==0&&h==0||a.Tc[d]<=0&&h-g<0||a.Kd[c].push([parseInt(d,10),parseInt(k[b],10),Math.floor(j[d]*0.4),g,h])}}else{a.Lf[c]=f;a.Kd[c]=f;a.We[c]=f}}Sb(a);for(c=0;c<19;c++){if(a.Bb){for(d=0;d<w.length;d++)a.Ra[c][d]=0;if(a.Bb[c]&&a.Bb[c][0]!=-1){a.Ra[c][a.Bb[c][0]]-=a.Bb[c][2];a.Ra[c][a.Bb[c][1]]+=a.Bb[c][2]}}a.Oa[c][w.length+1]=0;for(d=a.Ra[c][w.length+1]=0;d<w.length;d++){a.Oa[c][w.length+1]+=a.Oa[c][d]*a.$a[d];a.Ra[c][w.length+1]+=a.Ra[c][d]*
a.$a[d]}}for(d=0;d<w.length;d++){a.Oa[19][d]=0;for(c=a.Ra[19][d]=0;c<19;c++){a.Oa[19][d]+=a.Oa[c][d];a.Ra[19][d]+=a.Ra[c][d]}if(a.Tc[d]>0){c=a.Tc[d]-a.D[d]+a.df[d];a.Oa[20][d]=Tb(a.Oa[19][d],c,a.$a[d]);a.Ra[20][d]=Tb(a.Ra[19][d],c,a.$a[d])}else{a.Oa[20][d]=a.Oa[19][d]*a.$a[d];a.Ra[20][d]=a.Ra[19][d]*a.$a[d]}}a.S.ab("values_change",[a])}function Tb(a,b,c){if(b<0){if(a<b)return(a-b)*c}else if(b==0){if(a<0)return a*c}else if(a<0)return a*c;else if(a>0)return Math.min(b,a)*c;return 0}
o.Cj=function(a){this.$a=a;Pb(this)};o.yj=function(a){this.Tc=a;Sb(this);Pb(this)};function Sb(a){for(var b=0;b<w.length;b++)a.Eg[b]=a.Tc[b]>0?a.Tc[b]-(a.D[b]-a.df[b]):99999}function Ub(a){var b=new Gb,c,d,g;d=[];g=[];for(c=0;c<w.length;c++){d[c]=Math.min(a.Eg[c],0)*a.$a[c];g[c]=a.Eg[c]*a.$a[c]}d=[a.Kd,g,d];g=[];for(c=0;c<b.Be;c++)g.push(new Mb(a.Lf,d,i));Jb(b,new p(function(h){this.S.ab("progress_change",[h])},a));Hb(b,g,new p(a.km,a));a.S.ab("started",[])}
o.km=function(a){this.Bb=a.yc;Pb(this);this.S.ab("finished",[])};o.update=function(a){this.i=a;Pb(this)};o.ma=function(a,b){this.S.ma(a,b)};function Ob(a){this.zc={};for(var b in a)this.zc[a[b]]=[]}Ob.prototype.zc={};Ob.prototype.ma=function(a,b){this.zc[a]||ba("Unknown event "+a+" tried to listen to");this.zc[a].push(b)};Ob.prototype.ab=function(a,b){this.zc[a]||ba("Unknown event "+a+" fired!");for(var c in this.zc[a])t(this.zc[a][c],b?b:[])};Ob.prototype.clear=function(){this.zc={}};function Vb(){}o=Vb.prototype;o.c=0;o.v="";o.G=[];o.sb=[];o.Ob=l(f);function Wb(a){this.c=a[0];this.v=a[1];this.G=[];for(var b=0;b<5;b++)this.G[b]=a[2+b]?new Xb(a[2+b]):f;this.sb=a}Wb.prototype=new Vb;Wb.prototype.Ob=function(){return new Wb(this.sb)};function Yb(a){this.c=0-a[0];this.v=a[1];this.G=[];for(var b=0;b<5;b++)if(a[2+b]){this.G[b]=new Xb(a[2+b][1]);this.G[b].ac(a[2+b][0])}else this.G[b]=f;this.sb=a}Yb.prototype=new Vb;Yb.prototype.Ob=function(){return new Yb(this.sb)};function Zb(a){var b;this.c=a[0];this.v=a[1];this.tl=a[2];this.Ee=[];for(b=0;b<a[3].length;b++)this.Ee[b]=a[3][b]!=f?new U(a[3][b]):f;this.cj=a[4];this.sl=a[5];this.k=a[6]}o=Zb.prototype;o.c=-1;o.v="";o.tl=[];o.Ee=[];o.cj=[];o.bb=function(a){for(var b=0;b<8;b++){var c;if(c=this.Ee[b]!=f){c=0;for(var d=f,g=0;g<19;g++){d=a.z.H(g);d!=f&&d.pa!=f&&d.pa.c==this.c&&c++}c=c>=this.cj[b]}c&&a.da.add(this.Ee[b])}};function $b(a){this.cc=new Xb(a[0]);this.lg=a[1]}$b.prototype.cc=f;$b.prototype.lg=0;function ac(a){var b;this.I=[f,f,f];this.G=[];this.Kj=85;this.sb=a;this.c=a[0];this.za=a[1];this.T=a[2];this.vk=this.fa=a[3];this.ta=a[4];this.wc=a[5];this.j=a[6];this.Kb=a[7];this.um=a[8];this.ff=a[9];this.mk=a[10];this.ok=a[11];this.Em=a[12];this.g=a[13];this.eb=a[14];this.Q=[];for(b=0;b<a[15].length;b++)this.Q[b]=a[15][b]!=f?new U(a[15][b]):f;this.Fj=a[17];this.pj=this.v=a[18];this.pa=a[19]!=f?new Zb(a[19]):f;this.Ng=a[20];this.ha=a[21];this.re=a[22]!=f?new Xb(a[22]):f;this.F=a[23];this.Mc=a[24];
this.xe=a[25];this.$k=a[26];this.fj=a[27];this.bc=a[28];this.vf=a[29];this.nk=a[30];this.lj=a[31];this.Dm=a[32];this.kj=a[33];this.Cm=a[34];this.Bm=a[35];this.oa=a[36]!=f?new $b(a[36]):f;this.$=a[37];this.Rb=a[38];this.hd=a[39];this.ed=a[40];this.Jb=f;if(a[41]){this.Jb=[];for(b=0;b<a[41].length;b++)this.Jb[b]=new Wb(a[41][b])}else if(a[42]){this.Jb=[];for(b=0;b<a[42].length;b++)this.Jb[b]=new Yb(a[42][b])}this.rc=a[43];this.uf=a[44];this.xi=a[45];this.ik=a[46];this.ul=a[47];this.vl=a[48];this.cl=
a[49]}o=ac.prototype;o.I=[];o.G=[];o.Y=f;o.Gb=f;o.Kj=85;o.sb=[];o.c=0;o.za=0;o.T=0;o.fa=0;o.ta=0;o.wc=0;o.j=0;o.Kb=0;o.um=0;o.ff=0;o.mk=0;o.ok=0;o.Em=0;o.g=[];o.eb=0;o.Q=[];o.Fj=0;o.v="";o.pa=f;o.Ng=0;o.ha=[];o.re=f;o.F="";o.Mc="";o.xe=0;o.uf=0;o.$k=0;o.fj=0;o.bc=0;o.vf=0;o.nk="";o.lj=[];o.Dm=[];o.kj=[];o.Cm=[];o.Bm=[];o.$="";o.oa=f;o.Rb=0;o.hd=0;o.ed=0;o.xi=0;o.ca=-1;o.qa=-1;o.V=-1;o.Ic=-1;o.Jb=f;o.pj="";o.rc=f;o.vk=0;o.ik=0;o.ul=0;o.vl=0;o.cl=0;o.ef=0;o.tm=0;o.wm=0;o.sm=f;o.vm=f;
function bc(a,b){if(!(a.Y&&b==a.Y.c)){a.restore();if(b==0){a.Y=f;a.v=a.pj}else{if(a.Jb)for(var c=0;c<a.Jb.length;c++)if(a.Jb[c].c==b){a.Y=a.Jb[c].Ob();a.v=a.pj+" "+a.Y.v;return}S(T,"Unable to set random property (ID:"+b+")")}}}
function cc(a,b){if(a.rc!=f){var c=0,d=0,g=0;b=Math.min(b,a.rc[21]);if(a.g[c]!=f&&a.g[c][0]>50){a.g[9]=a.g[c];a.g[c]=f}if(a.T==4){switch(a.ta){case 1:a.bc=B[b][19+a.fa];d=B[b][7];break;case 3:a.bc=B[b][11+a.fa];d=B[b][8];break;case 5:case 20:a.bc=B[b][15+a.fa];d=B[b][7];break;case 7:a.bc=B[b][23+a.fa];d=B[b][7];break;case 11:d=B[b][9];break;case 12:d=B[b][8];break;case 16:a.bc=B[b][44];d=B[b][9]}switch(a.vk){case 4:a.fa=b>=40?4:3;a.Mc[0]=locale.a_armor[a.fa];break;case 3:a.fa=b>=40?3:2;a.Mc[0]=locale.a_armor[a.fa]}}else if(a.T==
2){var h=1<<a.fa;if(h&262156){d=B[b][10];g=B[b][4]}else if(h&43153){d=B[b][11];g=B[b][a.uf&512?2:0]}else if(h&1185122){d=B[b][7];g=B[b][a.uf&512?3:1]}}if(d){for(h=0;h<10;h++)if(a.rc[h]>0)a.g[c++]=[a.rc[h],Math.floor(a.rc[h+10]*d/1E4)];if(a.uf&512&&a.T==2&&B[b][6]>0)a.g[c++]=[45,B[b][6]]}if(g){a.Rb=g;a.hd=Math.floor(a.Rb*a.eb*(1-a.xi/2)/1E3);a.ed=Math.floor(a.Rb*a.eb*(1+a.xi/2)/1E3)}}}
function sb(a,b){if(!b)return f;for(var c=0;c<a.G.length;c++){var d=a.G[c];if(d.ea[0]==7&&b.ea[0]==7||d.ea[0]!=7&&b.ea[0]!=7){a.G[c]=b;return d}}a.G.push(b);return f}
function dc(a,b,c,d){if(b){if(!d&&a.Gb!=f&&(b.vf>0||(b.xe&524288)!=0==e)&&(a.I[c]==f||a.I[c].c!=b.c)){var g;a:{g=a.Gb.z;var h,j,k,q;for(h=0;h<g.k.length;h++){k=g.k[h][0];if(k!=f)for(j=0;j<k.I.length;j++){q=k.I[j];if(q!=f)if(q.c==b.c){g=i;break a}}}g=e}if(!g){S(T,D(locale.ERR_UniqueGem,b.v));return}}if(a.ha[c]!=1&&b.fa==6||a.ha[c]==1&&b.fa!=6)return;if(b.oa&&b.oa.lg>a.j){d||S(T,D(locale.ERR_GemRequiresMinItemLevel,b.oa.lg));return}ec(b,a.Gb)}a.I[c]=b}o.bi=function(a){this.I[a]=f};
o.bb=function(){var a=this.Gb.da,b,c;for(b=0;b<5;b++)(c=this.Q[b])&&this.lj[b]==1&&a.add(this.Q[b]);for(b=0;b<3;b++)(c=this.I[b])&&c.bb(a);for(b=0;b<this.G.length;b++)this.G[b].bb(a);this.re!=f&&fc(this)&&this.re.bb(a);this.oa!=f&&this.oa.cc.lb(this.Gb)&&this.oa.cc.bb(a)};
function fc(a){if(!a.re)return i;for(var b=0;b<3;b++)if(a.ha[b]){if(a.I[b]==f)return i;switch(a.ha[b]){case 1:if(a.I[b].fa!=6)return i;break;case 2:if(!(Math.pow(2,a.I[b].fa)&297))return i;break;case 4:if(!(Math.pow(2,a.I[b].fa)&308))return i;break;case 8:if(!(Math.pow(2,a.I[b].fa)&282))return i}}return e}function gc(a){return a.eb%1E3==0?a.eb/1E3+".00":a.eb%100==0?a.eb/1E3+"0":Math.floor(a.eb/10)/100+""}function hc(a){return Math.floor(a.Rb*10)/10+(Math.floor(a.Rb*10)%10==0?".0":"")}o.Ob=function(){return new ac(this.sb)};
o.toString=function(){return"Class Item "+this.c};
o.Ma=function(a,b){var c="",d,g,h="",j="",k=85,q=f,x="",m="";if(a)q=a;else if(this.Gb)q=this.Gb;k=q!=f?q.j:85;cc(this,k);for(d=0;d<this.g.length;d++)if(!(!this.g[d]||this.g[d][1]==0))if(this.g[d]&&this.g[d][0]>11&&this.g[d][0]<50)j+=F.f(ic(this,k,this.g[d][0],this.g[d][1]));else h+=F.f(jc(this,this.g[d][0],this.g[d][1]));if(this.ca>-1)if(this.ca<=11)h+=F.f("<div class='green'>"+jc(this,this.ca,this.qa)+"</div>");else j+=F.f("<div class='green'>"+ic(this,k,this.ca,this.qa)+"</div>");for(d=0;d<this.G.length;d++){g=
this.G[d];c=F.f(g.Ma(q));if(g.ea[0]==7&&g.Q[0])m+=c;else x+=c}g="<table cellpadding='0px' cellspacing='0px' class='tooltip_table'>";g+=F.f("<div class='tooltip_title' style='color:"+va[this.za]+"; white-space:nowrap;'>"+this.v+"</div>");if(this.xe&8)g+=F.f("<span class='green'>"+locale.Heroic+"</span>");if(this.xe&134217728)g+=F.f(locale.boa);else switch(this.Fj){case 1:g+=F.f(locale.bop);break;case 2:g+=F.f(locale.boe);break;case 3:g+=F.f(locale.bou)}if(this.vf==1)g+=F.f(locale.Unique);else if(this.vf>
1)g+=F.f(D(locale.UniqueMultiple,this.vf));if(this.oa&&this.oa.lg)g+=F.f(D(locale.RequiresItemLevel,this.oa.lg));if(this.xe&524288)g+=F.f(locale.UniqueEquipped);if(this.ik)g+=F.f(locale.This_Item_Begins_a_Quest);if(this.Mc)switch(this.T){case 4:if(this.ta!=0)g+=this.ta==0||this.fa==0?F.f(locale.a_slot[this.ta]):this.oa==f?F.kb(locale.a_slot[this.ta],"<span"+((q!=f?kc(q,this):1)?"":" class='red'")+">"+this.Mc[0]+"</span>"):F.f(this.Mc[0]);break;case 2:g+=F.kb(locale.a_slot[this.ta],this.Mc[0]);break;
case 1:g+=F.f(this.Mc[0])}if(this.V!=-1)g+=F.f("<span class='green'>"+locale.Reforged+"</span><span class='tooltip_reforge_info'>: "+this.qa+" "+locale.ItemStatNames[this.V]+" \u21e8 "+this.qa+" "+locale.ItemStatNames[this.ca]+"</span>");if(this.ta==24)g+=F.f(D(locale.Adds,hc(this)));else if(this.Rb){g+=F.kb(Math.floor(this.hd)+" - "+Math.ceil(this.ed)+" "+locale.damage,locale.Speed+" "+gc(this));g+=F.f("("+D(locale.dps,Math.floor(this.Rb*10)/10+(Math.floor(this.Rb*10)%10==0?".0":""))+")")}if(this.bc>
0)g+=F.f(D(locale.armor,this.bc));g+=h;if(this.Jb)if(this.Y!=f)for(d=0;d<this.Y.G.length;d++){if(c=this.Y.G[d])g+=F.f(c.$)}else g+=F.f("<span class='green'>&lt;"+locale.RandomEnchantment+"&gt;</span>");g+=x;for(d=0;d<3;d++)if(this.I[d]!=f)g+=F.f("<div class='tooltip_gem' style='background-image:url(images/icons/gem/"+this.I[d].F+".png);'>"+this.I[d].oa.cc.Ma(q)+"</div>");else if(this.ha[d])g+=this.ha[d]==14?F.f("<div class='tooltip_socket_empty' style='background-image:url(images/socket_prismatic.png);'>"+
locale.PrismaticSocket+"</div>"):F.f("<div class='tooltip_socket_empty' style='background-image:url(images/socket_"+Math.log(this.ha[d])/Math.log(2)+".png);'>"+locale.a_socket[Math.log(this.ha[d])/Math.log(2)]+"</div>");if(this.re)g+=F.f("<span class='"+(fc(this)?"green":"grey")+"'>"+locale.socketBonus+": "+this.re.$+"</span>");if(this.oa)g+=F.f(this.oa.cc.$);if(this.Ng)g+=F.f(locale.Durability+": "+this.Ng+"/"+this.Ng);if(this.wc!=0&&this.wc<2048&&this.wc>0){c="";for(d=0;d<11;d++)if((this.wc&1<<
d)!=0)c+=(c?", ":"")+locale.a_class[d];if(c)g+=F.f(locale.Classes+": "+c)}if(this.Kb||this.za==7)g+=this.rc?F.f(C(locale.RequiredLevelScaling,[Math.max(1,this.rc[20]),this.rc[21],Math.min(this.rc[21],k)])):F.f("<span class='"+(k>=this.Kb?"white":"red")+"'>"+D(locale.reqLevel,this.Kb)+"</span>");if(this.tm)g+=F.f("<span class='red'>"+locale.req+" "+this.sm+" ("+this.ef+")</span>");if(this.wm)g+=F.f("<span class='red'>"+locale.req+" "+this.vm+"</span>");if(this.mk)g+=F.f("<span class='red' style='white-space:nowrap'>"+
locale.req+" "+this.nk+" - "+locale.a_reputation[this.ok]+"</span>");if(this.j&&(this.T==2||this.T==4))g+=F.f(D(locale.itemLevel,this.j));g+=j;for(d=0;d<5;d++)if(this.Q[d]!=f){c=lc(this.Q[d]);k=j="";if(c){switch(this.lj[d]){case 0:k=locale.use;if(this.kj[d]>0)j="("+eb(this.kj[d]/1E3)+" "+locale.Cooldown+")";break;case 1:k=locale.equip;break;case 2:k=locale.hit}g+=F.f("<span class='green'>"+k+": "+(g_settings.isPlanner?"":"<a class='tooltip_spell_desc_link' href='?spell="+this.Q[d].c+"'>")+Ya(c,q).join("<br/>")+
" "+(g_settings.isPlanner?"":"</a>")+j+"</span>")}}g+=m;if(this.oa!=f&&this.oa.cc.Wc)for(d=0;d<5;d++){m="#888888";if(mc(this.oa.cc,d,q!=f?q.z.Yc:f))m="#FFFFFF";c=this.oa.cc.Wc;j=c[1][d]?c[1][d]:0;k=c[3][d]?c[3][d]:0;x=c[4][d]?c[4][d]:0;switch(c[2][d]?c[2][d]:0){case 0:if(x!=0)g+=F.f("<div class='tt_meta_condition' style='color:"+m+"'>"+(x>1?C(locale.Meta_RequiresExactlyPl,[x,locale.Meta_Category[j]]):D(locale.Meta_RequiresExactly,locale.Meta_Category[j]))+"</div>");break;case 2:g+=F.f("<div class='tt_meta_condition' style='color:"+
m+"'>"+C(locale.Meta_RequiresMore,[locale.Meta_Category[k],locale.Meta_Category[j]])+"</div>");break;case 3:g+=x==0?F.f("<div class='tt_meta_condition' style='color:"+m+"'>"+C(locale.Meta_RequiresMore,[locale.Meta_Category[j],locale.Meta_Category[k]])+"</div>"):F.f("<div class='tt_meta_condition' style='color:"+m+"'>"+(x+1>1?C(locale.Meta_RequiresAtLeastPl,[x+1,locale.Meta_Category[j]]):D(locale.Meta_RequiresAtLeast,locale.Meta_Category[j]))+ +"</div>");break;case 5:if(j>0)g+=F.f("<div class='tt_meta_condition' style='color:"+
m+"'>"+(x>1?C(locale.Meta_RequiresAtLeastPl,[x,locale.Meta_Category[j]]):D(locale.Meta_RequiresAtLeast,locale.Meta_Category[j]))+"</div>")}}if(this.$)g+=F.f("<span style='color:#DDDD00'>\""+this.$+'"</span>');if((b&1)!=1){if(this.pa!=f){j=this.pa.sl;m=0;k=[];if(q!=f)for(d=0;d<20;d++){c=q.z.H(d);if(c!=f&&c.pa!=f&&c.pa.c==this.pa.c){for(x=0;x<j;x++)if(this.pa.k[x]&&this.pa.k[x][0]==c.ta)k[x]=c.v;m++}}g+=F.f("<div class='tooltip_set_name'>"+this.pa.v+" ("+m+"/"+j+")</div>");for(d=0;d<j;d++)g+=F.f("<span class='"+
(k[d]?"tooltip_set_item_active":"tooltip_set_item_inactive")+"'>"+(k[d]?k[d]:this.pa.k[d]&&this.pa.k[d][1]?this.pa.k[d][1]:locale.Unknown)+"</span>");g+=F.f("<div class='tooltip_set_bonus_spacing'></div>");for(d=0;d<8;d++)if(c=this.pa.cj[d])g+=F.f("<div class='"+(m>=c?"tooltip_set_bonus_active":"tooltip_set_bonus_inactive")+"'>("+c+") "+locale.Set+": "+(g_settings.isPlanner?"":"<a class='tooltip_spell_desc_link' href='?spell="+this.pa.Ee[d].c+"'>")+Ya(lc(this.pa.Ee[d]),q)+(g_settings.isPlanner?"":
"</a>")+"</div>")}if(this.fj>0){d=this.fj;q="<span class='tooltip_sell_price'>";if(d>1E4){q+=Math.floor(d/1E4)+"<img alt='g' class='tooltip_coint' align='center' src='images/tooltip/UI-GoldIcon.png' />";d%=1E4}if(d>100){q+=Math.floor(d/100)+"<img alt='s' class='tooltip_coint' align='center' src='images/tooltip/UI-SilverIcon.png' />";d%=100}if(d)q+=d+"<img alt='c' class='tooltip_coint' align='center' src='images/tooltip/UI-CopperIcon.png' />";g+=F.f(D(locale.SellPrice,q+"</span>"))}if(g_settings.isPlanner==
e&&this.Jb!=f)g+=F.f("<span style='white-space: normal; color:#808080; font-size:11px'>See Enchants to change the random enchantment</span>")}g+="</table>";return g};function jc(a,b,c){if(a.Gb)if(a=a.Gb.g.mj[b])return"+"+c+" "+locale.ItemStatNames[b]+"<span class='tt_stat_with_mods'>("+Math.floor(c*(1+a/100))+")</span>";return"+"+c+" "+locale.ItemStatNames[b]}
function ic(a,b,c,d){var g=0,h="";c-=11;switch(c){case 20:g=Math.floor(d/A[5][b-1]*100)/100;b=Math.floor(d/A[7][b-1]*100)/100;h=(g>0?"m:"+G(g)+"%":"")+(b>0?(g>0?", ":"")+"s:"+G(b)+"%":"");break;case 27:if(a.Gb){g=a.Gb.g.Bf;b=d*(1+g/100);h=(g>0?Math.floor(b)+", ":"")+db(b/14)+" "+locale.dps2}break;default:if(c<=10)g=A[c][b-1];else switch(c){case 21:g=A[8][b-1];break;case 24:g=A[15][b-1];break;case 25:g=A[17][b-1];break;case 26:g=A[23][b-1];break;case 38:g=A[25][b-1]}b=g>0?Math.floor(d/g*100)/100:0;
h=b>0?G(b)+"%":""}return"<span class='green'>"+locale.equip+": "+D(locale.imprStats[c],d)+(h?"<span class='tt_rating_percent'>("+h+")<span>":"")+"</span>"}function ec(a,b){a.Gb=b;for(var c=0;c<3;c++)a.I[c]&&ec(a.I[c],b)}function Rb(a,b){var c,d;for(c=0;c<a.g.length;c++)if(a.g[c])if(a.g[c][0]==b){if(a.V!=b)return a.g[c][1];return a.Ic}if(a.Y)for(c=0;c<a.Y.G.length;c++)if((d=a.Y.G[c])&&d.ea[0]==5)if(d.Ya[0]==b){if(a.V!=b)return d.va[0];return a.Ic}return 0}
function nc(a,b,c){var d,g=i,h=-1,j=-1;if(a.V!=-1)S(T,"This item was already reforged!");else if(a.j<200)S(T,"Item must be level 200 or higher!");else{for(d=0;d<w.length;d++)if(b==w[d])g=e;if(g){for(d=0;d<a.g.length;d++)if(a.g[d])if(a.g[d][0]==c){S(T,locale.ItemStatNames[c]+" is already present on "+a.v+"!");return}else if(a.g[d][0]==b)h=d;if(a.Y)for(d=0;d<a.Y.G.length;d++)if((g=a.Y.G[d])&&g.ea[0]==5)if(g.Ya[0]==c){S(T,locale.ItemStatNames[c]+" is already present on "+a.v+"!");return}else if(g.Ya[0]==
b)j=d;if(h==-1&&j==-1)S(T,locale.ItemStatNames[b]+" is not present on "+a.v+"!");else{a.V=b;a.ca=c;if(h!=-1){a.Ic=a.g[h][1];a.qa=Math.floor(a.g[h][1]*0.4);a.g[h][1]-=a.qa}else if(j!=-1){g=a.Y.G[j];b=g.va[0];a.Ic=b;a.qa=Math.floor(b*0.4);g.ac(b-a.qa)}}}else S(T,"Invalid stat selected for reforging!")}}
o.restore=function(){var a;if(this.V!=-1){for(a=0;a<this.g.length;a++)if(this.g[a]&&this.g[a][0]==this.V){this.g[a][1]=this.Ic;break}if(this.Y)for(a=0;a<this.Y.G.length;a++){var b=this.Y.G[a];b&&b.ea[0]==5&&b.Ya[0]==this.V&&b.ac(this.Ic)}}this.Ic=this.V=this.qa=this.ca=-1};o.ze=function(a){for(var b=0,c=0;c<10;c++)if(this.g[c]!=f&&this.g[c][0]>0)b+=a[this.g[c][0]]*this.g[c][1];if(this.oa)b+=this.oa.cc.ze(a);return b};function oc(a){this.c=a[0];this.v=a[1];this.al=a[2]}oc.prototype.c=0;oc.prototype.v="";oc.prototype.al=0;function pc(a){this.c=a[0];this.n=a[1]?new U(a[1]):f;this.qm=a[2];this.Jf=a[3];this.ef=a[4];this.rm=a[5]}o=pc.prototype;o.c=0;o.n=f;o.Jf=0;o.qm=0;o.ef=0;o.rm=0;function qc(a){var b,c;this.c=a[0];this.r=[];for(b=0;b<a[1].length;b++){c=new U(a[1][b]);this.r.push(new rc(c,1));y.A(c)}this.da=[];for(b=0;b<a[2].length;b++)this.da.push(new U(a[2][b]))}qc.prototype.r=[];qc.prototype.da=[];qc.prototype.c=0;function sc(a){this.pm=a[0];this.Cf=a[1];this.Pf=a[2];this.lm=a[3];this.K=a[4];this.Gm=a[5];this.fl=a[6];this.Oj=a[7];this.Xb=this.Cf==53?new Xb(a[8]):a[8];this.xk=a[9];this.mm=a[10];this.Hi=a[11];this.qh=a[12];this.c=a[13];this.Dj=this.K}o=sc.prototype;o.c=0;o.pm=0;o.Cf=0;o.Pf=0;o.lm=0;o.K=0;o.Gm=0;o.fl=0;o.Oj=0;o.Xb=f;o.xk=0;o.mm=0;o.Hi=0;o.qh=0;o.Dj=0;o.ya=function(a){if(this.Hi!=0)this.K=Math.floor(this.Dj+this.Hi*(a-1))};
o.ze=function(a){var b=0,c;switch(this.Pf){case 22:for(c=0;c<7;c++)if((this.Xb&1<<c)!=0)switch(c){case 0:b+=a[50]*this.K;break;case 1:b+=a[53]*this.K;break;case 2:b+=a[51]*this.K;break;case 3:b+=a[55]*this.K;break;case 4:b+=a[52]*this.K;break;case 5:b+=a[54]*this.K;break;case 6:b+=a[55]*this.K}break;case 29:switch(this.Xb){case 0:b+=a[4]*this.K;break;case 1:b+=a[3]*this.K;break;case 2:b+=a[7]*this.K;break;case 3:b+=a[5]*this.K;break;case 4:b+=a[6]*this.K;break;case -1:for(c=3;c<=7;c++)b+=a[c]*this.K}break;
case 34:b+=a[1]*this.K;break;case 35:if(this.Xb==0)b+=a[2]*this.K;break;case 85:b+=a[43]*this.K;break;case 99:b+=a[38]*this.K;break;case 124:b+=a[39]*this.K;break;case 189:for(c=0;c<32;c++)if((this.Xb&1<<c)!=0)if(c<=19)b+=a[c+11]*this.K;else if(c==23)b+=a[37]*this.K;else if(c==25)b+=a[49]*this.K}return b};function tc(a){this.Jj=a[0];this.Ij=a[1];this.Xj=a[2];this.Vd=a[3];this.vi=a[4];this.Pj=a[5]}o=tc.prototype;o.Jj=0;o.Ij=0;o.Xj=0;o.vi=0;o.Pj=0;o.Vd=0;function uc(a){this.tb=a[0];this.om=a[1];this.nm=a[2]}uc.prototype={tb:0,om:0,nm:0};function vc(a){this.xc=a[0]}vc.prototype.xc=0;function wc(a){this.xc=a[0];this.of=a[1];this.te=a[2]}wc.prototype.xc=0;wc.prototype.of=0;wc.prototype.te=0;function xc(a){this.kl=a[0];this.ll=a[1];this.Bi=a[2];this.ml=a[3];this.nl=a[4]}o=xc.prototype;o.kl=0;o.ll=0;o.Bi=0;o.ml=0;o.nl=0;function U(a){var b,c=a[17],d=f;if(c!=f)for(b=0;b<c.length;b++){d=c[b];!d||y.contains(d[0])||y.A(new U(d))}this.j=85;this.sb=a;this.c=a[0];this.v=a[1];this.hl=a[2];this.F=a[3];this.Qj=a[4];this.pb=a[5];this.Ud=a[6];this.Me=a[7];this.Hf=a[8];this.Mg=a[9];this.jj=this.Mg==f?0:Math.max(this.Mg[0],this.Mg[1])/1E3;this.O=Array(3);for(b=0;b<3;b++)this.O[b]=a[10][b]?new sc(a[10][b]):f;this.wd=a[11]?new tc(a[11]):f;this.Hj=a[12]?a[12]:"";this.ym=a[13];this.Fh=a[14]?new xc(a[14]):f;this.yb=a[15]?new wc(a[15]):
f;this.Eb=[];for(b=0;b<a[16].length;b++)this.Eb[b]=F.yo(a[16][b]);this.Nd=a[18]?new uc(a[18]):f;this.dl=a[19]?new vc(a[19]):f;this.Wd=a[20];this.ya(this.j)}o=U.prototype;o.j=0;o.sb=f;o.c=f;o.v=f;o.hl=f;o.F=f;o.Qj=f;o.pb=f;o.Ud=f;o.Me=f;o.Hf=f;o.Mg=f;o.jj=0;o.O=f;o.wd=f;o.Hj=f;o.ym=i;o.Fh=f;o.yb=f;o.Nd=f;o.dl=f;o.Eb=f;o.Wd=0;o.oe=0;
function lc(a){for(var b=a.Hj,c,d,g;(c=b.match(/\$(s|m|M)\(-?(\d+),(-?\d+),(-?\d+),(-?\d+),(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?)\)/i))!=f;){g=parseFloat(c[8]);d=sa(parseInt(c[2],10),parseInt(c[3],10),parseInt(c[4],10),a.j);d=qa(d?d[1]:1,parseInt(c[5],10),parseFloat(c[6]),parseFloat(c[7]),a.j);b=b.replace(c[0],Math.floor(g*(Math.abs(d[0])+(c[1]=="M"?Math.abs(d[1]):0))))}for(;(c=b.match(/\$d\((\d+),(\d+),(\d+),(\d+(?:\.\d+)?)\)/i))!=f;){d=sa(parseInt(c[2],10),parseInt(c[3],10),parseInt(c[4],
10),a.j);b=b.replace(c[0],d[0])}for(;c=b.match(/(\${[^}]*)\$time\((-?\d+(?:\.\d+)?)\)([^}]*})/i);)b=b.replace(c[0],c[1]+c[2]+c[3]);for(;c=b.match(/\$time\((-?\d+(?:\.\d+)?)\)/i);)b=b.replace(c[0],eb(c[1]));return b.replace(/\$pl/ig,a.j)}o.getName=function(){return this.v};
o.ya=function(a){var b,c;this.j=a;if(this.wd!=f){a=sa(this.wd.Jj,this.wd.Ij,this.wd.Xj,this.j);if(a!=f)this.Hf=a[0];for(c=0;c<this.O.length;c++)if(this.O[c]!=f){b=qa(a!=f?a[1]:1,this.wd.Vd,this.wd.vi[c],this.wd.Pj[c],this.j);if(b!=f){this.O[c].K=b[0];this.O[c].Oj=b[1]}}}else for(c=0;c<this.O.length;c++)this.O[c]!=f&&this.O[c].ya(a)};
o.Ma=function(a,b,c){this.ya(a!=f?a.j:85);var d="<table cellpadding = 0 cellspacing = 0 style='vertical-align: top'>",g="",h="",j="";if(!b||(b&1)==0)d+=F.f("<span class='tooltip_title'>"+this.getName()+"</span>");h="";if(this.oe&&this.Me==5){if(this.oe[0])h+=this.oe[0]+" "+locale.Blood;if(this.oe[1])h+=(h?", ":"")+this.oe[1]+" "+locale.Unholy;if(this.oe[2])h+=(h?", ":"")+this.oe[2]+" "+locale.Frost}else if(this.Ud){g=this.Me==1||this.Me==6?this.Ud[0]/10:this.Ud[0];if(a!=f){g=Math.max(F.floor(g,2),
Math.floor(this.Ud[1]*a.g.Hg/100));if(g>0)h=g+" "+locale.energy2[this.Me]}else if(g>0)h=g+" "+locale.energy2[this.Me];else if(this.Ud[1]>0)h=F.floor(this.Ud[1],2)+"% "+locale.ofBaseMana}h=h?"<span style='white-space:nowrap'>"+h+"</span>":"";j="";if(this.pb!=f&&this.pb[1]>0)j=this.pb[3]>0&&(this.pb[1]!=this.pb[3]||this.pb[0]!=this.pb[2])?D(locale.RangeEnemy,cb(this.pb[0],this.pb[1]))+"<br />"+D(locale.RangeFriendly,cb(this.pb[2],this.pb[3])):cb(this.pb[0],this.pb[1]);if(h&&j)d+=F.kb(h,j);else if(h||
j)d+=F.f(h?h:j);g=this.jj;j="";if(this.jj)j=eb(g)+" "+locale.cooldown;h="";if(this.Hf>0||j)h="<span style='white-space:nowrap'>"+(this.Hf>0?D(locale.cast,F.ceil(this.Hf/1E3,2)):locale.instantCast)+"</span>";if(j)d+=F.kb(h,j);else if(h)d+=F.f(h);if(b&1)for(b=0;b<c.length;b++)d+=F.f("<span class='tooltip_talents_required'>"+c[b]+"</span");d+=F.f("<span class='tooltip_spell_description'>"+Ya(lc(this),a).join("<br/>")+"</span>");return d+"</table>"};function yc(a){return(a.Eb[0]&64)!=0&&a.Qj<=0}
o.Ob=function(){return new U(this.sb)};o.toString=function(){return"Spell ["+this.c+"]: "+lc(this)};o.ze=function(a){var b=0;if(!yc(this))return 0;for(var c=0;c<3;c++)if(this.O[c])b+=this.O[c].ze(a);return b};function zc(a){for(var b=0;b<3;b++)if(a.O[b]&&a.O[b].Pf==23)return y.H(a.O[b].qh)};function Xb(a){var b;this.c=a[0];this.ea=[];this.va=[];this.Ya=[];for(b=0;b<5;b++){this.ea[b]=a[1][b];this.va[b]=a[2][b];this.Ya[b]=a[3][b]}this.Q=[];for(b=0;b<3;b++)this.Q[b]=this.ea[b]==1||this.ea[b]==3||this.ea[b]==7?new U(a[4][b]):a[4][b];this.$=a[5];this.Wc=a[6];this.Ah=a[7]?new oc(a[7]):f;this.ff=a[8];this.Kb=a[9];this.of=a[10]}o=Xb.prototype;o.c=0;o.ea=[];o.va=[];o.Ya=[];o.$="";o.vg="";o.Wc=f;o.Ah=f;o.ff=0;o.Kb=0;o.Q=[];o.of=0;
function Ac(a,b){if(b!=f&&a.Wc!=f)for(var c=0;c<5;c++)if(!mc(a,c,b.z.Yc))return i;return e}function mc(a,b,c){var d=a.Wc[1][b];d||(d=0);var g=a.Wc[2][b];g||(g=0);var h=a.Wc[3][b];h||(h=0);(a=a.Wc[4][b])||(a=0);if(!c)return i;if(g==0&&a!=0)if(c[d]!=a)return i;if(g==2)if(c[d]>=c[h])return i;if(g==3)if(a>0){if(c[d]<a+1)return i}else if(c[d]<=c[h])return i;if(d>0&&g==5&&c[d]<a)return i;return e}
o.ac=function(a){if(this.ea[0]==5||this.ea[0]==4)this.va[0]=a;else if(this.ea[0]==3)if(this.Q[0]!=f&&this.Q[0].O[0]!=f)this.Q[0].O[0].K=a;if(!this.vg)this.vg=this.$;this.$=this.vg.replace(/\$i/g,a)};function Bc(a,b){if(a.Ah&&a.ff>0){if(b){var c=Cc(b,a.Ah.c);if(c!=f&&c.j>=a.ff)return e}return i}return e}o.lb=function(a){return(this.Kb<=1||a!=f&&this.Kb<=a.j)&&Bc(this,a)&&Ac(this,a)};
o.Ma=function(a){var b="<table cellpadding = 0 cellspacing = 0>",c=this.Kb<=1||a!=f&&this.Kb<=a.j,d=Bc(this,a);a=Ac(this,a);b+=F.f("<span "+(d&&c?a?"class='green'":"class='grey'":"class='red'")+">"+(this.ea[0]==7&&this.Q[0]?locale.use+": "+lc(this.Q[0]):this.$)+"</span>");c||(b+=F.f("<span class='red'>"+D(locale.reqLevel,this.Kb)+"</span>"));d||(b+=F.f("<span class='red'>"+locale.req+" "+this.Ah.v+" ("+this.ff+")</span>"));return b+"</table>"};o.bb=function(a){for(var b=0;b<3;b++)this.ea[b]==3&&a.add(this.Q[b])};
o.ze=function(a){for(var b=0,c=0;c<3;c++)switch(this.ea[c]){case 5:switch(this.Ya[c]){case 0:b+=a[2]*this.va[c];break;default:b+=a[this.Ya[c]]*this.va[c]}break;case 4:switch(this.Ya[c]){case 0:b+=a[50]*this.va[c];break;case 1:b+=a[53]*this.va[c];break;case 2:b+=a[51]*this.va[c];break;case 3:b+=a[55]*this.va[c];break;case 4:b+=a[52]*this.va[c];break;case 5:b+=a[54]*this.va[c];break;case 6:b+=a[56]*this.va[c]}break;case 3:b+=this.Q[c].ze(a)}return b};function Dc(a,b){this.c=b[0];this.v=b[1];this.$=b[2];this.Ig=[];for(var c=0;c<b[3].length;c++){var d=new pc(b[3][c]);if(d){this.Ig.push(d);y.A(d.n)}}this.i=a;this.ya(mb(this.c,a.j))}o=Dc.prototype;o.c=0;o.v="";o.$="";o.Ig=[];o.j=0;o.i=f;o.ya=function(a){var b=mb(this.c,this.i.j);this.j=a>b?b:a};function Ec(){this.b=document.createElement("div");this.M=document.createElement("div");this.t=document.createElement("div");this.b.appendChild(this.M);this.b.appendChild(this.t);this.M.Qo=l(i);this.M.onmousedown=l(i);M(this.M,"click",this.Jd,this,[])}o=Ec.prototype;o.b=f;o.t=f;o.M=f;o.Ia=e;o.collapse=function(){this.t.style.display="none";this.Ia=i};o.expand=function(){this.t.style.display="block";this.Ia=e};o.Jd=function(){this.Ia?this.collapse():this.expand()};function Fc(a){this.u=Array(a);for(var b=0;b<a;b++){this.u[b]=document.createElement("div");if(b==0)this.u[b].style.position="relative";else{this.u[b].style.position="absolute";this.u[b].style.zIndex=b;this.u[0].appendChild(this.u[b])}}}Fc.prototype.u=f;function Gc(a,b,c,d){var g=document.createElement("div");this.b=document.createElement("div");this.b.className=b+"_sel";this.wi=b;this.bd=[];for(var h=0;h<a.length;h++){this.bd[h]=document.createElement("a");this.bd[h].className=b+"_i"+h+(h==0?"_a":"");this.bd[h].innerHTML="<span class='"+b+"_l_f'>"+a[h]+"</span>";M(this.bd[h],"click",c,d,[h]);this.b.appendChild(this.bd[h])}g.className="clear_both";F.La(g)}o=Gc.prototype;o.wi="";o.bd=f;o.b=f;o.pe=0;
o.select=function(a){this.bd[this.pe].className=this.wi+"_i"+this.pe;this.bd[a].className=this.wi+"_i"+a+"_a";this.pe=a};function Hc(a){this.b=document.createElement("select");this.b.className="single_select";this.A(a)}o=Hc.prototype;o.b=f;o.ga=[];o.zj=function(a){this.b.name=a};o.A=function(a){var b;for(this.ga=[];this.b.firstChild;)this.b.removeChild(this.b.firstChild);for(b=0;b<a.length;b++){this.ga[b]=document.createElement("option");this.ga[b].value=a[b][0];this.ga[b].innerHTML=a[b][1];this.b.appendChild(this.ga[b])}};
o.select=function(a){for(var b=0;b<this.ga.length;b++)this.ga[b].selected=this.ga[b].value==a!=0};o.vb=function(){return this.b.options[this.b.selectedIndex].value};function Ic(a,b){var c;this.b=document.createElement("select");this.b.className="multi_select";this.b.multiple="true";this.b.name=b+"[]";this.ga=[];for(c=0;c<a.length;c++){this.ga[c]=document.createElement("option");this.ga[c].value=a[c][0];this.ga[c].innerHTML=a[c][1];this.b.appendChild(this.ga[c])}}Ic.prototype.b=f;Ic.prototype.ga=[];Ic.prototype.select=function(a){if(a!=(1<<this.ga.length+1)-1)for(var b=0;b<this.ga.length;b++)this.ga[b].selected=(a&1<<parseInt(this.ga[b].value,10))!=0};
Ic.prototype.vb=function(){var a=0,b,c,d=0;for(b=0;b<this.ga.length;b++){c=1<<parseInt(this.ga[b].value,10);d+=c;if(this.ga[b].selected==e)a+=c}if(a==0)a=d;return a};function Jc(a){this.k=Array(a);this.b=document.createElement("div");for(var b=0;b<a;b++){this.k[b]=document.createElement("div");this.k[b].style.display=b==0?"block":"none";this.k[b].style.width="100%";this.k[b].style.height="100%";this.b.appendChild(this.k[b])}this.Ia=0}o=Jc.prototype;o.k=f;o.b=f;o.Ia=0;o.Z=f;o.show=function(a){if(a!=this.Ia){var b=this.Ia;this.k[a].style.display="block";this.k[b].style.display="none";this.Ia=a;this.Z&&this.Z[0].apply(this.Z[1],[a,b])}};
o.wb=function(a,b){this.Z=[a,b]};function O(a,b){var c=document.createElement("colgroup"),d;this.b=document.createElement("table");this.b.cellSpacing="0";this.b.cellPadding="0";this.W=Array(a);this.d=Array(a);this.L=Array(b);this.b.appendChild(c);for(d=0;d<b;d++){this.L[d]=document.createElement("col");c.appendChild(this.L[d])}this.tg=document.createElement("tbody");this.b.appendChild(this.tg);for(c=0;c<a;c++){this.W[c]=document.createElement("tr");this.tg.appendChild(this.W[c]);this.d[c]=Array(b);for(d=0;d<b;d++){this.d[c][d]=document.createElement("td");
this.W[c].appendChild(this.d[c][d])}}}function Kc(a,b){var c,d;a.rj=b;for(c=0;c<a.d.length;c++)for(d=0;d<a.d[c].length;d++)a.d[c][d].vAlign=b}function Lc(a){var b=a.W.length,c;a.W[b]=document.createElement("tr");a.d[b]=[];for(c=0;c<a.L.length;c++){a.d[b][c]=document.createElement("td");a.d[b][c].vAlign=a.rj;a.W[b].appendChild(a.d[b][c])}a.tg.appendChild(a.W[b]);return b}
function Mc(a){var b=a.W.length,c=f,d;a.W[b]=document.createElement("tr");a.d[b]=[];c=document.createElement("td");c.colSpan=a.L.length;c.vAlign=a.rj;a.W[b].appendChild(c);for(d=0;d<a.L.length;d++)a.d[b][d]=c;a.tg.appendChild(a.W[b]);return b}o=O.prototype;o.d=[];o.W=[];o.L=[];o.b=f;o.tg=f;o.rj="";function Nc(a,b,c){this.yf=new Jc(a.length);this.hi=new Gc(b,c,this.show,this);this.b=this.yf.b;this.bh=this.hi.b;for(b=0;b<a.length;b++)this.yf.k[b].appendChild(a[b])}o=Nc.prototype;o.bh=f;o.b=f;o.Z=f;o.Ia=0;o.hi=f;o.yf=f;o.show=function(a){this.Ia=a;this.yf.show(a);this.hi.select(a)};o.wb=function(a,b){this.yf.wb(a,b)};function Oc(){}o=Oc.prototype;o.X=f;o.Je=i;o.Qf=i;o.Xd=f;o.Xh=function(){if(this.X==f){this.X=document.createElement("div");this.X.className="overlay";document.getElementById("tt_overlay_w").appendChild(this.X)}var a=P.Cg();this.X.style.width=Math.max(a[0],document.body.scrollWidth)+"px";this.X.style.height=Math.max(a[1],document.body.scrollHeight)+"px";this.X.style.display="block";this.Je=e;this.X.onclick=f};o.wa=function(){F.xa(this.X);this.X.style.display="none";this.Qf=this.Je=i};
o.uj=function(a){var b=a.scrollHeight,c=a.scrollWidth,d=P.Cg(),g=document.body.scrollLeft,h=document.body.scrollTop;if(b>d[1]){a.style.height=d[1]+"px";a.style.width=c*d[1]/b+"px"}if(c>d[0]){a.style.width=d[0]+"px";a.style.height=b*d[0]/c+"px"}a.style.marginLeft=g+(d[0]-c>>1)+"px";a.style.marginTop=h+(d[1]-b>>1)+"px"};o.Id=function(a){this.Xh();F.ba(this.X,a);this.uj(a)};function Pc(a,b){this.Ye={};if(a)for(var c in a)this.Ye[c]=a[c];this.bg=b;this.Yd=document.createElement("input");M(this.Yd,"change",this.Pi,this,[]);M(this.Yd,"keyup",this.Pi,this,[]);M(this.Yd,"blur",this.Pi,this,[])}Pc.prototype={Ye:f,bg:f,Yd:f,filter:function(a){F.xa(this.bg);for(var b in this.Ye)if(!a||RegExp(a,"i").exec(b))this.bg.appendChild(this.Ye[b])},oo:function(){F.xa(this.bg);for(var a in this.Ye)this.bg.appendChild(this.Ye[a])},Pi:function(){this.filter(this.Yd.value)}};function Qc(){this.Ke=[]}Qc.prototype.Ke=[];Qc.prototype.A=function(a){this.Ke[a.c]=a};Qc.prototype.contains=function(a){if(this.Ke[a])return e;return i};Qc.prototype.H=function(a){return this.Ke[a]};function Rc(){this.Ke=[];this.Tf=new p(this.tj,this)}Rc.prototype=new Qc;Rc.prototype.Tf=f;Rc.prototype.Fd=function(a,b,c){this.H(a)?t(b,c):Sc("php/interface/get_item.php"+E({item:a,lang:g_settings.language}),this.Tf,[b,c,this])};Rc.prototype.tj=function(a,b,c,d){if(a!=f){d.A(new ac(a));t(b,c)}};function Tc(){this.Ke=[];this.Tf=new p(this.tj,this)}Tc.prototype=new Qc;Rc.prototype.Tf=f;Tc.prototype.Fd=function(a,b,c){this.H(a)?t(b,c):Sc("php/interface/get_spell.php"+E({spell:a,lang:g_settings.language}),this.Tf,[b,c,this,a])};Tc.prototype.tj=function(a,b,c,d,g){if(a!=f){d.A(new U(a));t(b,c)}else ba("SpellContainer::asyncGet failed! Requested Spell #"+g)};function Uc(a){this.i=a;this.le();this.Fg=i}o=Uc.prototype;o.i=f;o.Sb=[];o.R=[];o.De=[];o.Gg=[];o.Jh=[];o.Kf=[];o.Mh=[];o.D=[];o.la=[];o.Jc=[];o.aa=[];o.n=[];o.Da=[];o.vi=[];o.mj=[];o.Og=0;o.Yg=0;o.mi=0;o.Hg=0;o.Ph=0;o.rg=0;o.Nh=0;o.sg=0;o.Oh=0;o.pf=0;o.$e=0;o.pg=0;o.Lh=0;o.zd=[];o.Zg=0;o.Pg=0;o.$g=0;o.Tb=0;o.dd=0;o.Bf=0;o.cb=0;o.Md=0;o.ah=0;o.Yf=0;o.Xf=0;o.gd=[];o.ee=[];o.fd=[];o.de=[];o.Xc=[];o.Ac=[];o.Vb=0;o.Ub=0;o.Ib=0;o.Ec=0;o.Dc=0;o.gc=0;o.nc=0;o.Zi=0;o.gg=0;o.xh=0;o.wh=0;o.fg=0;o.$i=0;
o.hg=0;o.dg=0;o.cg=0;o.rd=0;o.th=0;o.af=0;o.Of=0;o.Nf=0;o.lh=0;o.pi=0;o.Ve=0;o.ki=0;o.Bh=0;o.dj=0;o.Tj=0;o.il=0;o.jl=0;o.Fg=i;
o.le=function(){var a;this.Sb=[0,0,0,0,0,0,0];this.R=[0,0,0,0,0];this.De=[0,0,0,0,0];this.Gg=[0,0,0,0,0];this.Jh=[0,0,0,0,0];this.Kf=[0,0,0,0,0];this.Mh=[0,0,0,0,0];this.D=[];for(a=0;a<40;a++)this.D[a]=0;this.aa=[0,0,0,0,0,0,0,0,0,0];this.ua=[0,0,0,0,0,0,0,0];this.n=[0,0,0,0,0,0,0,0];this.Da=[0,0,0,0,0];this.Jc=[0,0,0,0,0];this.Oh=this.sg=this.Nh=this.rg=this.Ph=this.mi=this.Hg=this.Yg=this.Og=0;this.zd=[];this.Xf=this.Yf=this.ah=this.Md=this.cb=this.Bf=this.$g=this.Pg=this.Zg=this.Lh=this.pg=this.$e=
this.pf=0;this.gd=[0,0,0];this.ee=[0,0,0];this.fd=[0,0,0];this.de=[0,0,0];this.hg=this.$i=this.fg=this.wh=this.xh=this.gg=this.Zi=0;this.Xc=[0,0,0,0];this.Ac=[0,0,0,0];for(a=this.Tj=this.th=this.rd=this.cg=this.dg=this.nc=this.dj=this.Bh=this.ki=this.pi=this.lh=this.Nf=this.Of=this.af=this.Ki=this.gc=this.Dc=this.Ec=this.Ji=this.Ib=this.Ub=this.Vb=this.dd=this.Tb=0;a<6;a++)this.zd[a]=0;for(a=0;a<7;a++)this.la[a]=0;this.Ve=0;this.mj=[0,0,0,0,0,0,0,0]};
function tb(a,b){a.Fg&&ba("Concurring calls of Stats::calculate");a.Fg=e;Vc(a.i.z);var c,d,g,h,j;h=0;var k=a.i.z,q=k.H(17)!=f&&k.H(17).T==2,x=k.H(18)!=f&&k.H(18).T==2,m=a.i.j,r,n=a.i.da,v=[],s={},u=n.i.z,z,I;z=f;n.Wk=ma[n.i.e?n.i.e.c:0];n.da=[];n.r=[];Wc(n,n.O);n.Ce={};n.Gf={};n.ji={};n.Vf=[-1,-1];n.Zf=[-1,-1];n.ig=[-1,-1];n.i.bb();for(I=0;I<20;I++)if(z=u.H(I)){z.bb();if(I==16)n.Vf=[z.T,z.fa];if(I==17)n.Zf=[z.T,z.fa];if(I==18)n.ig=[z.T,z.fa];if(z.pa!=f)if(s[z.pa.c]!==e){s[z.pa.c]=e;v[v.length]=z.pa}}for(I=
0;I<v.length;I++)v[I].bb(n.i);n.Te={};for(I=0;I<n.da.length;I++)Xc(n,n.da[I],1,i,i);for(I=0;I<n.r.length;I++){z=n.r[I];z.Ue||n.ji[z.n.c]||Xc(n,z.n,z.tb,e,z.rl)}r=n.O;n=r[0];v=r[1];s=r[2];u=r[3];g=a.i.Na==f?0:a.i.Na.c;var Z=a.i.e;I=i;var J=z=0,$=-1,Q=f,aa=f;if(Z){I=e;z=Z.c;J=Z.Va;$=Z.q.J;Q=Z.Zk;if(Q[m])aa=Q[m]}Q=[0,0,0,0,0];var Da=Ea[z];if(z==11&&J>0)switch(J){case 1:Da=Fa;break;case 5:Da=Ga;break;case 31:Da=Ha}a.le();if(!I||!aa)aa=[0,0,0,0,0,0,0,0,0,0,0];a.mi=aa[5];a.Hg=aa[6];for(c=0;c<5;c++){Q[c]=
wa[g][c]+(I?aa[c]:0);a.De[c]=Math.floor(Q[c]*(1+n[137][c]/100))}if(J==1||J==5||J==8)if(a.i.da.lb(17002))n[49]+=2;else if(a.i.da.lb(24866))n[49]+=4;if(a.i.da.lb(48411)){if(J==1)n[290]+=4;if(J==5||J==8)n[79][0]+=4}a.ki=n[142][0]/100;for(c=0;c<19;c++){j=Yc(a.i,c);g=b?k.H(c):k.k[c][0];if(g!=f){cc(g,m);if(c!=5&&c!=6){h++;a.Ve+=g.j}d=a;var N=g,Y=void 0;for(Y=0;Y<N.g.length;Y++)if(N.g[Y]!=f)if(N.g[Y][0]>=50)switch(N.g[Y][0]){case 50:d.la[0]+=N.g[Y][1];break;case 51:d.la[2]+=N.g[Y][1];break;case 52:d.la[4]+=
N.g[Y][1];break;case 53:d.la[1]+=N.g[Y][1];break;case 54:d.la[5]+=N.g[Y][1];break;case 55:d.la[3]+=N.g[Y][1];break;case 56:d.la[6]+=N.g[Y][1]}else if(N.g[Y][0]>=11)d.D[N.g[Y][0]-11]+=N.g[Y][1];else d.R[la[N.g[Y][0]]]+=N.g[Y][1];if(N.ca!=-1&&N.qa!=-1)if(N.ca>=11)d.D[N.ca-11]+=N.qa;else d.R[la[N.ca]]+=N.qa;d.la[0]+=N.bc;if(N.T==4&&N.fa>0)d.la[0]+=N.bc*d.ki;for(d=0;d<3;d++)if(g.I[d]){if(g.ha[d]<=0)if(j)j=i;else continue;Zc(a,g.I[d].oa.cc)}fc(g)&&Zc(a,g.re);for(d=0;d<g.G.length;d++){j=g.G[d];j!=f&&Zc(a,
j)}if(g.Y){g=g.Y.G;for(d=0;d<5;d++){j=g[d];j!=f&&Zc(a,j)}}}}a.la[0]=Math.round((a.la[0]+n[22][0]+n[143][0])*(1+n[101][0]/100));for(c=1;c<a.la.length;c++)a.la[c]=Math.round((a.la[c]+n[22][c]+n[143][c])*(1+n[142][c]/100));a.Ve=h>0?a.Ve/h:0;a.mj=[0,n[133],n[132],n[137][1],n[137][0],n[137][3],n[137][4],n[137][2]];for(c=0;c<5;c++){a.R[c]+=n[29][c];a.R[c]*=1+n[137][c]/100;a.R[c]+=a.De[c];a.R[c]=Math.floor(a.R[c]);if(Da[c]>0)a.Gg[c]=a.R[c]>=10*Da[c]?a.R[c]*(n[268][c]/100+Da[c])-10*Da[c]:0;for(d=0;d<32;d++)a.D[d]+=
Math.floor(n[220][d][c]/100*(a.R[c]-Q[c]))}a.Kf[1]+=xa[z]*100+a.R[1]*aa[7];a.Mh[3]+=ya[z]*100+a.R[3]*aa[8];a.Xc[0]=a.D[26];for(c=0;c<4;c++){a.Xc[c]+=r[c][189][23];a.Ac[c]+=a.Xc[c]/A[23][m-1]+r[c][240];if(c>0){a.Ac[c]+=a.Ac[0];a.Xc[c]+=a.Xc[0]}}a.il=Math.ceil((Na[3]-a.Ac[1]*0.25)*A[23][m-1]/0.25);a.jl=Math.ceil((Ma[3]-a.Ac[1]*0.25)*A[23][m-1]/0.25);if(m>=80){a.Tb=a.D[38]+n[189][25];a.dd=z==1&&Z.q.J==1?2+a.Tb/A[25][m-1]:z==8&&Z.q.J==2?2+a.Tb/A[25][m-1]:8+a.Tb/A[25][m-1]}a.Pg=(m<80?10:10+(m-80)*0.8)*
Math.max(0,a.R[2]-20)+(a.R[2]>=20?20:a.R[2]);a.Og=a.Pg+a.mi*(1+n[282]/100)+n[34]+n[230];a.Og*=1+n[133]/100;a.Zg=15*Math.max(0,a.R[3]-20)+(a.R[3]>=20?20:a.R[3]);a.Yg=a.Zg+a.Hg+n[35][0];a.Yg*=1+n[132]/100;a.Yf=a.D[17]+a.D[25]+n[189][17];a.Xf=a.Yf/A[17][m-1];a.gg=a.D[18]+a.D[25]+n[189][18];a.xh=a.gg/A[18][m-1];a.Md=n[99]+a.D[27];a.cb+=a.Md;a.Bf+=n[166];a.cb+=Oa[z]*m;for(c=0;c<5;c++)a.cb+=a.Gg[c];a.Md*=1+a.Bf/100;a.cb*=1+a.Bf/100;a.nc=n[124]+a.D[27]+Aa[z]*a.R[1]+Ba[z]*m+Ca[z];for(c=0;c<5;c++)a.nc+=a.R[c]*
(n[212][c]/100);a.nc*=1+n[167]/100;a.gd[0]=a.D[5]+a.D[20];a.fd[0]=a.D[8]+a.D[21];for(d=0;d<a.R.length;d++)a.de[0]+=a.Kf[d];for(c=0;c<3;c++){a.gd[c]+=r[c][189][5]+r[c][189][20];a.ee[c]+=a.gd[c]/A[5][m-1]+r[c][54];a.fd[c]+=r[c][189][8]+r[c][189][21];a.de[c]+=a.fd[c]/A[8][m-1]+r[c][52]+r[c][290]+r[c][71][0];if(c>0){a.ee[c]+=a.ee[0];a.gd[c]+=a.gd[0];a.de[c]+=a.de[0];a.fd[c]+=a.fd[0]}}a.Tj=Math.ceil((Ia[3]-a.ee[1])*A[5][m-1]);a.hg=a.D[6]+a.D[20];a.$i=a.hg/A[6][m-1]+n[54]+u[54];a.fg=a.D[9]+a.D[21];a.wh=
a.fg/A[9][m-1]+n[290]+n[71][0]+n[52]+u[290]+u[71][0]+u[52];for(d=0;d<a.R.length;d++)a.wh+=a.Kf[d];if(z==11&&J==5){a.Ib=2500;if(h=k.H(16)){a.Vb=h.hd*2500/h.eb;a.Ub=h.ed*2500/h.eb}}else if(z==11&&J==1){a.Ib=1E3;if(h=k.H(16)){a.Vb=h.hd*1E3/h.eb;a.Ub=h.ed*1E3/h.eb}}else if(h=k.H(16)){a.Ib=h.eb;a.Vb=h.hd;a.Ub=h.ed}else{a.Ib=2E3;a.Vb=22.6;a.Ub=22.6}a.Vb+=a.cb/14*a.Ib/1E3;a.Ub+=a.cb/14*a.Ib/1E3;a.Ib/=(1+a.Xf/100)*(1+n[138]/100+v[138]/100)*(1+n[319]/100+v[319]/100)*(1+n[192]/100+v[192]/100)*(1+n[193]/100+
v[193]/100);a.ah=((1+a.Xf/100)*(1+n[138]/100)*(1+n[319]/100)*(1+n[192]/100)*(1+n[193]/100)-1)*100;a.Vb+=n[13][0]+v[13][0];a.Ub+=n[13][0]+v[13][0];a.Vb*=1+(n[79][0]+v[79][0])/100;a.Ub*=1+(n[79][0]+v[79][0])/100;a.Ji=(a.Vb+a.Ub)*500/a.Ib;if(q){h=k.H(17);a.gc=h.eb;a.Ec=h.hd+a.cb/14*a.gc/1E3;a.Dc=h.ed+a.cb/14*a.gc/1E3;a.gc/=(1+a.Xf/100)*(1+n[138]/100+s[138]/100)*(1+n[319]/100+s[319]/100)*(1+n[192]/100+s[192]/100)*(1+n[193]/100+s[193]/100);a.Ec+=n[13][0]+s[13][0];a.Dc+=n[13][0]+s[13][0];a.Ec*=1+(n[79][0]+
s[79][0])/100;a.Ec*=1+(n[122]+s[122])/100;a.Ec>>=1;a.Dc*=1+(n[79][0]+s[79][0])/100;a.Dc*=1+(n[122]+s[122])/100;a.Dc>>=1;a.Ki=(a.Ec+a.Dc)*500/a.gc}if(x){h=k.H(18);a.rd=h.eb;a.dg=h.hd+a.nc/14*a.rd/1E3+n[13][0]+u[13][0];a.cg=h.ed+a.nc/14*a.rd/1E3+n[13][0]+u[13][0];a.rd/=(1+a.xh/100)*(1+(n[140]+u[140])/100)*(1+(n[141]+u[141])/100)*(1+(n[320]+u[320])/100)*(1+(n[192]+u[192])/100)*(1+(n[193]+u[193])/100);a.th=(a.dg+a.cg)*500/a.rd}a.Zi=((1+a.xh/100)*(1+n[140]/100)*(1+n[141]/100)*(1+n[320]/100)*(1+n[192]/
100)*(1+n[193]/100)-1)*100;a.Jh[3]=Math.max(0,a.R[3]-10);a.Ph=a.Jh[3]+a.D[34]+n[238][1]/100*a.cb+n[135][1];a.Ph*=1+n[317]/100;a.rg=a.D[19]+a.D[25]+n[189][19];a.Nh=((1+a.rg/A[19][m-1]/100)*(1+n[65]/100)*(1+n[193]/100)-1)*100;a.sg=a.D[7]+a.D[20]+n[189][7]+n[189][20];a.Oh=a.sg/A[7][m-1]+Math.min(n[55][1],n[55][2],n[55][3],n[55][4],n[55][5],n[55][6]);a.pg=a.D[10]+a.D[21]+n[189][10]+n[189][21];a.Lh=a.Mh[3]+a.pg/A[10][m-1]+n[57]+n[290]+Math.max(v[57],s[57]);for(c=0;c<6;c++)a.zd[c]=Math.abs(a.D[36])+Math.abs(n[123][c]);
if(vb(a.i)){a.$g=5*(0.0010+Math.sqrt(a.R[3])*a.R[4]*Sa[m-1]);a.pf=a.$g;a.$e=n[85]+a.D[32]+a.pf*(n[134]/100);for(c=0;c<5;c++)a.$e+=n[219][c]/100*a.R[c]}else{a.$e=0;a.pf=0}a.pf+=aa[10];a.$e+=aa[10];if((1<<z&134)!=0)a.pi=5+n[51]+(z==2&&$==1?2.25*a.dd:0)+(z==1&&$==2?1.5*a.dd:0)+(a.D[4]+n[189][4])/A[4][m-1];a.Of=a.D[2]+n[189][2];if(I){a.Nf=z==2||z==1||z==6?n[49]+5+1/(Pa[z-1]/(a.Of/A[2][m-1]+aa[9])+(Ra[z-1]?1/Ra[z-1]:0)):n[49]+za[z]+a.De[1]*aa[9]+1/(Pa[z-1]/(a.Of/A[2][m-1]+aa[9]*(a.R[1]-a.De[1]))+(Ra[z-
1]?1/Ra[z-1]:0));if((1<<z&94)!=0||z==7&&$==1){a.af=a.D[3]+n[189][3];switch(z){case 1:case 2:case 6:a.af+=(a.R[0]-Q[0])*0.27}a.lh=5+n[47]+1/(Pa[z-1]/(a.af/A[3][m-1])+(Qa[z-1]?1/Qa[z-1]:0))}}else a.Nf=n[49]+a.Of/A[2][m-1];a.Bh=a.D[24]+Math.min(a.D[14]+n[189][14],a.D[15]+n[189][15],a.D[16]+n[189][16]);a.dj=1-Math.pow(0.99,a.Bh/A[15][m-1]);a.Sb[0]=a.Og;a.Sb[1]=a.Yg;a.Sb[2]=100;a.Sb[3]=100+n[35][3]+Math.min(v[35][3],s[35][3]);a.Sb[4]=100;a.Sb[5]=Math.floor(100+n[35][6]/10);a.Sb[6]=a.Ve;a.aa[0]=[[Math.floor(a.Vb),
Math.ceil(a.Ub)],q?[Math.floor(a.Ec),Math.ceil(a.Dc)]:f];a.aa[1]=[a.Ji,q?a.Ki:f];a.aa[2]=a.cb;a.aa[3]=[a.Ib,q?a.gc:f];a.aa[4]=a.ah;a.aa[5]=a.ee[1];a.aa[6]=a.de[1];a.aa[7]=[Math.floor(a.Ac[1]),q?Math.floor(a.Ac[2]):f];a.aa[8]=a.dd;if(x){a.ua[0]=[Math.floor(a.dg),Math.ceil(a.cg)];a.ua[1]=a.th;a.ua[3]=a.rd}else{a.ua[0]=f;a.ua[1]=f;a.ua[3]=f}a.ua[2]=a.nc;a.ua[4]=a.Zi;a.ua[5]=a.$i;a.ua[6]=a.wh;a.ua[7]=a.dd;a.n[0]=a.Ph;a.n[1]=a.Nh;a.n[2]=a.Oh;a.n[3]=Math.min(a.zd[1],a.zd[2],a.zd[3],a.zd[4],a.zd[5]);a.n[4]=
a.pf;a.n[5]=a.$e;a.n[6]=a.Lh;a.n[7]=a.dd;a.Da[0]=a.la[0];a.Da[1]=a.Nf;a.Da[2]=a.lh;a.Da[3]=a.pi;a.Da[4]=a.Bh;a.Jc[0]=a.la[6];a.Jc[1]=a.la[2];a.Jc[2]=a.la[3];a.Jc[3]=a.la[4];a.Jc[4]=a.la[5];a.Fg=i}function Zc(a,b){var c;if(b.lb(a.i))for(c=0;c<b.ea.length;c++)if(b.ea[c]==5)if(b.Ya[c]>=11)a.D[b.Ya[c]-11]+=b.va[c];else a.R[la[b.Ya[c]]]+=b.va[c];else if(b.ea[c]==4)a.la[b.Ya[c]]+=b.va[c]}
function Qb(a){var b=[],c=a.i.j;b[0]=a.R[4];b[1]=a.Nf*A[2][c-1];b[2]=a.lh*A[3][c-1];if($c(a.i)){b[3]=a.Oh*A[7][c-1];b[4]=a.Lh*A[10][c-1];b[5]=a.Nh*A[19][c-1]}else{b[3]=a.ee[1]*A[5][c-1];b[4]=a.de[1]*A[8][c-1];b[5]=a.ah*A[17][c-1]}b[6]=a.Ac[1]*A[23][c-1];b[7]=a.dd*A[25][c-1];return b};function ad(a){this.k=Array(19);this.wg=[1,2,3,16,[20,5],4,19,9,10,6,7,8,11,11,12,12,[21,17,13],[23,22,14,13,17],[28,26,25,15]];this.Yc=[0,0,0,0,0];this.i=a;for(a=0;a<this.k.length;a++)this.k[a]=[f,f,f,f,f]}o=ad.prototype;o.k=[];o.wg=[];o.oh=f;o.pd=0;o.ph=-1;o.Li=f;o.dk=f;o.yi=i;o.zi=f;o.Yc=[];o.i=f;function bd(a,b){for(var c=a.k[b].length-1;c>0;c--)a.k[b][c]=a.k[b][c-1];a.k[b][0]=f}
function cd(a,b,c){c==16&&!dd(a.i)&&b.ta==17&&a.k[17][0]!=f&&bd(a,17);c==17&&!dd(a.i)&&a.k[16][0]&&a.k[16][0].ta==17&&bd(a,16)}o.tc=function(){if(this.pd>-1){if(this.ph>-1){dc(this.k[this.pd][0],this.dk,this.ph,e);Vc(this)}if(this.yi){var a=this.k[this.pd][0],b=this.zi;if(b)for(var c=0;c<a.G.length;c++)if(a.G[c].c==b.c){a.G.splice(c,1);break}sb(this.k[this.pd][0],this.Li)}}this.oh=this.Li=f;this.ph=this.pd=-1;this.yi=i;this.zi=f};
o.A=function(a,b){var c=i,d;if(typeof this.wg[a]=="object")for(d=0;d<this.wg[a].length;d++){if(b.ta==this.wg[a][d])c=e}else if(b.ta==this.wg[a])c=e;cc(b,this.i.j);if(!kc(this.i,b)){S(T,"Your Character does not fit the requirements to wear "+b.v+"!");return i}if(b.wc!=0&&(b.wc&1535)!=1535&&(this.i.e==f||(b.wc&1<<this.i.e.c-1)==0)){c=0;var g="";for(d=0;d<=10;d++)if(b.wc&1<<d){g=locale.a_class[d];c++;if(c>2)break}if(c==1){S(T,"Dressing up like a "+g+" still doesn't make you one!");return i}S(T,"Your Character does not fit the class requirements to wear "+
b.v+"!");return i}if(ed(this,b,a)){cd(this,b,a);if(c){bd(this,a);(this.k[a][0]=b)&&ec(b,this.i)}}return c};function ed(a,b,c){var d;if(b.vf||(b.xe&524288)!=0==e)for(d=0;d<a.k.length;d++)if(d!=c)if(a.k[d][0]!=f&&b.c==a.k[d][0].c){S(T,D(locale.ERR_UniqueItem,b.v));return i}return e}o.remove=function(a){this.k[a][0]!=f&&bd(this,a)};o.H=function(a){if(this.pd==a&&this.oh!=f)return this.oh;if(a>=0&&a<this.k.length)return this.k[a][0];return f};
function Vc(a){var b=f,c=f;c=-1;a.Yc=[0,0,0,0,0];for(var d=0;d<19;d++)if(b=a.H(d))for(var g=0;g<3;g++)if(c=b.I[g]){c=c.fa;c==6&&a.Yc[1]++;if(c==0||c==3||c==5||c==8)a.Yc[2]++;if(c==2||c==4||c==5||c==8)a.Yc[3]++;if(c==1||c==3||c==4||c==8)a.Yc[4]++}}o.bi=function(a){var b,c;for(b=0;b<this.k.length;b++)if(this.k[b][0]!=f)for(c=0;c<3;c++)this.k[b][0].I[c]&&this.k[b][0].I[c].c==a&&dc(this.k[b][0],f,c,i)};
o.Ag=function(a,b){var c,d,g,h;for(c=0;c<this.k.length;c++)if(this.k[c][0]!=f){h=Yc(this.i,c);for(d=0;d<3;d++){g=this.k[c][0].ha[d];if((g>0||h)&&(!b||(g&b)!=0)){if(g<=0)h=i;dc(this.k[c][0],ua.H(a),d,i)}}}};o.di=function(){var a;for(a=0;a<19;a++)this.k[a][0]&&this.k[a][0].restore()};o.ai=function(a){this.di();for(var b in a)this.k[b][0]&&nc(this.k[b][0],a[b][0],a[b][1])};
o.xj=function(a,b){var c,d,g,h,j,k="",q;if(a.length==0)S(T,"No stats for reduction selected!");else if(b.length==0)S(T,"No stats to add selected!");else for(c=0;c<19;c++){q=this.k[c][0];if(q==f)k+="No item found in slot "+c+".<br />";else if(q.j<200)k+="Item level to low.<br />";else if(q.V!=-1)k+="Item '<span style='color:"+va[q.za]+"'>"+q.v+"</span>' is already reforged.<br />";else{k+="<span style='color:"+va[q.za]+"'>"+q.v+"</span>";for(d=0;d<a.length;d++){k+="Trying to reduce "+locale.ItemStatNames[a[d]]+
"<br />";for(g=0;g<q.g.length;g++)if(q.g[g]&&q.g[g][0]==a[d]){k+="Found "+locale.ItemStatNames[a[d]]+"<br />";for(h=0;h<b.length;h++){j=e;for(g=0;g<q.g.length;g++)if(q.g[g]&&q.g[g][0]==b[h])j=i;if(j){nc(q,a[d],b[h]);k+="Reforge successful reduced "+locale.ItemStatNames[a[d]]+" and added "+locale.ItemStatNames[b[h]]+"<br />";break}k+=locale.ItemStatNames[b[h]]+" is already present <br />"}break}k+="No modification<br />"}}}};function jb(a,b){this.i=a;this.c=b[0];this.v=b[1];this.eg=[];for(var c=0;c<b[2].length;c++)this.eg[c]=new pc(b[2][c]);if(1<<this.c&4196506)this.pl=e}o=jb.prototype;o.i=f;o.c=-1;o.v=-1;o.eg=[];o.pl=i;o.bb=function(a){for(var b,c,d=0;d<this.eg.length;d++){b=this.eg[d];if(b.n!=f){c=this.i.e;if(c!=f&&1<<c.c-1&b.Jf||b.Jf<=0)a.add(b.n)}}};o.toString=function(){return"CharacterRace ("+this.v+","+this.eg+")"};function fd(a){var b;this.N=0;this.c=a[0];this.qk=a[1];this.Mj=a[2];this.Q=Array(5);for(b=this.Aa=0;b<a[3].length;b++)if(a[3][b]){this.Q[b]=new U(a[3][b]);y.A(this.Q[b]);this.Aa++}else this.Q[b]=f;this.F=this.Q[0].F;this.pk=a[4];this.td=[f,f,f];this.gb=a[5]}o=fd.prototype;o.c=0;o.Q=f;o.gb=f;o.Aa=0;o.pk=0;o.N=0;o.qk=0;o.Mj=0;o.c=0;o.td=[];o.F="Temp";function gd(a){for(var b=0;b<3;b++)if(a.td[b]!=f&&a.td[b].Aa!=a.td[b].N)return i;return e}o.getName=function(){return this.Q[0]?this.Q[0].getName():f};
function hd(a,b,c){if(c==4){if(b==3||b==31||b==35||b==41){if((a.gb[0]&212992||a.gb[0]==0)&&(a.gb[1]&2147483648||a.gb[1]==0))return e;return i}if(a.gb[0]&21238021||a.gb[0]==0)return e;return i}if(c==1){if(b==7||b==37||b==44){if((a.gb[0]&2064||a.gb[0]==0)&&(a.gb[1]&268435456||a.gb[1]==0))return e;return i}if((a.gb[0]&42476576||a.gb[0]==0)&&(a.gb[1]&201326592||a.gb[1]==0))return e;return i}return e};function id(a,b,c){var d,g,h,j,k,q;this.c=a;this.mh=-1;this.ub=(this.be=c)?1:3;this.W=c?6:7;this.L=4;this.dh=c?20:10;this.nh=c?3:5;this.ak=c?4:1;this.ug=[];this.we=[];this.Za=[0,0,0];this.J=c?0:-1;this.Bd=[];this.jb=[];this.q=[];this.oj=[];this.Db=[];this.Wf=[];this.qg=[];this.j=85;this.b=document.createElement("div");this.ve=[];this.Cd=[];this.Qh=document.createElement("span");this.Qh.className="ts_total";this.mg=document.createElement("a");this.Mf=document.createElement("div");this.yh=document.createElement("span");
this.zh=document.createElement("span");this.Yb=[];this.Nc=[];this.me=[];this.Kh=[];this.Gc=[];this.ri=c?["fe","te","cu"]:["wa","pa","hu","ro","pr","dk","sh","ma","wl","","dr"];this.Ge=this.Vd=f;this.Fe="";this.sb=b;this.Fi=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"];for(d=0;d<this.ub;d++){k=new O(this.W,this.L);k.b.cellSpacing=0;k.b.cellPadding=0;k.b.className="talent_tree_table";this.we[d]=b[d][0];this.q[d]=Array(this.W);this.jb[d]=Array(this.W);for(a=0;a<this.W;a++){this.q[d][a]=Array(this.L);
this.jb[d][a]=Array(this.L)}this.Bd[d]=k;for(a=0;a<b[d][3].length;a++)jd(this,b[d][3][a],d);for(a=0;a<this.W;a++)for(g=0;g<this.L;g++)if(this.q[d][a][g]!=f){k=this.q[d][a][g];for(j=0;j<3;j++)if(h=k.pk[j])k.td[j]=this.oj[h]}this.Wf[d]=[];for(a=0;a<b[d][4].length;a++)this.Wf[d][a]=b[d][4][a]!=f?new U(b[d][4][a]):f;this.Db[d]=[];for(a=0;a<b[d][5].length;a++)this.Db[d][a]=new U(b[d][5][a])}k=new O(1,3);d=new O(1,1);d.b.className="align_center";k.b.className="talent_table";(new O(1,3)).b.className="align_center";
this.mg.className="talent_reset_link";this.mg.appendChild(document.createTextNode("[x]"));M(this.mg,"click",this.Tl,this);this.yh.className="talent_remaining_points";this.zh.className="talent_required_level";q=new O(1,2);q.d[0][0].appendChild(this.yh);q.d[0][1].appendChild(this.zh);q.d[0][1].appendChild(this.Qh);q.d[0][1].appendChild(this.mg);q.d[0][1].className="text_align_right";q.b.style.width="100%";this.Ad=new Jc(2);this.Ad.k[0].className="text_align_center";this.Ad.k[0].appendChild(document.createTextNode(D(locale.ChooseYourSpericalization,
locale.a_class[this.c-1])));this.Ad.k[1].appendChild(q.b);this.Ad.b.className="ts_title";d.d[0][0].appendChild(this.Ad.b);for(a=0;a<this.ub;a++){this.ve[a]=document.createElement("a");this.Cd[a]=document.createElement("span");this.Yb[a]=document.createElement("div");this.Nc[a]=document.createElement("div");j=a==0?"#D0A000":a==1?"#A00000":"#2E4D99";q=new O(1,3);this.ug[a]=document.createElement("img");this.ug[a].className="talent_tree_icon";if(!this.be)this.ug[a].src="images/icons/medium/"+b[a][2]+
".png";this.Cd[a].className="talent_tree_spent";this.ve[a].appendChild(document.createTextNode(this.we[a]));M(this.ve[a],"click",this.gk,this,[a]);h=document.createElement("div");h.className="talent_tree_title";g=document.createElement("h3");g.appendChild(this.ve[a]);g.appendChild(this.Cd[a]);g.className="talent_tree_name";this.me[a]=document.createElement("a");this.me[a].className="talent_tree_reset_link";this.me[a].appendChild(document.createTextNode("[x]"));M(this.me[a],"click",this.Ul,this,[a]);
q.d[0][0].appendChild(this.ug[a]);q.d[0][1].appendChild(g);q.d[0][1].style.width="100%";q.d[0][1].vAlign="center";q.d[0][2].appendChild(this.me[a]);q.b.style.width="100%";h.appendChild(q.b);this.Nc[a].appendChild(h);this.Nc[a].appendChild(this.Bd[a].b);this.Nc[a].className="talent_tree_node";if(!c){g=document.createElement("h3");g.className="talent_select_title";h=document.createElement("a");h.appendChild(document.createTextNode(this.we[a]));M(h,"click",this.gk,this,[a]);this.Kh[a]=h;g.appendChild(h);
this.Yb[a].appendChild(g);this.Yb[a].style.borderColor=j;h=document.createElement("div");h.className="talent_select_icon_div";h.style.backgroundImage="url(images/icons/large/"+b[a][2]+".png)";g=document.createElement("div");g.className="talent_select_circle_div";g.style.backgroundImage="url(images/talents/talent_select_circle_grey.png)";h.appendChild(g);this.Yb[a].appendChild(h);h=document.createElement("div");h.className="talent_spells_parent";q=new O(this.Db[a].length,2);Kc(q,"middle");this.qg[a]=
[];this.Gc[a]=[];for(g=0;g<this.Db[a].length;g++){j=new Fc(3);this.Gc[a][g]=document.createElement("span");this.Gc[a][g].innerHTML+=this.Db[a][g].getName();this.Gc[a][g].onmouseout=function(){T.na()};this.Gc[a][g].onmousemove=function(){T.move()};M(this.Gc[a][g],"mouseover",T.gi,T,[this.Db[a][g]]);j.u[0].className="ts_primary_icon"+(g!=0?"_s":"");j.u[0].style.backgroundImage="url(images/icons/"+(g==0?"half":"small")+"/"+this.Db[a][g].F+".png)";j.u[1].className="ts_primary_border"+(g!=0?"_s":"");j.u[2].className=
"ts_primary_event"+(g!=0?"_s":"");j.u[2].onmouseout=function(){T.na()};j.u[2].onmousemove=function(){T.move()};M(j.u[2],"mouseover",T.gi,T,[this.Db[a][g]]);this.qg[a][g]=j;q.d[g][0].appendChild(j.u[0]);q.d[g][1].appendChild(this.Gc[a][g])}h.appendChild(q.b);this.Yb[a].appendChild(h);h=document.createElement("div");h.className="talent_select_description";h.appendChild(document.createTextNode(Ya(b[a][1],f).join(" ")));this.Yb[a].appendChild(h);this.Yb[a].className="talent_select_div";this.Nc[a].appendChild(this.Yb[a])}k.d[0][a].appendChild(this.Nc[a])}this.Mf.className=
"talent_link_div";d.d[0][0].appendChild(k.b);this.tf=document.createElement("a");this.tf.innerHTML=locale.ViewTalentTrees;this.tf.className="talent_switch_link";M(this.tf,"click",this.fm,this,[a]);b=document.createElement("div");b.className="text_align_center";b.appendChild(this.tf);d.d[0][0].appendChild(b);d.d[0][0].appendChild(this.Mf);this.b.appendChild(d.b);kd(this,-1);this.update()}o=id.prototype;o.jb=f;o.Bd=f;o.q=[];o.oj=f;o.be=i;o.mh=0;o.c=0;o.ub=3;o.W=7;o.L=4;o.dh=10;o.ak=1;o.Pa=f;o.j=-1;
o.Vd=f;o.sb=f;o.we=[];o.ug=f;o.Za=[];o.J=-1;o.yk=e;o.Ge=f;o.Fe="";o.b=f;o.ve=f;o.Cd=f;o.Qh=f;o.mg=f;o.me=f;o.Mf=f;o.yh=f;o.zh=f;o.ri=f;o.Yb=f;o.Nc=f;o.tf=f;o.Ad=f;o.qg=f;o.Kh=f;o.Gc=f;o.Qi=f;o.Db=f;o.Wf=f;o.Fi=f;o.Fl=function(a,b,c){this.jb[a][b][c].Qg.className="talent_highlight_div_hover";T.Nk(this,a,b,c,this.jb[a][b][c].zb)};o.El=function(a,b,c){this.jb[a][b][c].Qg.className="talent_highlight_div";T.na()};o.Ul=function(a){ld(this,a,i);this.update();md(this);this.Pa&&t(this.Pa,[])};o.Tl=function(){this.le(i)};
o.gk=function(a){if(this.J==-1){kd(this,a);this.update()}};o.fm=function(){this.yk?nd(this,i):nd(this,e)};
function kd(a,b){for(var c=0;c<a.ub;c++){a.Nc[c].style.borderColor=c==b?"#FFCC00":"";a.Bd[c].b.style.backgroundImage=c==b?"url(images/talents/talent_tree_glow.png)":"";a.me[c].style.visibility=b==-1?"hidden":"visible";a.Cd[c].style.visibility=b==-1?"hidden":"visible";for(var d=0;d<a.Db[c].length;d++){a.qg[c][d].u[0].style.backgroundImage="url(images/icons/"+(b==-1||c==b?"":"g/")+(d==0?"half":"small")+"/"+a.Db[c][d].F+".png)";a.qg[c][d].u[1].style.backgroundImage="url(images/icon_border"+(d==0?"_smaller":
"_smallest")+(b==-1||c==b?"":"_g")+".png)";a.Gc[c][d].className="ts_primary_name"+(b==c||b==-1?"":"_g")}}a.J=b;if(b==-1){nd(a,e);a.Ad.show(0)}else{nd(a,i);a.Ad.show(1)}nd(a,b==-1);c=b==-1;for(d=0;d<a.ub;d++)if(c){a.ve[d].className="talent_tree_name_link";a.Kh[d].className="talent_select_link"}else{a.ve[d].className="talent_tree_name_link_inactive";a.Kh[d].className="talent_select_link_inactive"}a.le(e);a.Qi&&t(a.Qi,[b])}
function nd(a,b){for(var c=0;c<a.Yb.length;c++)a.Yb[c].style.display=b?"block":"none";a.yk=b;a.tf.innerHTML=b?locale.ViewTalentTrees:locale.ViewSummaries}function od(a){return a.j<a.dh?0:Math.floor(pd(a)-qd(a))}function pd(a){return a.j<a.dh?0:a.be?Math.floor((a.j-a.dh)/a.ak+1):1+Math.min(35,a.j-9>>1)+Math.max(0,a.j-80)}function qd(a){for(var b=0,c=0;c<a.ub;c++)b+=a.Za[c];return b}
function rd(a){var b,c,d,g,h,j,k;for(b=0;b<a.ub;b++){for(c=g=0;c<a.W;c++)for(d=0;d<a.L;d++){k=a.q[b][c][d];if(k!=f)g+=k.N}a.Za[b]=g}j=od(a)<=0;for(b=0;b<a.ub;b++){g=0;h=a.J==-1||b!=a.J&&a.Za[a.J]<31;a.Nc[b].style.backgroundImage="url(images/talents/bg/"+(h?"g/":"")+(1<<a.c-1)+"_"+b+".jpg)";for(c=0;c<a.W;c++)for(d=0;d<a.L;d++){k=a.q[b][c][d];if(k!=f){k=a.q[b][c][d];if(k!=f){a.jb[b][c][d].update(j||h,gd(k)&&g>=c*a.nh&&!j&&!h);for(var q=0;q<3;q++)if(k.td[q]){var x=a,m=b,r=c,n=d,v=k.td[q],s=void 0,u=
"",z=v.qk;v=v.Mj;if(x.q[m][z][v].Aa==x.q[m][z][v].N)if(x.q[m][r][n].Aa==x.q[m][r][n].N||x.q[m][r][n].Aa!=x.q[m][r][n].N&&od(x)!=0&&x.Za[m]>=x.nh*r)u="_active";if(n!=v){if(n<v)x.jb[m][z][v].Qb[0].className="talent_arrow_left_start"+u;else x.jb[m][z][v].Qb[2].className="talent_arrow_right_start"+u;for(s=Math.min(n,v)+1;s<Math.max(n,v);s++)x.Bd[m].d[v][s].className="talent_arrow_horizontal"+u;if(r!=z)x.Bd[m].d[z][n].className=n<v?"talent_arrow_left_corner"+u:"talent_arrow_right_corner"+u;else if(n<v)x.jb[m][r][n].Qb[2].className=
"talent_arrow_left_end"+u;else x.jb[m][r][n].Qb[0].className="talent_arrow_right_end"+u}if(r!=z){if(n==v)x.jb[m][z][v].Qb[3].className="talent_arrow_vertical_start"+u;for(s=Math.min(r,z)+1;s<Math.max(r,z);s++)x.Bd[m].d[s][n].className="talent_arrow_vertical"+u;x.jb[m][r][n].Qb[1].className="talent_arrow_vertical_end"+u}}g+=k.N}}}}}
function md(a){var b="";a.Vd=[];a.Ge=[];a.Fe="";var c=b=0,d=-1,g="",h,j,k;for(h=0;h<a.ub;h++)for(j=0;j<a.W;j++)for(k=0;k<a.L;k++)if(a.q[h][j][k]!=f){a.Ge[b++]=a.q[h][j][k].N;a.Vd[c++]=a.q[h][j][k].N;if(d==-1)d=a.q[h][j][k].N;else{d=d*6+a.q[h][j][k].N;g+=sd(a,d);d=-1}}else a.Vd[c++]=0;if(d!=-1)g+=sd(a,d*6);for(j=0;j<g.length;j++)if(g.charCodeAt(j)==48){for(b=0;g.charCodeAt(j)==48&&j<g.length;){j++;b++}if(j!=g.length){j--;a.Fe+=","+sd(a,b)}}else a.Fe+=g.charAt(j);a.Qh.innerHTML=qd(a)+"/"+pd(a);a.Cd[0].innerHTML=
a.Za[0];a.Cd[1].innerHTML=a.Za[1];a.Cd[2].innerHTML=a.Za[2];b=a.be?"?p="+a.ri[Math.log(a.c)/Math.LN2]+a.Fe+"&pid="+a.mh:"?t="+a.ri[Math.log(a.c)/Math.LN2]+a.Fe;a.Mf.innerHTML="<a class='talent_link' target='_blank' href='"+b+"'>http://chardev.org/"+b+"</a><br/>";b="http://www.wowarmory.com/talent-calc.xml?"+(a.be?"pid="+a.mh:"cid="+(Math.log(a.c)/Math.LN2+1))+"&tal="+a.Ge.join("");a.be||(a.Mf.innerHTML+="<a class='talent_link' target='_blank' href='"+b+"'>http://www.wowarmory.com/</a>");if(!a.Pa){b=
qd(a);b=b==0?0:10+Math.max(0,Math.min(71,(b-1)*2-1))+Math.max(0,b-37);a.zh.innerHTML=D(locale.Required_Level,"<span class='ts_level'>"+(b==0?"-":b+"")+"</span>")}a.yh.innerHTML=D(locale.Remaining_Points,"<span class='ts_remaining'>"+od(a)+"</span>")}
o.ck=function(a,b,c,d){T.na();if(this.J!=-1&&this.q[a][b][c]!=f&&this.q[a][b][c].N+d<=this.q[a][b][c].Aa&&this.q[a][b][c].N+d>=0&&od(this)-d>=0&&this.Za[a]>=this.nh*b&&(this.Za[this.J]>=31||a==this.J)&&(this.J!=a||this.Za[a]+d>=31||qd(this)==this.Za[a])){this.q[a][b][c].N+=d;this.Za[a]+=d;var g;a:{g=0;var h,j,k,q=[];for(h=0;h<this.W;h++){q[h]=[];for(j=0;j<this.L;j++){q[h][j]=-1;k=this.q[a][h][j];if(k!=f&&k.N>0){if(g<h*this.nh){g=i;break a}if(!gd(k)){g=i;break a}g+=k.N}}}g=e}if(g)rd(this);else{this.q[a][b][c].N-=
d;this.Za[a]-=d}md(this);this.Pa&&t(this.Pa,[])}T.Nk(this,a,b,c,this.jb[a][b][c].zb);return i};function jd(a,b,c){var d=b[1],g=b[2];if(!a.q[c][d][g]){b=new fd(b);if(!(a.be&&!hd(b,a.mh,a.c))){a.q[c][d][g]=b;a.oj[b.c]=b;b=new td(a.q[c][d][g]);b.b.className="talent_border";M(b.zb,"click",a.ck,a,[c,d,g,1]);M(b.zb,"contextmenu",a.ck,a,[c,d,g,-1]);M(b.zb,"mouseover",a.Fl,a,[c,d,g]);M(b.zb,"mouseout",a.El,a,[c,d,g]);F.ba(a.Bd[c].d[d][g],b.b);a.jb[c][d][g]=b}}}
function ld(a,b,c){if(!c&&b==a.J&&qd(a)!=a.Za[b])a.le(e);else for(c=0;c<a.W;c++)for(var d=0;d<a.L;d++)if(a.q[b][c][d]!=f)a.q[b][c][d].N=0}function sd(a,b){b=b>9?b>35?65+b-36:97+b-10:48+b;return unescape("%"+a.Fi[Math.floor(b/16)]+a.Fi[Math.floor(b%16)])}o.le=function(a){for(var b=0;b<this.ub;b++)ld(this,b,e);a||kd(this,-1);this.update();md(this);this.Pa&&t(this.Pa,[])};o.update=function(){rd(this);md(this)};
o.bb=function(a){var b=f,c,d,g;for(c=0;c<this.ub;c++){for(d=0;d<this.W;d++)for(g=0;g<this.L;g++)if(this.q[c][d][g]!=f){b=this.q[c][d][g].N==0?f:this.q[c][d][g].Q[this.q[c][d][g].N-1];b!=f&&a.add(b)}if(c==this.J){for(d=0;d<this.Db[c].length;d++)a.add(this.Db[c][d]);for(d=0;d<this.Wf[c].length;d++)a.add(this.Wf[c][d])}}};o.ya=function(a){this.j=a;od(this)<0&&this.le(e);this.update()};o.wb=da("Pa");function ib(a){var b,c=0;this.sb=a;this.g=[];this.j=-1;this.qe=f;this.U=[[f,f,f],[f,f,f],[f,f,f]];this.c=a[0];this.v=a[1];this.q=new id(a[0],a[2],i);this.Zk=a[3];this.Gh={};this.ti=[];for(b=0;b<a[4].length;b++)this.ti[b]=new pc(a[4][b]);this.li=[[],[],[]];for(c=0;c<a[5].length;c++)for(b=0;b<a[5][c].length;b++)this.li[c][b]=new ud(a[5][c][b]);if(a[6]){this.qe=[];for(b=0;b<a[6].length;b++){this.qe[b]=new qc(a[6][b]);this.Gh[this.qe[b].c]=this.qe[b]}}if(a[7]){this.ge=[];for(b=0;b<a[7].length;b++){c=
new U(a[7][b]);this.ge.push(c);y.A(c)}}if(a[9]){this.ge=[];for(b=0;b<a[9].length;b++)y.A(new U(a[9][b]))}this.Lg=a[8];this.ld=[];this.sj=[];for(b=0;b<56;b++){this.ld[b]=1;this.sj[b]=0}}o=ib.prototype;o.sb=f;o.g=[];o.q=f;o.c=-1;o.v="";o.j=-1;o.qe=f;o.Va=0;o.U=f;o.li=f;o.Df=0;o.Gh=f;o.ge=f;o.Lg=f;o.Eh=f;o.od=f;o.ld=[];o.sj=[];o.ya=function(a){this.j=a;this.q.ya(a);for(a=this.Df=a<25?0:a<50?1:a<75?2:3;a<3;a++){this.U[0][a]=f;this.U[1][a]=f;this.U[2][a]=f}};
o.Zh=function(){var a=this.q.J;switch(this.c){case 2:switch(a){case 2:a=this.sj.slice(0);a[3]=0.81;a[4]=2.27;a[31]=1.72;a[32]=0.95;a[36]=0.81;a[37]=1.25;a[38]=1.03;a[49]=1.01;return a}}return this.ld.slice(0)};o.Hd=function(a){if(a==0)this.od=f;else{for(var b=0;b<this.ge.length;b++)if(this.ge[b].c==a){this.od=new rc(this.ge[b],1);return}ba("CharacterClass::setPresence: Unable to set presence "+a)}};o.Sc=function(a){this.Va=a;return this.Eh=this.Va!=0?this.Gh[this.Va]:f};
function vd(a,b,c){var d,g=-1;a.Df==0&&S(T,"You can't use glyphs until reaching level 25.");if(c!=f)for(d=0;d<a.Df;d++)if(a.U[b][d]==f)g=g==-1?d:g;else if(a.U[b][d].c==c.c){S(T,'The glyph "'+c.n.getName()+'" is already active!');return}if(g==-1)S(T,"All your "+locale.GlyphTypes[b]+" slots are used, remove a glyph by right clicking it!");else a.U[b][g]=c}
o.bb=function(a){var b,c;if(this.Va!=0){b=this.Gh[this.Va];for(c=0;c<b.r.length;c++)wd(a,b.r[c]);for(c=0;c<b.da.length;c++)a.add(b.da[c])}this.od&&wd(a,this.od);this.q.bb(a);for(c=0;c<this.U.length;c++)for(b=0;b<this.U[c].length;b++)this.U[c][b]&&a.add(this.U[c][b].n);for(c=0;c<this.ti.length;c++){b=this.ti[c];if(b.n!=f){if(b.n.Eb[8]&1048576)switch(this.c){case 1:if(b.n.c==86101&&this.q.J!=0||b.n.c==86110&&this.q.J!=1||b.n.c==86535&&this.q.J!=2)continue;break;case 2:if(b.n.c==86103&&this.q.J!=0||
b.n.c==86102&&this.q.J!=1||b.n.c==86539&&this.q.J!=2)continue;break;case 6:if(b.n.c==86537&&this.q.J!=0||b.n.c==86536&&this.q.J!=1||b.n.c==86113&&this.q.J!=2)continue;break;case 7:if(b.n.c==86100&&this.q.J!=0||b.n.c==86099&&this.q.J!=1||b.n.c==86108&&this.q.J!=2)continue;break;case 11:if(b.n.c==86093&&this.q.J!=0||b.n.c==86096&&(this.q.J!=1||(1<<this.Va&288)==0)||b.n.c==86097&&(this.q.J!=1||(1<<this.Va&2)==0)||b.n.c==86104&&this.q.J!=2)continue}if(1<<this.c-1&b.Jf||b.Jf<=0)a.add(b.n)}}};function xd(a){this.i=a;this.O=[yd(),yd(),yd(),yd()];this.Vf=[-1,-1];this.Zf=[-1,-1];this.ig=[-1,-1];this.Gf=this.Ce=this.Te=f}o=xd.prototype;o.i=f;o.Wk=0;o.da=[];o.r=[];o.O=[];o.Vf=[-1,-1];o.Zf=[-1,-1];o.ig=[-1,-1];o.Te={};o.Ce={};o.Gf={};o.ji={};
function yd(){var a=Array(321);a[13]=Array(7);a[22]=Array(7);a[29]=Array(5);a[30]=Array(96);a[35]=Array(7);a[55]=Array(7);a[71]=Array(7);a[79]=Array(7);a[98]=Array(96);a[101]=Array(25);a[107]=Array(25);a[108]=Array(25);a[123]=Array(7);a[135]=Array(7);a[137]=Array(7);a[142]=Array(7);a[143]=Array(7);a[174]=Array(7);for(var b=0;b<7;b++)a[174][b]=Array(5);a[175]=Array(5);a[189]=Array(38);a[199]=Array(7);a[212]=Array(5);a[219]=Array(5);a[220]=[];for(b=0;b<32;b++)a[220][b]=[0,0,0,0,0];a[237]=Array(7);a[238]=
Array(7);a[268]=Array(5);return a}function Wc(a,b){if(b)for(var c=0;c<b.length;c++)if(typeof b[c]==="object")Wc(a,b[c]);else b[c]=0}o.add=function(a){if(!(!a||this.Ce[a.c])){this.da.push(a);this.Ce[a.c]=e}};function wd(a,b){if(!(!b||a.Gf[b.n.c])){a.r.push(b);a.Gf[b.n.c]=e}}o.lb=function(a){return this.Ce[a]||this.Gf[a]?e:i};
function Xc(a,b,c,d,g){if(b){b.ya(a.i.j);if(!(b.Fh&&b.Fh.Bi!=0&&(b.Fh.Bi&1<<(a.i.e?a.i.e.Va-1:0))==0))if(d||yc(b)){a.ji[b.c]=e;if(b.yb!=f&&b.yb.xc!=-1){b.yb.xc==a.Vf[0]&&b.yb.te&1<<a.Vf[1]&&zd(a,b,a.O[1],c,d,g);b.yb.xc==a.Zf[0]&&b.yb.te&1<<a.Zf[1]&&zd(a,b,a.O[2],c,d,g);b.yb.xc==a.ig[0]&&b.yb.te&1<<a.ig[1]&&zd(a,b,a.O[3],c,d,g);if(b.yb.xc==4){var h,j,k=e;for(h=0;h<32&&k;h++)if(b.yb.of&1<<h){j=na[h];(j=a.i.z.k[j][0])&&j.T==b.yb.xc&&b.yb.te&1<<j.fa||(k=i)}k&&zd(a,b,a.O[0],c,d,g)}}else zd(a,b,a.O[0],
c,d,g)}}}
function zd(a,b,c,d,g,h){b=b.O;var j=0,k=i;if(g&&!h)for(g=0;g<3;g++)if(b[g]!=f&&b[g].Cf==65){k=e;break}var q;for(g=0;g<3;g++){h=b[g];if(h!=f){q=h.K;j=h.c;if(!(k&&h.Cf!=65)){switch(j){case 68368:if(a.Te[47203])continue;break;case 47203:if(a.Te[68368])continue;break;case 46325:case 68163:if(!Ad(a,[46325,68163]))continue;Ad(a,[44537,68341,68343,90962,90963])||(q-=6);break;case 44537:case 90962:case 90963:case 68341:case 68343:if(!Ad(a,[44537,68341,68343,90962,90963]))continue;if(!Ad(a,[46325,68163]))continue;
break;case 3549:case 45922:case 48552:if(!Ad(a,[3549,45922,48552]))continue;break;case 86186:case 97691:case 48553:if(!Ad(a,[86186,97691,48553]))continue}a.Te[j]=e;Bd(a,c,h.Pf,q*d,h.Xb,h.xk,j)}}}}function Ad(a,b){for(var c in b)if(a.Te[b[c]])return i;return e}
function Bd(a,b,c,d,g,h,j){var k;k=a.i.e?a.i.e.Va:0;switch(j){case 81812:d=120;break;case 88002:case 88004:case 88006:if(k!=5&&k!=8)return;c=142;g=1;break;case 8697:case 8700:case 8694:if(k!=5&&k!=8)return;c=137;h=4;break;case 8699:case 8696:case 8693:if(k!=1)return;c=166}switch(c){case 13:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 22:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 29:if(g==-1)for(k=0;k<5;k++)Bd(a,b,c,d,k,h,j);else b[c][g]+=d;break;case 30:b[c][g]+=
d;break;case 35:b[c][g]+=d;break;case 55:if(g==0)g=127;for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 71:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 79:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 98:b[c][g]+=d;break;case 99:b[c]+=d;break;case 101:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 107:b[c][g]+=d;break;case 108:b[c][g]+=d;break;case 123:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 124:b[c]+=
d;break;case 135:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 137:for(k=0;k<b[c].length;k++)if(h&1<<k||h==-1)b[c][k]=((1+b[c][k]/100)*(1+d/100)-1)*100;break;case 142:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]=((1+b[c][k]/100)*(1+d/100)-1)*100;break;case 143:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]=Math.max(d,b[c][k]);break;case 174:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k][h]+=d;break;case 175:b[c][g]+=d;break;case 189:for(k=0;k<b[c].length;k++)if(g&
Math.pow(2,k))b[c][k]+=d;break;case 199:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 212:b[c][g]+=d;break;case 219:b[c][g]+=d;break;case 220:for(k=0;k<32;k++)if(g&1<<k)b[c][k][h]+=d;break;case 237:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 238:for(k=0;k<b[c].length;k++)if(g&Math.pow(2,k))b[c][k]+=d;break;case 240:if(j==21444&&a.lb(56416))d+=10;b[c]+=d;break;case 268:if(g==-1)for(k=0;k<5;k++)Bd(a,b,c,d,k,h,j);else b[c][g]+=d;break;default:b[c]+=d}};function Cd(){var a;this.S=new Ob(["stat_weights_change","stat_caps_change","level_change","class_change","character_load","selected_tree_change","calculate_stats"]);this.Qa=new Dd(0);this.Zc=new Dd(1);this.Le=new Ed(Fd);this.gj=new Gd;this.ka=[f,f];this.g=new Uc(this);this.kc=new Uc(this);this.z=new ad(this);this.da=new xd(this);this.r=new Hd;this.r.wb(new p(this.yl,this));this.C=new Id(this);this.C.Sd.lo(new p(this.r.remove,this.r));this.C.Sd.ho(new p(this.r.Wh,this.r));this.C.bf.wb(new p(this.Hd,
this));this.sf=[];this.Rh="";this.tk=[];for(a=0;a<19;a++){this.sf[a]="";this.tk[a]=""}this.ya(85);this.uk=new p(this.gm,this);this.Fm=new p(function(){this.Ae(this.e.Zh())},this);this.ld=[];for(a=0;a<56;a++)this.ld[a]=1;this.Ae(this.ld.slice(0));this.Wg=gb(this)}o=Cd.prototype;o.S=f;o.da=f;o.r=f;o.e=f;o.Na=f;o.z=f;o.Le=f;o.Zc=f;o.Qa=f;o.gj=f;o.g=f;o.kc=f;o.j=85;o.v="";o.$="";o.c=-1;o.Hm=-1;o.ka=[];o.C=f;o.uk=f;o.si=f;o.Ii=f;o.Ni=f;o.sf=[];o.Rh="";o.tk=[];o.Ja=[];o.ld=[];o.qf=f;o.Wg=f;
function $c(a){var b=a.e?a.e.c:0;a=a.e?a.e.q.J:-1;return b==9||b==5||b==8||b==11&&a!=1||b==7&&a!=1||b==2&&a!=2}o.zj=da("v");o.Zh=function(){return this.Ja};o.Ae=function(a){this.Ja=a;this.S.ab("stat_weights_change",[this.Ja]);this.Qa.Ae(a)};function Jd(a){return a.qf!=f?a.qf:Kd(a)}function Ld(a){a.qf=f;a.S.ab("stat_caps_change",[Jd(a)])}
function Kd(a){if($c(a)){ja[3]=Math.floor(Ka[3]*A[7][a.j-1]);ja[6]=0}else{ja[3]=Math.floor(Ia[3]*A[5][a.j-1]);ja[6]=Math.floor(Na[3]*A[23][a.j-1]/0.25)}return ja}
function Md(a,b){switch(b){case 0:return 2;case 1:return 4;case 2:return 8;case 3:return 65536;case 4:return 1048608;case 5:return 16;case 6:return 524288;case 7:return 512;case 8:return 1024;case 9:return 64;case 10:return 128;case 11:return 256;case 12:return 2048;case 13:return 2048;case 14:return 4096;case 15:return 4096;case 16:if(a.e!=f)switch(a.e.c){case 4:break;default:return 2236416}return 2105344;case 17:if(a.e!=f)switch(a.e.c){case 1:return 8404992|(a.e.q.J==1?4202496:0)|(dd(a)?131072:
0);case 2:return 8404992;case 3:return 12591104;case 4:return 12591104;case 6:return 12591104;case 7:return 8404992|(a.e.q.J==1?4202496:0)}return 8388608}return 0}function Nd(a){if(a.e!=f)switch(a.e.c){case 1:return(a.j>=40?31:15)+64;case 2:return(a.j>=40?31:15)+64+2048;case 6:return(a.j>=40?31:15)+2048;case 3:return a.j>=40?15:7;case 7:return(a.j>=40?15:7)+64+2048;case 11:return 2055;case 4:return 7;case 5:case 8:case 9:return 3}return 31}
function Od(a,b){switch(b){case 0:case 2:case 4:case 7:case 8:case 9:case 10:case 11:var c=31;if(a.e!=f)switch(a.e.c){case 1:c=a.j>=40?16:8;break;case 2:c=a.j>=40?16:8;break;case 3:c=a.j>=40?8:4;break;case 4:c=4;break;case 5:c=2;break;case 6:c=16;break;case 7:c=a.j>=40?8:4;break;case 8:c=2;break;case 9:c=2;break;case 11:c=4}return[4,c];case 3:return[4,2];case 5:case 6:return[4,3];case 1:case 12:case 13:case 14:case 15:return[4,1];case 18:if(a.e!=f)switch(a.e.c){case 9:case 8:case 5:return[2,524288];
case 1:case 3:case 4:return[2,327692];case 2:case 7:case 6:case 11:return[4,2048]}return[100,1]}return[-1,0]}function kc(a,b){if(b.T==4){if((1<<b.fa&Nd(a))!=0)return e}else if(b.T==2)return e;return i}
o.load=function(a){var b,c=0,d,g;if(a!=f){T.Ca();this.v=a[0][0];this.$=a[0][1];this.Na=new jb(this,a[0][2]);hb(this,f);this.C.uh.update();hb(this,new ib(a[0][3]));this.ya(a[0][4]);this.Sc(a[0][5]?a[0][5]:0);b=a[0][6]?a[0][6]:0;if(b==0&&this.e!=f&&this.e.c==6)switch(a[4]){case 0:b=48263;break;case 1:b=48266;break;case 2:b=48265;break;default:b=48263}this.Hd(b);if(this.e){if(a[4]===2||a[4]===1||a[4]===0)kd(this.e.q,a[4]);if(a[2]){b=this.e.q;c=a[2];var h=0,j,k,q;g=[];for(k=0;k<b.ub;k++)for(d=g[k]=0;d<
b.W;d++)for(q=0;q<b.L;q++)if(b.q[k][d][q]!=f){j=parseInt(c[h],10);j=isNaN(j)?0:j;g[k]+=j;h++}h=0;j=-1;for(d=0;d<b.ub;d++){if(g[d]>=31){j=d;break}if(g[d]>h){j=d;h=g[d]}}j!=-1&&kd(b,j);for(k=h=0;k<b.ub;k++)for(d=0;d<b.W;d++)for(q=0;q<b.L;q++)if(b.q[k][d][q]!=f){j=parseInt(c[h],10);b.q[k][d][q].N=isNaN(j)?0:j;h++}b.update()}if(a[5])for(b=0;b<a[5].length;b++)if(a[5][b]){c=a[5][b][0];this.ka[b]=c>0?new Dc(this,Ua[c]):f;this.ka[b].ya(a[5][b][1]);Pd(this.C)}for(b=0;b<a[3].length;b++)if(a[3][b]){c=new ud(a[3][b]);
vd(this.e,c.Eb,c)}}for(b=0;b<19;b++)if(a[1][b]){if(a[1][b][0]){d=new ac(a[1][b][0]);this.z.A(b,d);for(c=0;c<3;c++)if(a[1][b][1+c]){g=new ac(a[1][b][1+c]);dc(d,g,c,i);ua.A(g.Ob())}a[1][b][4]&&sb(d,new Xb(a[1][b][4]));a[1][b][6]!=0&&bc(d,a[1][b][6]);a[1][b][5]&&a[1][b][5][0]!=-1&&a[1][b][5][1]!=-1&&nc(d,a[1][b][5][0],a[1][b][5][1]);if(a[1][b][7])for(c=0;c<a[1][b][7].length;c++)sb(d,new Xb(a[1][b][7][c]));ua.A(d.Ob())}else this.z.remove(b);this.C.Ba[b].update()}for(b in a[6]){c=new U(a[6][b][0]);y.A(c);
this.r.A(new rc(c,a[6][b][1]))}this.C.mf.update();this.C.bf.update(this);V(this);this.Wg=gb(this);this.Ni&&t(this.Ni,[this]);T.wa()}};
function gb(a){var b=[],c,d,g,h=a.e?a.e.Va:0,j=a.e!=f&&a.e.od!=f?a.e.od.n.c:0;a.Sc(0);a.Hd(0);b[0]=[a.v,a.$,a.Na?a.Na.c:0,a.e?a.e.c:0,a.j,h,j];b[1]=[];for(c=0;c<19;c++){g=a.z.k[c][0];if(g==f)b[1][c]=f;else{b[1][c]=[];b[1][c][0]=g.c;b[1][c][1]=g.I[0]?g.I[0].c:0;b[1][c][2]=g.I[1]?g.I[1].c:0;b[1][c][3]=g.I[2]?g.I[2].c:0;b[1][c][4]=g.G.length>0?g.G[0].c:f;b[1][c][5]=[g.V,g.ca];b[1][c][6]=g.Y?g.Y.c:0;b[1][c][7]=[];for(d=1;d<g.G.length;d++)b[1][c][7].push(g.G[d].c)}}b[2]=a.e?a.e.q.Ge:[];b[3]=[];if(a.e)for(c=
0;c<a.e.U.length;c++)for(d=0;d<a.e.U[c].length;d++)a.e.U[c][d]&&b[3].push(a.e.U[c][d].c);b[4]=a.e?a.e.q.J:-1;b[5]=[f,f];for(c=0;c<2;c++){d=a.ka[c];b[5][c]=d?[d.c,d.j]:f}b[6]=[];d=a.r.r;for(c in d)!d[c]||d[c].Ue||b[6].push([d[c].n.c,d[c].tb]);a.Sc(h);a.Hd(j);return b}function vb(a){if(a.e==f)return i;return(1<<a.e.c&90)==0}
o.ya=function(a){if(a>=1&&a<=85){if(this.e!=f){if(this.e.c==6&&a<55)a=55;this.e.ya(a)}this.j=a;for(a=0;a<2;a++)if(this.ka[a])if(0==mb(this.ka[a].c,this.j))this.ka[a]=f;else{var b=this.ka[a];b.ya(b.j)}Pd(this.C);V(this);this.Ii&&t(this.Ii,[this]);Qd(this.Qa.B,"canbeusedwithlvl","canbeusedwithlvl.eq."+this.j+";");Rd(this,"canbeusedwithlvl","canbeusedwithlvl.eq."+this.j+";")}Sd(this.C,this.j);Ld(this)};
function hb(a,b){if(a.e){a.Sc(0);a.Hd(0)}if(a.e=b){if(b.c==1)a.Sc(17);else b.c==6&&a.Hd(48263);a.e.q.wb(a.uk);a.e.q.Qi=a.Fm;a.e.ya(a.j);Td(a.C.Ba[18],e);a.Ae(a.e.Zh())}else{Td(a.C.Ba[18],i);a.Ae(a.ld.slice(0))}a.C.mf.update();a.C.bf.update(a);Ud(a.C,a.e!=f?a.e.c:0);Sd(a.C,a.j);var c=a.C,d=b!=f?b.c:0,g=0;if(d>0&&Vd[d])g=Vd[d];g|=64;for(d=0;d<c.sc.length;d++)(1<<d&g)!=0?c.sc[d].collapse():c.sc[d].expand();a.C.uh.update();Qd(a.Qa.B,"usablebyclass",a.e!=f?"usablebyclass.eq."+(1<<a.e.c-1)+";":"");Rd(a,
"usablebyclass",a.e!=f?"usablebyclass.eq."+(1<<a.e.c-1)+";":"");Ld(a);a.si&&t(a.si,[a])}function Rd(a,b,c){for(var d=0;d<19;d++)a.sf[d]=a.sf[d].replace(RegExp("\\b"+b+"\\.\\w+\\.[^;]+;","g"),"")+c}o.Sc=function(a){if(this.e){var b=this.e.Eh;a=this.e.Sc(this.e.Va==a?0:a);var c;if(b)for(c=0;c<b.r.length;c++)this.r.ci(b.r[c].n.c,e);if(a)for(c=0;c<a.r.length;c++)this.r.Vh(a.r[c].n.c,this.e.c==1,e);this.C.Sd.update();V(this)}};
o.Hd=function(a){if(this.e){this.e.od&&this.r.ci(this.e.od.n.c,e);this.e.Hd(a);a&&this.r.Vh(a,e,e)}V(this);this.C.bf.update(this)};o.yl=function(a,b){var c=i,d;if(a===2&&this.e!=f)if(d=this.e.Eh)if(typeof b==="object")for(var g in b){if(b[g]==d.r[0].n.c){c=e;break}}else if(typeof b==="number"){if(b==d.r[0].n.c)c=e}else ba("Event arguments in Character._onBuffsChange have the wrong Type. (Found: "+typeof b+", Expected: object, number)");if(c)this.Sc(0);else{(a&8)==0&&V(this);this.C.Sd.update()}};
function Wd(a,b){if(a.da.lb(b)&&!a.r.lb(b))a.r.Vh(b,i,e);else!a.da.lb(b)&&a.r.lb(b)&&a.r.ci(b,i)}
o.bb=function(){var a=this.r.r,b=0;this.e&&this.e.bb(this.da);this.Na&&this.Na.bb(this.da);for(b=0;b<2;b++)if(this.ka[b]){var c;c=this.ka[b];for(var d=0,g=f,h=0;h<c.Ig.length;h++){var j=c.Ig[h];if(j.ef>d&&j.ef<=c.j){d=j.ef;g=j}}(c=g!=f?g.n:f)&&this.da.add(c)}if(this.e)switch(this.e.c){case 1:Wd(this,29801);break;case 3:Wd(this,53290);break;case 4:Wd(this,51701);Wd(this,31223);break;case 6:Wd(this,55610);break;case 7:Wd(this,51470);break;case 11:this.da.lb(17007)&&this.e!=f&&(1<<this.e.Va&290)!=0?
this.r.Vh(24932,i,i):this.r.ci(24932,i)}this.C.Sd.update();for(b in a)wd(this.da,a[b])};function Yc(a,b){var c=Cc(a,164);if((b==7||b==8)&&a.z.H(b)!=f&&a.z.H(b).j>=60&&c!=f&&c.j>=400)return e;if(b==9&&a.j>=70&&a.z.H(b)!=f&&a.z.H(b).j>=80)return e;return i}function dd(a){return a.e!=f&&a.e.c==1&&a.e.q.q[1][6][1].N>0}
function V(a){Xd(a.C);tb(a.g,i);var b=a.C,c;c=b.i.e;b.g[0][1].b.style.display=c!=f&&(1<<c.c&90)==0?"block":"none";b.g[0][2].b.style.display=c!=f&&(c.c==1||c.c==11&&c.Va==5)?"block":"none";b.g[0][3].b.style.display=c!=f&&(c.c==4||c.c==11&&c.Va==1)?"block":"none";b.g[0][4].b.style.display=c!=f&&c.c==3?"block":"none";b.g[0][5].b.style.display=c!=f&&c.c==6?"block":"none";for(c=0;c<b.g[0].length;c++)b.g[0][c].ac(b.i.g.Sb[c]);for(c=0;c<b.g[1].length;c++)b.g[1][c].ac(b.i.g.R[c]);for(c=0;c<b.g[6].length;c++)b.g[6][c].ac(b.i.g.Jc[c]);
for(c=0;c<b.g[4].length;c++)b.g[4][c].ac(b.i.g.n[c]);for(c=0;c<b.g[5].length;c++)b.g[5][c].ac(b.i.g.Da[c]);for(c=0;c<b.g[2].length;c++)b.g[2][c].ac(b.i.g.aa[c]);for(c=0;c<b.g[3].length;c++)b.g[3][c].ac(b.i.g.ua[c]);a.S.ab("calculate_stats",[a.g])}o.Gd=function(a,b,c){this.z.tc();var d=this.z;if(c>-1){d.dk=d.k[b][0].I[c];dc(d.k[b][0],a,c,e)}else(d.oh=a)&&ec(a,d.i);d.pd=b;d.ph=c;tb(this.kc,e);ub(this.C)};o.tc=function(){this.z.tc();Xd(this.C)};o.bi=function(a){this.z.bi(a)};
o.Ag=function(a,b){this.z.Ag(a,b);V(this)};o.di=function(){this.z.di();V(this)};o.xj=function(a,b){this.z.xj(a,b);V(this)};o.ai=function(a){this.z.ai(a);V(this)};o.gm=function(){switch(this.e.c){case 11:this.e.q.q[0][2][1].Aa==this.e.q.q[0][2][1].N!=this.C.mf.ij&&this.C.mf.update()}V(this)};function Cc(a,b){if(a.ka[0]&&a.ka[0].c==b)return a.ka[0];else if(a.ka[1]&&a.ka[1].c==b)return a.ka[1];return f}o.ma=function(a,b){this.S.ma(a,b)};function ud(a){this.c=a[0];this.Eb=a[1];this.n=a[2]?new U(a[2]):f;this.$j=a[3]}ud.prototype.c=0;ud.prototype.Eb=0;ud.prototype.n=f;ud.prototype.$j=0;function rc(a,b){this.n=a;this.tb=b;this.Vg=i;this.ce=e;this.Ue=this.rl=i;this.Wd=0;this.rk=this.n.Nd&&this.n.Nd.tb>1}rc.prototype={n:f,tb:0,Vg:i,ce:e,Ue:i,Wd:0,rk:i,Wh:function(){this.n.Nd&&this.n.Nd.tb>this.tb&&this.tb++},Yn:function(){this.tb>1&&this.tb--},mo:da("Vg"),no:function(a){this.Ue=(this.ce=a)?i:this.Ue},jo:da("Wd"),io:function(a){this.ce=(this.Ue=a)?i:this.ce}};function Hd(){this.r={}}
Hd.prototype={r:{},Z:f,wb:da("Z"),A:function(a){this.r[a.n.c]=a;this.Z&&t(this.Z,[1,a.n.c])},Wh:function(a){var b=this.r[a];b&&b.Wh();this.Z&&t(this.Z,[4,a])},Vh:function(a,b,c){y.Fd(a,new p(this.Ej,this),[a,b,e,e,c,0])},add:function(a,b){y.Fd(a,new p(this.Ej,this),[a,i,i,b,i,0])},Ej:function(a,b,c,d,g,h){d=i;switch(a){case 79060:case 79062:this.Wb([79060,79062])||(d=e);break;case 80353:case 32182:this.Wb([80353,32182])||(d=e);break;case 79104:case 6307:case 469:this.Wb([79104,6307,469])||(d=e);break;
case 79101:case 53138:case 30808:case 19506:this.Wb([79101,53138,30808,19506])||(d=e);break;case 79057:case 54424:this.Wb([79057,54424])||(d=e);break;case 77747:case 53646:this.Wb([77747,53646])||(d=e);break;case 2895:case 49868:case 24907:this.Wb([24907,49868,2895])||(d=e);break;case 53290:case 8515:case 55610:this.Wb([8515,55610,53290])||(d=e);break;case 51701:case 29801:case 51470:case 24932:this.Wb([51701,29801,51470,24932])||(d=e);break;case 6673:case 8076:case 57330:case 93435:this.Wb([6673,
8076,57330,93435])||(d=e)}var j=y.H(a),k=[];if(j.Wd){for(var q in this.r)(this.r[q].n.Wd&j.Wd)!=0&&k.push(this.r[q].n.c);d=!this.Wb(k)}if(!d)if(this.r[a]!=f&&this.r[a].ce==(c?i:e)&&this.r[a].rk)this.r[a].Wh();else{this.r[a]=new rc(j,1);this.r[a].mo(b);this.r[a].no(c?i:e);this.r[a].jo(h);this.r[a].io(g)}if(this.Z)t(this.Z,[1|(c?8:0),a])},ci:function(a,b){if(b&&(!this.r[a]||!this.r[a].ce))delete this.r[a];else this.lk(a,e)},remove:function(a){this.lk(a,i)},lk:function(a,b){if(this.r[a])if(!this.r[a].Vg)if(!(b&&
this.r[a].ce)){if(this.r[a]&&this.r[a].tb>1)this.r[a].Yn();else delete this.r[a];if(this.Z)t(this.Z,[2|(b?8:0),a])}},Wb:function(a){for(var b=0;b<a.length;b++){if(this.r[a[b]]&&this.r[a[b]].Vg)return i;delete this.r[a[b]]}return e},lb:function(a){return this.r[a]?e:i}};var Yd=[3,4,5,6,7,13,14,15,31,32,35,36,37,38,43,45,49,50];
function Zd(){this.X=new Oc;this.b=document.createElement("div");this.b.className="swi_p";this.Xg=document.createElement("div");this.Xg.className="swi_lp";this.cd=new $d;this.cd.uc(new p(this.Gd,this));this.cd.Aj(new p(this.Rl,this));var a=new O(2,2),b,c;a.b.className="swi_layout_t";a.L[0].className="swi_layout_lc";a.L[1].className="swi_layout_rc";Kc(a,"top");c=new O(Yd.length,2);c.b.className="swi_stats_t";this.$c=[];for(b=0;b<Yd.length;b++){this.$c[b]=document.createElement("input");this.$c[b].className=
"input swi_in";this.$c[b].name=Yd[b];c.d[b][0].innerHTML=locale.ItemStatNames[Yd[b]];c.d[b][0].className="swi_stats";c.d[b][1].appendChild(this.$c[b]);c.d[b][1].className="swi_input_p"}a.d[0][0].appendChild(c.b);c=document.createElement("input");c.type="button";c.value="Apply";M(c,"click",this.Xk,this,[]);b=document.createElement("input");b.type="button";b.value="Restore Current";M(b,"click",this.xm,this,[]);this.Xg.appendChild(this.cd.b);a.d[0][0].appendChild(c);a.d[0][0].appendChild(b);a.d[0][1].appendChild(this.Xg);
b=document.createElement("div");c=document.createElement("input");c.type="button";c.value="Refesh";M(c,"click",function(){ae(this)},this,[]);b.appendChild(c);b.className="swi_ref_p";a.d[0][1].appendChild(b);this.ad=document.createElement("input");this.ad.type="checkbox";this.ad.checked=e;this.qc=document.createElement("div");this.ad=document.createElement("input");this.ad.type="checkbox";this.ad.checked=e;this.jf=document.createElement("div");this.jf.className="swi_save_error";this.Kc=new Ec;this.Kc.Jd();
this.Kc.b.className="collapse swi_save_coll";this.Kc.M.innerHTML="Save";this.Kc.M.className="collapse_h swi_save_coll_h";b=document.createElement("input");b.type="button";b.value="save";M(b,"click",this.Yl,this,[]);this.$=document.createElement("input");this.$.className="input swi_save_in";this.v=document.createElement("input");this.v.className="input swi_save_in";this.Kc.t.className="collapse_c";c=document.createElement("div");c.innerHTML="Name";this.qc.appendChild(c);this.qc.appendChild(this.v);
c=document.createElement("div");c.innerHTML="Description";this.qc.appendChild(c);this.qc.appendChild(this.$);c=document.createElement("div");c.className="swi_save_ctrls";c.appendChild(document.createTextNode("Public"));c.appendChild(this.ad);c.appendChild(b);this.qc.appendChild(c);this.qc.appendChild(this.jf);b=document.createElement("input");b.type="button";b.value=locale.Yes;M(b,"click",this.fk,this,[e]);c=document.createElement("input");c.type="button";c.value=locale.No;M(c,"click",this.fk,this,
[i]);this.bj=document.createElement("div");this.kg=document.createElement("div");this.kg.appendChild(this.bj);this.kg.appendChild(b);this.kg.appendChild(c);this.ud=document.createElement("div");this.ud.appendChild(this.qc);this.Kc.t.appendChild(this.ud);a.d[1][0].appendChild(this.Kc.b);a.d[1][0].className="swi_layout_llc";a.d[1][1].className="swi_layout_lrc";b=document.createElement("div");b.className="ol_top";c=document.createElement("div");c.innerHTML="Stat Weights";c.className="ol_top_l";b.appendChild(c);
c=document.createElement("a");c.className="ol_top_r";M(c,"click",this.X.wa,this.X,[]);b.appendChild(c);this.b.appendChild(b);b=document.createElement("input");b.type="button";b.value="Close";M(b,"click",this.X.wa,this.X,[]);a.d[1][1].appendChild(b);b=document.createElement("div");b.className="ol_detail";b.appendChild(a.b);this.b.appendChild(b);a=[];for(b=0;b<56;b++)a[b]=1;this.A(a)}o=Zd.prototype;o.X=f;o.b=f;o.$c=[];o.ni=f;o.Xg=f;o.ad=f;o.$=f;o.v=f;o.jf=f;o.qc=f;o.ud=f;o.kg=f;o.bj=f;o.Ti=f;o.i=f;
o.Gi=0;o.Kc=f;function ae(a){if(a.i==f||a.i.e==f){a.cd.na();a.Gi=0}else{a.cd.show();a.cd.A("chrclass.eq."+a.i.e.c+";",f,f);a.cd.update();a.Gi=a.i.e.c}}o.show=function(){if(this.i==f||this.i.e==f)S(T,"Select a class first!");else{this.i.e.c!=this.Gi&&ae(this);this.X.Id(this.b)}};o.A=function(a){this.ni=a;this.Gd(this.ni)};o.Gd=function(a){for(var b=0;b<Yd.length;b++)this.$c[b].value=G(a[Yd[b]])};
o.H=function(){var a=[],b;for(b=0;b<56;b++)a[b]=0;for(b=0;b<Yd.length;b++)a[parseInt(this.$c[b].name,10)]=parseFloat(this.$c[b].value);return a};o.Yl=function(){this.pc(i)};o.Zl=function(a,b){b||F.ba(this.ud,this.qc);if(a)this.jf.innerHTML=a;else if(b){this.bj.innerHTML='A stat weight configuration named "'+this.v.value+'" already exists. Do you want to overwrite it?';F.ba(this.ud,this.kg)}else{this.cd.update();this.v.value="";this.$.value="";this.Kc.collapse()}};
o.fk=function(a){a?this.pc(e):F.ba(this.ud,this.qc)};
o.pc=function(a){var b=this.H(),c=this.v.value,d=this.$.value,g=this.ad.checked;this.jf.innerHTML="";this.v.className="input swi_save_in";if(c){if(this.i)this.i!=f&&this.i.e==f&&S(T,"You have to select a character class first!");else S(T,"No character set!");F.xa(this.ud);this.ud.innerHTML="<div class='swi_loading'></div>";L.eo(b,c,d,g,a,this.i.e.c,new p(this.Zl,this))}else{this.jf.innerHTML+="Name for the stat weights is missing";this.v.className="input swi_save_in swi_save_in_error"}};o.xm=function(){this.Gd(this.ni)};
o.Xk=function(){this.Ti&&t(this.Ti,[this.H()])};o.Rl=function(a,b){g_settings.userId==a&&confirm("Do you really want to delete the stat weight configuration "+b+"?")&&L.Zn(a,b,new p(this.Sl,this))};o.Sl=function(a){a?S(T,a):ae(this)};function be(){var a,b,c;this.S=new Ob(["show_stat_weights_interface","stat_weight_change","stat_cap_change","stat_caps_reset","use_optimised_reforge","optimise"]);this.b=document.createElement("form");c=document.createElement("div");this.b.onsubmit=l(i);this.b.action="#";M(this.b,"submit",this.S.ab,this.S,["optimise",f]);this.Oc=document.createElement("input");this.Oc.value=locale.RF_Apply;this.Oc.type="button";this.Oc.disabled=e;M(this.Oc,"click",this.S.ab,this.S,["use_optimised_reforge",f]);this.Pc=
[];this.vc=[];for(a=0;a<w.length;a++){this.Pc[a]=document.createElement("input");this.Pc[a].className="input rf_op_in";this.Pc[a].value=ia[a];M(this.Pc[a],"blur",this.im,this,[a]);this.vc[a]=document.createElement("input");this.vc[a].className="input rf_op_in";this.vc[a].value=ja[a];M(this.vc[a],"blur",this.zl,this,[a])}this.P=new O(25,10);this.P.b.className="rf_op_table";for(a=1;a<=19;a++){this.P.d[a][0].className="rf_op_cell rf_op_itm";for(b=1;b<9;b++)this.P.d[a][b].className="rf_op_cell";this.P.d[a][9].className=
"rf_op_cell rf_op_tot"}this.P.d[20][0].innerHTML=locale.RF_Sum;this.P.d[21][0].innerHTML=locale.RF_WeightedSum;this.P.d[22][0].innerHTML=locale.RF_Weights;this.P.d[23][0].innerHTML=locale.RF_Caps;this.P.d[24][0].innerHTML=locale.RF_Ratings;for(a=1;a<9;a++){this.P.d[0][a].innerHTML=locale.RF_Stats[a-1];this.P.d[0][a].className="rf_op_cell rf_op_stat rf_op_header";this.P.d[20][a].className="rf_op_cell rf_op_sum";this.P.d[21][a].className="rf_op_cell rf_op_sum";this.P.d[24][a].className="rf_op_cell";
this.P.d[22][a].appendChild(this.Pc[a-1]);this.P.d[23][a].appendChild(this.vc[a-1])}this.P.d[0][9].innerHTML=locale.RF_Total;this.P.d[0][9].className="rf_op_cell rf_op_tot rf_op_header";this.P.d[20][9].className="rf_op_cell rf_op_tot";this.P.d[21][9].className="rf_op_cell rf_op_tot";c.appendChild(this.P.b);a=document.createElement("input");a.type="button";a.value="Reset Caps";M(a,"click",this.S.ab,this.S,["stat_caps_reset",f]);b=document.createElement("input");b.type="submit";b.value=locale.RF_Optimise;
c.appendChild(b);c.appendChild(this.Oc);b=document.createElement("input");b.value="Manage Stat Weights";b.type="button";M(b,"click",this.S.ab,this.S,["show_stat_weights_interface",f]);c.appendChild(b);c.appendChild(a);this.b.appendChild(c);c=document.createElement("div");c.Co="rf_op_notice";this.b.appendChild(c)}o=be.prototype;o.S=f;o.b=f;o.P=f;o.Pc=[];o.vc=[];o.Oc=f;o.im=function(a){this.S.ab("stat_weight_change",[w[a],parseFloat(this.Pc[a].value)])};
o.zl=function(a){this.S.ab("stat_cap_change",[a,parseFloat(this.vc[a].value)])};
o.update=function(a){for(var b,c,d=0;d<19;d++){F.xa(this.P.d[d+1][0]);if(b=a.z.H(d)){c=document.createElement("a");c.className="rf_op_itm";c.innerHTML=b.v.length>12?b.v.substring(0,10)+"...":b.v;c.style.color=va[b.za];c.onmouseout=function(){T.na()};c.onmousemove=function(){T.move()};M(c,"mouseover",T.Lk,T,[d]);this.P.d[d+1][0].appendChild(c)}else this.P.d[d+1][0].innerHTML=locale.RF_NotEquipped}this.Oc.disabled=e;ce(this,Qb(a.g))};
function de(a,b){var c,d,g,h,j=0,k=0,q=b.Oa,x=b.Bb?b.Ra:f,m=b.We;for(c=0;c<19;c++)for(d=0;d<w.length;d++){g=q[c][d];h=x!=f&&x[c][d]!=q[c][d];a.P.d[c+1][d+1].innerHTML="";if(m[c]&&m[c][d]>0)a.P.d[c+1][d+1].innerHTML="<span class='rf_op_value'>"+m[c][d]+"</span>";if(h){if(g>0)a.P.d[c+1][d+1].innerHTML+="<span class='rf_op_added_old'>+"+g+"</span> ";else if(g<0)a.P.d[c+1][d+1].innerHTML+="<span class='rf_op_reduce_old'>"+g+"</span> ";g=x[c][d]}if(g>0)a.P.d[c+1][d+1].innerHTML+="<span class='rf_op_added"+
(h?"_new":"")+"'>+"+g+"</span>";else if(g<0)a.P.d[c+1][d+1].innerHTML+="<span class='rf_op_reduce"+(h?"_new":"")+"'>"+g+"</span>"}for(d=0;d<w.length;d++){g=Math.round(q[19][d]);c=x!=f?Math.round(x[19][d]):0;a.P.d[20][d+1].innerHTML=ee(g,c,x!=f);g=Math.round(q[20][d]);c=x!=f?Math.round(x[20][d]):0;a.P.d[21][d+1].innerHTML=ee(g,c,x!=f);j+=g;k+=c}ce(a,b.D);a.P.d[21][w.length+1].innerHTML=ee(j,k,x!=f);a.Oc.disabled=x?i:e}
function ce(a,b){for(var c=0;c<w.length;c++)a.P.d[24][c+1].innerHTML=Math.floor(b[c])}function ee(a,b,c){var d=c&&a!=b,g="";if(d)g+=a>0?"<span class='rf_op_added_old'>+"+a+"</span> ":a<0?"<span class='rf_op_reduce_old'>"+a+"</span> ":"<span class='rf_op_value_old'>"+a+"</span> ";a=c?b:a;g+=a>0?"<span class='rf_op_added"+(d?"_new":"")+"'>+"+a+"</span>":a<0?"<span class='rf_op_reduce"+(d?"_new":"")+"'>"+a+"</span>":"<span "+(d?" class='rf_op_value_new' ":"")+">"+a+"</span>";return g}
o.Cj=function(a){for(var b=0;b<w.length;b++)this.Pc[b].value=a[b]};o.yj=function(a){for(var b=0;b<w.length;b++)this.vc[b].value=a[b]};o.ma=function(a,b){this.S.ma(a,b)};function fe(){var a=new O(2,2);Kc(a,"top");var b=new O(w.length,2),c,d,g;this.qb=new be;this.b=document.createElement("div");this.jg=document.createElement("div");this.Ld=document.createElement("div");this.$f=document.createElement("div");this.fe=document.createElement("div");this.M=document.createElement("div");this.M.className="rf_header";this.oc=document.createElement("input");this.oc.type="button";this.oc.value=locale.RF_Reforge;M(this.oc,"click",this.Ol,this);this.ne=document.createElement("input");
this.ne.type="button";this.ne.value=locale.RF_Restore;M(this.ne,"click",this.Vl,this);a.b.width="100%";a.L[0].width="50%";a.L[1].width="50%";a.d[0][0].appendChild(this.jg);a.d[0][1].appendChild(this.Ld);a.d[1][0].appendChild(this.$f);a.d[1][1].appendChild(this.fe);this.ia=new Ec;this.ia.Jd();this.ia.M.appendChild(document.createTextNode(locale.RF_BatchHeader));this.ia.M.className="collapse_h ba_collapse_h";this.ia.t.className="collapse_c ba_collapse_c";this.ia.b.className="collapse ba_collapse";d=
new Ec;d.Jd();d.b.className="ba_op_container";d.M.innerHTML=locale.RF_RestoreAll;d.M.className="ba_op_title";d.t.className="ba_op_content";c=document.createElement("input");c.type="button";c.value=locale.RF_RestoreAll;d.t.appendChild(c);M(c,"click",this.Wl,this,f);this.ia.t.appendChild(d.b);d=new Ec;d.Jd();d.b.className="ba_op_container";d.M.innerHTML=locale.RF_ReforgeAll;d.M.className="ba_op_title";d.t.className="ba_op_content";d.t.innerHTML="<div class='ba_op_help'>"+locale.RF_ReforgeAllHelp+"</div>";
b.d[0][0].innerHTML=locale.RF_ChooseReduce2;b.d[0][1].innerHTML=locale.RF_ChooseAdd2;this.Fb=[];this.hb=[];for(c=0;c<w.length-1;c++){this.Fb[c]=document.createElement("select");this.hb[c]=document.createElement("select");this.Fb[c].className="single_select rf_batch_select";this.hb[c].className="single_select rf_batch_select";b.d[c+1][0].appendChild(this.hb[c]);b.d[c+1][1].appendChild(this.Fb[c]);M(this.hb[c],"change",this.ek,this,[this.hb]);M(this.Fb[c],"change",this.ek,this,[this.Fb])}b.b.className=
"align_center";d.t.appendChild(b.b);ge(this,1);ge(this,0);b=document.createElement("input");b.type="button";b.value=locale.RF_Clear;M(b,"click",this.el,this,f);d.t.appendChild(b);b=document.createElement("input");b.type="button";b.value=locale.RF_BatchReforge;M(b,"click",this.Pl,this,f);d.t.appendChild(b);this.ia.t.appendChild(d.b);d=new Ec;d.Jd();d.b.className="ba_op_container";d.M.innerHTML=locale.RF_WoWReforgeImport;d.M.className="ba_op_title";d.t.className="ba_op_content";d.t.innerHTML="<div class='ba_op_help'>"+
locale.RF_WoWReforgeImportHelp+"</div>";b=document.createElement("div");c=document.createElement("form");c.onsubmit=l(i);c.action="#";M(c,"submit",this.Im,this,[]);g=document.createElement("input");g.type="submit";g.value=locale.RF_ImportWoWReforge;this.Th=document.createElement("input");this.Th.className="input rf_wowreforgeurl";b.appendChild(this.Th);b.appendChild(g);c.appendChild(b);d.t.appendChild(c);this.ia.t.appendChild(d.b);d=new Ec;d.b.className="ba_op_container";d.M.innerHTML=locale.RF_Optimise;
d.M.className="ba_op_title";d.t.className="rf_op_coll_content";d.t.innerHTML="<div class='ba_op_help'>"+locale.RF_OptimiseHelp+"</div>";d.t.appendChild(this.qb.b);this.ia.t.appendChild(d.b);this.b.appendChild(this.ia.b);d=new Ec;d.M.appendChild(document.createTextNode(locale.RF_WoWReforgeExport));d.M.className="collapse_h ba_collapse_h";d.t.className="collapse_c ba_collapse_c";d.b.className="collapse ba_collapse";b=document.createElement("div");b.className="rf_wowreforge_export_note";this.Qc=document.createElement("form");
this.Qc.method="POST";this.Qc.action="http://wowreforge.com/Profiles/Import";this.Qc.name="wowreforge_export";this.Qc.target="_blank";this.yg=document.createElement("input");this.yg.type="hidden";this.yg.name="profile";this.Qc.appendChild(this.yg);this.xg=document.createElement("input");this.xg.type="hidden";this.xg.name="metadata";this.Qc.appendChild(this.xg);c=document.createElement("a");c.innerHTML="Export to wowreforge.com";c.className="rf_wowreforge_export_l";c.target="_blank";M(c,"click",this.jm,
this,[]);d.t.appendChild(c);d.t.appendChild(this.Qc);d.t.appendChild(b);this.b.appendChild(d.b);this.Fa=document.createElement("div");this.Fa.className="rf_main";this.Fa.appendChild(this.M);this.Fa.appendChild(a.b);b=document.createElement("div");b.className="rf_button_parent";b.appendChild(this.oc);b.appendChild(this.ne);this.Fa.appendChild(b);this.b.appendChild(this.Fa)}o=fe.prototype;o.xg=f;o.yg=f;o.Qc=f;o.b=f;o.jg=f;o.Ld=f;o.fe=f;o.$f=f;o.Fa=f;o.oc=f;o.ne=f;o.Z=f;o.Th=f;o.Pc=f;o.vc=f;o.P=f;
o.Oc=f;o.ia=f;o.hb=[];o.Fb=[];o.Xe=f;o.V=-1;o.ke=-1;o.ca=-1;o.qb=f;o.Im=function(){var a=this.Th.value;if(a){var b=a.match(/reforge=((?:\d|-){34})/i);if(b[1]){a=b[1];b=[];for(var c=0;c<17;c++)a[c*2]=="-"||a[c*2+1]=="-"||(b[ka[c]]=[ha[parseInt(a[c*2],10)],ha[parseInt(a[c*2+1],10)]]);R.l.ai(b);this.update(this.Xe)}else S(T,D(locale.RF_WoWReforge_UnableToParse,a))}};o.Wl=function(){R.l.di();this.Z&&this.Z[0].apply(this.Z[1],[])};
o.Pl=function(){var a=[],b=[],c,d;for(c=0;c<w.length-1;c++){d=this.hb[c].selectedIndex;if(d>0)a[a.length]=parseInt(this.hb[c].options[d].value,10);d=this.Fb[c].selectedIndex;if(d>0)b[b.length]=parseInt(this.Fb[c].options[d].value,10)}R.l.xj(a,b);this.Z&&this.Z[0].apply(this.Z[1],[])};o.ek=function(){ge(this,1);ge(this,0)};o.el=function(){var a;for(a=0;a<this.hb.length;a++){this.hb[a].options[0].selected=e;this.Fb[a].options[0].selected=e}ge(this,1);ge(this,0)};
function ge(a,b){var c,d,g,h,j=[],k=-1,q=b==0?a.Fb:a.hb;for(g=0;g<a.hb.length;g++){j=[];k=-1;if(q[g].selectedIndex>0)k=parseInt(q[g].options[q[g].selectedIndex].value,10);F.xa(q[g]);for(c=0;c<a.hb.length;c++){if(c!=g||b!=1){d=a.hb[c].selectedIndex;if(d>0)j[j.length]=parseInt(a.hb[c].options[d].value,10)}if(c!=g||b!=0){d=a.Fb[c].selectedIndex;if(d>0)j[j.length]=parseInt(a.Fb[c].options[d].value,10)}}d=document.createElement("option");q[g].appendChild(d);for(c=0;c<w.length;c++){h=e;for(d=0;d<j.length;d++)if(j[d]==
w[c]){h=i;break}if(h){d=document.createElement("option");d.innerHTML=locale.ItemStatNames[w[c]];d.value=w[c];if(w[c]==k)d.selected=e;q[g].appendChild(d)}}}}
o.update=function(a){var b="";this.oc.disabled=e;this.ne.disabled=e;this.fe.innerHTML="";this.$f.innerHTML="";this.jg.innerHTML="";this.Ld.innerHTML="";this.M.innerHTML="";this.Xe=a;this.ca=this.ke=this.V=-1;if(a==f)this.Fa.style.display="none";else{this.Fa.style.display="block";this.M.innerHTML=a.v;this.M.style.color=va[a.za];this.M.style.backgroundImage="url(images/icons/half/"+a.F+".png)";if(a.V==-1){b=[];var c,d,g;for(c=0;c<w.length;c++){d=he(a,w[c]);d!=-1&&b.push([w[c],d])}this.jg.innerHTML=
"<div class='rf_help'>"+locale.RF_ChooseReduce+"</div>";d=document.createElement("select");g=document.createElement("option");g.innerHTML=locale.RF_ReduceStat;d.appendChild(g);if(b.length>0)for(c=0;c<b.length;c++){g=document.createElement("option");g.innerHTML=locale.ItemStatNames[b[c][0]]+"("+Math.floor(b[c][1]*0.4)+")";g.value=b[c][0]+" "+b[c][1];d.appendChild(g)}else d.disabled=e;this.jg.appendChild(d);M(d,"change",this.Nl,this,[d]);b="<div class='rf_title'>"+locale.RF_Current+"</div><div class='rf_stats'>";
b+=ie(this,a,i,i);b+="</div>";this.$f.innerHTML=b;this.Ld.innerHTML="<div class='rf_help'>"+locale.RF_ChooseAdd+"</div><select disabled='true'><option>"+locale.RF_AddStat+"</option></select>"}else{this.oc.disabled=e;this.ne.disabled=i;b="<div class='rf_title'>"+locale.RF_Current+"</div><div class='rf_stats'>";b+=ie(this,a,i,i);b+="</div><div class='rf_reduced'>+"+a.qa+" "+locale.ItemStatNames[a.ca]+"</div>";this.$f.innerHTML=b;b="<div class='rf_title'>"+locale.RF_Restore+"</div>";b+=ie(this,a,i,e);
b+="</div>";this.fe.innerHTML=b}}};o.wb=function(a,b){this.Z=[a,b]};
function je(a){var b,c=document.createElement("select"),d;a.Ld.innerHTML="<div class='rf_help'>"+locale.RF_ChooseAdd+"</div>";d=document.createElement("option");d.innerHTML=locale.RF_AddStat;c.appendChild(d);for(b=0;b<w.length;b++)if(he(a.Xe,w[b])==-1){d=document.createElement("option");d.innerHTML=locale.ItemStatNames[w[b]]+"("+a.ke+")";d.value=w[b];c.appendChild(d)}a.Ld.appendChild(c);M(c,"change",a.xl,a,[c]);a.fe.innerHTML="<div class='rf_title'>"+locale.RF_Reforge+"</div><div class='rf_notice'></div"}
o.Nl=function(a){this.oc.disabled=e;if(a.selectedIndex<1){this.ca=this.ke=this.V=-1;this.Ld.innerHTML="<div class='rf_help'>"+locale.RF_ChooseAdd+"</div><select disabled='true'></select>";this.fe.innerHTML="<div class='rf_title'>"+locale.RF_Reforge+"</div><div class='rf_notice'></div"}else{a=a.options[a.selectedIndex].value.split(" ");this.ke=Math.floor(parseInt(a[1],10)*0.4);this.V=parseInt(a[0],10);je(this)}};
o.xl=function(a){if(a.selectedIndex<1){this.ca=-1;je(this);this.oc.disabled=e}else{this.ca=parseInt(a.options[a.selectedIndex].value,10);a="<div class='rf_title'>"+locale.RF_Reforge+"</div><div class='rf_stats'>";a+=ie(this,this.Xe,e,i);a+="</div><div class='rf_added'>+"+this.ke+" "+locale.ItemStatNames[this.ca]+"</div>";this.fe.innerHTML=a;this.oc.disabled=i}};o.Ol=function(){nc(this.Xe,this.V,this.ca);this.Z&&this.Z[0].apply(this.Z[1],[])};
o.Vl=function(){this.Xe.restore();this.Z&&this.Z[0].apply(this.Z[1],[])};
function ie(a,b,c,d){var g="",h;for(h=0;h<b.g.length;h++)if(b.g[h])g+=c&&b.g[h][0]==a.V?"<div class='rf_reduced'>+"+(b.g[h][1]-a.ke)+" "+locale.ItemStatNames[b.g[h][0]]+"</div>":d&&b.g[h][0]==b.V?"<div class='rf_added'>+"+b.Ic+" "+locale.ItemStatNames[b.V]+"</div>":"<div>+"+b.g[h][1]+" "+locale.ItemStatNames[b.g[h][0]]+"</div>";if(b.Y)for(h=0;h<b.Y.G.length;h++){var j=b.Y.G[h];if(j)g+=c&&j.ea[0]==5&&j.Ya[0]==a.V?"<div class='rf_reduced'>"+j.vg.replace(/\$i/,j.va[0]-a.ke)+"</div>":d&&j.ea[0]==5&&j.Ya[0]==
b.V?"<div class='rf_added'>"+j.vg.replace(/\$i/,b.Ic)+"</div>":"<div>"+j.$+"</div>"}return g}function he(a,b){var c;for(c=0;c<a.g.length;c++)if(a.g[c]&&a.g[c][0]==b)return a.g[c][1];if(a.Y)for(c=0;c<a.Y.G.length;c++){var d=a.Y.G[c];if(d&&d.ea[0]==5&&d.Ya[0]==b)return d.va[0]}return-1}
o.jm=function(){var a=this.yg,b;b=R.l;var c,d,g,h={averageItemLevel:0,averageItemLevelEquipped:0},j,k,q,x;x=b.e!=f?b.e.q:f;var m=[[],[],[]],r=[];for(c=0;c<19;c++){q=b.z.k[c][0];if(q!=f){j=oa[c];k={};for(d=0;d<q.G.length;d++){g=q.G[d];if(g.ea[0]==7)k.tinker=g.c;else k.enchant=g.c}for(d=0;d<3;d++)if(q.I[d])k["gem"+d]=q.I[d].c;for(var n=g=d=0;n<3;n++){q.I[n]&&g++;q.ha[n]&&d++}if(g>d)k.extraSocket=e;if(q.V!=-1&&q.ca!=-1)k.reforge=ga[q.V]*7+113+ga[q.ca]-(q.ca>q.V?1:0);if(q.Y)k.suffix=q.Y.c;h[j]={icon:q.F,
id:q.c,name:q.v,quality:q.za,tooltipParams:k}}}if(b.e){for(c=0;c<b.e.U.length;c++)for(d=0;d<b.e.U[c].length;d++)(j=b.e.U[c][d])&&m[c].push({glyph:j.c,item:j.$j,name:j.n.getName(),icon:j.n.F});x=[{selected:e,name:x.J!=-1?x.we[x.J]:"None",icon:"",build:x.Ge.join(""),trees:[],glyphs:{prime:m[2],major:m[0],minor:m[1]}}]}else x=f;for(c=0;c<2;c++)(m=b.ka[c])&&r.push({id:m.c,name:pa[m.c],rank:m.j});b=JSON.stringify({name:b.v,race:b.Na!=f?b.Na.c:0,"class":b.e!=f?b.e.c:0,level:b.j,items:h,talents:x,professions:{primary:r,
secondary:[]}});a.value=b;this.xg.value='{"BasedOn" : null,"CanUpdate" : false,"Data" : null,"Origin" : "chardev.org","SourceLink" : null}';this.Qc.submit()};function ke(){var a;this.b=document.createElement("div");this.ue=document.createElement("div");this.Ih=new O(1,3);this.Ih.b.className="si_socket_parent";this.Xa=[new Fc(5),new Fc(5),new Fc(5)];this.oi=document.createElement("div");this.ia=new Ec;this.ia.Jd();this.Fa=document.createElement("div");this.Fa.className="si_main";this.Fa.style.display="block";this.Fa.appendChild(this.ue);this.Fa.appendChild(this.Ih.b);this.b.appendChild(this.oi);this.b.appendChild(this.Fa);this.oi.appendChild(this.ia.b);
this.ia.M.appendChild(document.createTextNode(locale.SI_BatchHeader));this.ia.M.className="collapse_h ba_collapse_h";this.ia.t.className="collapse_c ba_collapse_c";this.ia.b.className="collapse ba_collapse";a=document.createElement("a");a.className="ba_simple_op_link";a.innerHTML=locale.SI_RemoveAllGems;M(a,"click",this.eh,this,[le]);this.ia.t.appendChild(a);this.Pd=document.createElement("a");this.Pd.className="ba_simple_op_link";M(this.Pd,"click",this.eh,this,[me]);this.ia.t.appendChild(this.Pd);
this.Qd=document.createElement("a");this.Qd.className="ba_simple_op_link";M(this.Qd,"click",this.eh,this,[ne]);this.ia.t.appendChild(this.Qd);this.Rd=document.createElement("a");this.Rd.className="ba_simple_op_link";M(this.Rd,"click",this.eh,this,[oe]);this.ia.t.appendChild(this.Rd);for(a=0;a<3;a++){this.Xa[a].u[0].className="si_unselected_border";this.Xa[a].u[1].className="si_bg";this.Xa[a].u[2].className="si_no_highlight";this.Xa[a].u[4].className="si_event";this.Xa[a].u[4].oncontextmenu=l(i);M(this.Xa[a].u[4],
"mouseover",this.cm,this,[a]);M(this.Xa[a].u[4],"mouseout",this.bm,this,[a]);M(this.Xa[a].u[4],"click",this.am,this,[a]);M(this.Xa[a].u[4],"contextmenu",this.dm,this,[a]);this.Xa[a].u[4].onmousemove=function(){T.move()}}this.Dd=document.createElement("div");this.Dd.className="si_used_parent";this.b.appendChild(this.Dd);pe(this,-1)}o=ke.prototype;o.Zb=-1;o.ue=f;o.b=f;o.Fa=f;o.Xa=[];o.oi=f;o.Ri=f;o.Si=f;o.hh=f;o.ih=f;o.ia=f;o.Lc=0;o.i=f;o.Dd=f;o.Pd=f;o.Qd=f;o.Rd=f;
o.update=function(a,b,c){if(!(b<0||a==f)){var d=a.z.k[b][0],g,h,j={},k;this.Lc=b;this.i=a;pe(this,c);F.xa(this.ue);if(d!=f){this.Fa.style.display="block";this.ue.innerHTML=d.Ma(a,1);this.ue.className="tt_small";rb(this.ue);g=Yc(a,b);for(b=0;b<d.ha.length;b++){F.xa(this.Ih.d[0][b]);if(d.ha[b]>0||g){if(d.ha[b]<=0){g=i;h="prismatic"}else h=d.ha[b]==14?"prismatic":Math.log(d.ha[b])/Math.log(2);c=this.Xa[b];c.u[1].style.backgroundImage="url(images/socket_interface/socket_"+h+"_large.png)";if(d.I[b]==f){c.u[3].className=
"si_braces";c.u[3].style.backgroundImage="url(images/socket_interface/socket_"+h+"_braces_open.png)";F.xa(c.u[1])}else{var q=document.createElement("img");q.src="images/icons/large/"+d.I[b].F+".png";q.className="si_gem_icon";F.ba(c.u[1],q);c.u[3].className="si_braces";c.u[3].style.backgroundImage="url(images/socket_interface/socket_"+h+"_braces_closed.png)"}this.Ih.d[0][b].appendChild(c.u[0])}}}else this.Fa.style.display="none";for(b=0;b<19;b++){d=a.z.k[b][0];if(d!=f)for(c=0;c<d.I.length;c++){k=d.I[c];
if(k!=f)j[k.c]=k}}this.Dd.innerHTML="<span class='si_used_title_fix'>"+locale.SI_UsedGems+": </span>";for(var x in j){k=j[x];a=document.createElement("a");a.className="si_used_gem";a.style.backgroundImage="url(images/icons/small/"+k.F+".png)";a.onmouseout=function(){T.na()};a.onmousemove=function(){T.move()};a.onmouseover=function(){T.fi(k.c)};M(a,"mouseover",T.fi,T,[k.c]);M(a,"click",this.hm,this,[k.c]);this.Dd.appendChild(a)}F.La(this.Dd)}};
o.hm=function(a){this.ih&&this.ih[0].apply(this.ih[1],[ua.H(a)])};o.cm=function(a){this.Xa[a].u[2].className="si_highlight";var b=this.i.z.k[this.Lc][0];b!=f&&b.I[a]!=f&&T.qo(b.I[a])};o.bm=function(a){this.Xa[a].u[2].className="si_no_highlight";T.na()};o.am=function(a){pe(this,a);this.Si&&this.Ri!=f&&this.Ri.apply(this.Si,[a])};o.dm=function(a){this.hh&&this.hh[0].apply(this.hh[1],[a])};var le=0,ne=1,oe=2,me=3;
ke.prototype.eh=function(a){if(a==le){a=this.i;a.z.Ag(0,0);V(a)}else{var b=this.i.z.k[this.Lc][0],c=b.I[this.Zb].c;switch(a){case me:this.i.bi(c);break;case ne:this.i.Ag(c,0);break;case oe:this.i.Ag(c,b.ha[this.Zb])}}this.update(this.i,this.Lc,this.Zb)};
function pe(a,b){a.Pd.style.display="none";a.Qd.style.display="none";a.Rd.style.display="none";if(b!=-1){var c=a.i.z.k[a.Lc][0],d=c.I[b];a.Dd.style.display="block";a.Xa[b].u[0].className="si_selected_border";if(d!=f){a.Pd.style.display="block";a.Qd.style.display="block";a.Pd.innerHTML=D(locale.SI_RemoveGems,d.v);a.Qd.innerHTML=D(locale.SI_SocketAll,d.v);if(c.ha[b]>0){a.Rd.innerHTML=C(locale.SI_SocketAllColor,[d.v,locale.SI_SocketColors[c.ha[b]]]);a.Rd.style.display="block"}}}else a.Dd.style.display=
"none";if(a.Zb!=-1&&a.Zb!=b)a.Xa[a.Zb].u[0].className="si_unselected_border";a.Zb=b};var qe=[2,0,1];
function re(){var a,b,c,d=new O(1,2),g,h;Kc(d,"top");this.b=document.createElement("div");this.b.className="gi_p";this.Cc=document.createElement("div");this.Cc.className="gi_list";this.Uf=[];this.U=[];for(a=0;a<3;a++){b=qe[a];this.Uf[b]=document.createElement("div");this.U[b]=[];for(c=0;c<3;c++){g=document.createElement("div");g.className="gi_slot";h=new O(1,1);Kc(h,"middle");this.U[b][c]=h.d[0][0];this.U[b][c].className="gi_glyph_td";g.appendChild(h.b);h=document.createElement("div");h.className=
"gi_border gi_border_"+(a==0?"p":a==1?"m":"i");g.appendChild(h);this.Uf[b].appendChild(g)}this.Uf[b].className="gi_p_glyph";g=document.createElement("div");g.innerHTML=locale.GlyphTypes[b];g.className="gi_glyph_t";d.d[0][0].appendChild(g);d.d[0][0].appendChild(this.Uf[b])}d.b.className="align_center";d.d[0][1].appendChild(this.Cc);this.b.appendChild(d.b)}o=re.prototype;o.b=f;o.Uf=[];o.Cc=f;o.U=[];o.fh=[];o.jd=[];o.bl=-1;
o.update=function(a){var b=a.e?a.e.li:f,c=a.e?a.e.U:f,d,g,h,j;F.xa(this.Cc);if(b!=f&&this.bl!=a.e.c){for(d=0;d<3;d++){h=qe[d];j=document.createElement("div");j.innerHTML=locale.GlyphTypes[h];j.className="gi_type_title";this.Cc.appendChild(j);for(g=0;g<b[h].length;g++){j=document.createElement("a");j.className="gi_list_item";j.onmousemove=function(){T.move()};j.onmouseout=function(){T.na()};M(j,"click",this.ag,this,[h,b[h][g]]);M(j,"mouseover",T.gi,T,[b[h][g].n]);j.innerHTML=b[h][g].n.getName();this.Cc.appendChild(j);
this.Cc.appendChild(document.createElement("br"))}}this.Cc.style.display="block"}else this.Cc.style.display="none";if(c)for(d=0;d<3;d++)for(g=0;g<c[d].length;g++){this.U[d][g].style.backgroundImage="";this.U[d][g].innerHTML="";if(g>=a.e.Df)this.U[d][g].innerHTML="<div class='gi_glyph gi_unavailable'>"+D(locale.GI_NotAvailable,(g+1)*25)+"</div>";else if(c[d][g]){this.U[d][g].style.backgroundImage="url(images/icons/half/"+c[d][g].n.F+".png)";j=document.createElement("a");j.className="gi_used";j.onmousemove=
function(){T.move()};j.oncontextmenu=l(i);j.onmouseout=function(){T.na()};M(j,"mouseover",T.gi,T,[c[d][g].n]);M(j,"contextmenu",this.Oi,this,[d,g]);j.innerHTML=c[d][g].n.getName();this.U[d][g].appendChild(j)}else this.U[d][g].innerHTML="<div class='gi_glyph gi_unused'>"+locale.GI_Empty+"</div>"}};o.uc=function(a,b){this.fh=[a,b]};o.Aj=function(a,b){this.jd=[a,b]};o.ag=function(a,b){this.fh&&this.fh[0].apply(this.fh[1],[a,b])};o.Oi=function(a,b){this.jd&&this.jd[0].apply(this.jd[1],[a,b])};function se(){this.b=document.createElement("div");this.Vc=document.createElement("div");this.Di=document.createElement("div");this.nj=document.createElement("div");this.Vi=document.createElement("div");this.b.appendChild(this.Di);this.b.appendChild(this.Vi);this.b.appendChild(this.nj);this.b.appendChild(this.Vc);this.Gj=new p(this.ol,this)}o=se.prototype;o.Wj=i;o.b=f;o.Vc=f;o.Di=f;o.Vi=f;o.ii=f;o.Gj=f;
o.update=function(a){if(this.Wj){var b,c,d,g,h,j,k=new Ec,q=new Ec,x=0,m=0,r=[];q.M.className="collapse_h bi_collapse_h";q.t.className="collapse_c bi_collapse_c";q.b.className="collapse bi_collapse";k.M.className="collapse_h bi_collapse_h";k.t.className="collapse_c bi_collapse_c";k.b.className="collapse bi_collapse";F.ba(this.Di,q.b);F.ba(this.Vi,k.b);for(c=0;c<19;c++)if(b=a.z.H(c)){for(d=0;d<b.Q.length;d++){g=b.Q[d];if(g!=f){for(h=0;h<3;h++)if(j=g.O[h])if(j.Pf==42){j=j.qh<=0?f:y.H(j.qh);if(j){k.t.appendChild(te(this,
j.F,j.c,e,j.getName()));m++}}if(!yc(g)){q.t.appendChild(te(this,g.F,g.c,e,g.getName()));x++}}}for(d=0;d<b.G.length;d++){g=b.G[d];if(g.ea[0]==1){j=g.Q[0];k.t.appendChild(te(this,j.F,j.c,e,j.getName()))}}}F.La(q.t);q.M.innerHTML="Items (Use-Effects)<span class='bi_cb_count'>("+x+")</span>";F.La(k.t);k.M.innerHTML="Item Procs<span class='bi_cb_count'>("+m+")</span>";F.xa(this.nj);if(a.e!=f&&a.e.Lg!=f)for(c=0;c<a.e.Lg.length;c++){b=a.e.Lg[c];a.da.Ce[b[1]]&&r.push(b[0])}ue(this,r,"Talent Buffs",this.nj,
0,e)}else{T.Ca();Sc("php/interface/get_buffs.php",this.Gj,[a])}};o.ol=function(a,b){var c=a[0],d;for(d=0;d<c.length;d++)locale.a_class[d]&&ue(this,a[0][d],locale.a_class[d],this.Vc,0,i);ue(this,a[1][0],"Elixirs",this.Vc,0,i);ue(this,a[1][1],"Battle Elixirs",this.Vc,0,i);ue(this,a[1][2],"Guardian Elixirs",this.Vc,0,i);ue(this,a[1][3],"Flasks",this.Vc,0,i);ue(this,a[2],"Food",this.Vc,1,i);this.Wj=e;this.update(b);T.wa()};
function ue(a,b,c,d,g,h){var j=new Ec,k,q,x,m=f;m={};var r=document.createElement("div"),n;j.M.className="collapse_h bi_collapse_h";j.t.className="collapse_c bi_collapse_c";j.b.className="collapse bi_collapse";for(k=q=0;k<b.length;k++)if(b[k]){q++;if(g==1){x=new ac(b[k]);if(x.Q[0]!=f&&zc(x.Q[0])){n=zc(x.Q[0]);y.A(x.Q[0]);m[x.v+lc(n)]=te(a,x.F,n.c,i,x.v)}}else{x=new U(b[k]);m[x.getName()+lc(x)]=te(a,x.F,x.c,i,x.getName());y.A(x)}}j.M.innerHTML=c+"<span class='bi_cb_count'>("+q+")</span>";a=document.createElement("div");
a.innerHTML="Filter: ";a.className="bi_fcc_parent";m=new Pc(m,r);m.Yd.className="input input_small bi_fcc_f";m.oo();a.appendChild(m.Yd);j.t.appendChild(a);j.t.appendChild(r);F.La(j.t);h||j.collapse();q&&d.appendChild(j.b)}
function te(a,b,c,d,g){var h=document.createElement("div"),j=document.createElement("div");j.style.backgroundImage="url(images/icons/small/"+b+".png)";j.className="bi_buff";h.className="bi_buff_p";h.appendChild(j);h.appendChild(document.createTextNode(g.length>20?g.substr(0,20)+"...":g));h.onmouseout=function(){T.na()};h.onmousemove=function(){T.move()};M(h,"mouseover",T.xf,T,[c,d]);M(h,"click",a.wl,a,[c]);return h}o.wl=function(a){this.ii&&t(this.ii,[a])};function ve(){this.b=document.createElement("div")}o=ve.prototype;o.b=f;o.Ua=f;o.Pa=f;
o.update=function(a){var b=[],c=a.Jb;F.xa(this.b);if(c){b[0]=[0,""];for(var d=0;d<c.length;d++){for(var g="",h=0;h<5;h++)if(c[d].G[h])g+=(g?", ":"")+c[d].G[h].$;b[d+1]=[c[d].c,"..."+c[d].v+": "+g]}this.Ua=new Hc(b);a.zm&&this.Ua.select(a.zm.c);M(this.Ua.b,"change",this.Mi,this,[a]);this.b.className="rpi_parent";this.b.innerHTML="<div class='rpi_title'>"+locale.RPI_SelectRandomEnchant+"</div>";a=document.createElement("div");a.className="rpi_content";a.appendChild(this.Ua.b);this.Ua.b.className="rpi_select";
this.b.appendChild(a)}};o.Mi=function(a){bc(a,parseInt(this.Ua.vb(),10));this.Pa&&this.Pa[0].apply(this.Pa[1],[])};o.wb=function(a,b){this.Pa=[a,b]};var we=[[0,0,0],[0,0,0,0,0],[68,96,0,65,16,24,16,64,256],[132,160,0,129,16,24,16,256],[0,16,24,0,0,0,16,256],[0,16,16,16,0],[0,0,0,0,0]];
function xe(a,b,c){this.Rj=b;this.Vj=c;var d=document.createElement("div");d.className="stat_table_value_div";this.b=document.createElement("div");this.b.className="stat_table_name_div";this.b.innerHTML=locale.CS_Stats[b][c];this.b.appendChild(d);this.Td=document.createElement("span");this.Td.className="stat_table_stat_compare_span";this.Ed=document.createElement("span");this.Ed.className="stat_table_stat_span";this.Ed.innerHTML=0;d.appendChild(this.Td);d.appendChild(this.Ed);M(this.b,"mouseover",
T.vo,T,[b,c,this.b,a]);this.b.onmouseout=function(){T.na()};this.mb=we[this.Rj][this.Vj]}o=xe.prototype;o.Rj=-1;o.Vj=-1;o.v="";o.ue="";o.b=f;o.K=0;o.Ed=f;o.ac=function(a){this.K=a;this.Ed.innerHTML="";if(a===f&&this.mb&128)this.Ed.innerHTML+="N/A";else if(this.mb&64){ye(this,a[0]);if(a[1]!=f){this.Ed.innerHTML+="/";ye(this,a[1])}}else ye(this,a)};
function ye(a,b){a.Ed.innerHTML+=a.mb&16?(a.mb&8?"+":"")+$a(b,2)+"%":a.mb&32?$a(b,1):a.mb&256?$a(b,2):a.mb&1?$a(b/1E3,2):a.mb&4?b[0]+"-"+b[1]:Math.floor(b)}function ze(a,b){var c,d;a.Td.innerHTML="";if(!(b===f&&a.mb&128))if(a.mb&64){if(!(a.mb&4)){c=Ae(a,b[0],a.K[0]);if(b[1]!=f){d=Ae(a,b[1],a.K[1]);if(c||d)a.Td.innerHTML=(c?c:"0")+"/"+(d?d:"0")}else if(c!=f)a.Td.innerHTML=c}}else{c=Ae(a,b,a.K);a.Td.innerHTML=c?c:""}}
function Ae(a,b,c){b=(272&a.mb)!=0?Math.floor((b-c)*100)/100:Math.floor(b-c);if(b!=0){if(a.mb&1)return"<span class='"+(b>0?"compare_red":"compare_green")+"'>"+(b>0?"+":"-")+G(Math.abs(b)/1E3)+"</span>";return"<span class='"+(b>0?"compare_green":"compare_red")+"'>"+(b>0?"+":"-")+((a.mb&16)!=0?G(Math.abs(b)):Math.abs(b))+"</span>"}return f};var Be=[[38,5,5],[16,0,0],[16,0,32],[16,32,32],[16,32,0]];
function Ce(a,b){this.b=document.createElement("div");this.nb=[];this.xb=[];this.ja=[];this.F=[];this.i=b;this.z=b.z;this.gh=f;this.Lc=a;var c=32,d=0,g=0;this.b.className="character_sheet_item_parent";for(var h=0;h<5;h++){c=Be[h][0];d=Be[h][1];g=Be[h][2];this.F[h]=document.createElement("img");this.F[h].className="character_sheet_item_image";this.F[h].style.width=c+"px";this.F[h].style.height=c+"px";this.nb[h]=document.createElement("div");this.nb[h].className="character_sheet_item_image_div";this.nb[h].style.zIndex=
3*(5-h)-2;this.nb[h].style.top=d+"px";this.nb[h].style.left=g+"px";this.nb[h].style.width=c+"px";this.nb[h].style.height=c+"px";this.xb[h]=document.createElement("div");this.xb[h].className="character_sheet_item_border";this.xb[h].style.zIndex=3*(5-h)-1;this.xb[h].style.top=d-1+"px";this.xb[h].style.left=g-1+"px";this.xb[h].style.width=c+"px";this.xb[h].style.height=c+"px";this.ja[h]=document.createElement("div");this.ja[h].className="character_sheet_item_highlight";this.ja[h].oncontextmenu=l(i);
M(this.ja[h],"mouseover",this.wn,this,[a,h]);M(this.ja[h],"mouseout",this.vn,this,[a,h]);M(this.ja[h],"click",this.jn,this,[a,h]);M(this.ja[h],"contextmenu",this.kn,this,[a,h]);this.ja[h].ondblclick=l(i);this.ja[h].onmousedown=l(i);this.ja[h].onmouseup=l(i);this.ja[h].style.zIndex=3*(5-h);this.ja[h].style.top=d+"px";this.ja[h].style.left=g+"px";this.ja[h].style.width=c+"px";this.ja[h].style.height=c+"px";this.nb[h].appendChild(this.F[h]);this.b.appendChild(this.nb[h]);this.b.appendChild(this.xb[h]);
this.b.appendChild(this.ja[h])}this.update()}o=Ce.prototype;o.b=f;o.nb=[];o.xb=[];o.ja=[];o.F=[];o.i=f;o.Lc=-1;o.z=f;o.gh=f;o.za=-1;o.pe=i;o.wn=function(a,b){var c=this.z.k[a][b];if(c!=f){if(b>0){this.nb[b].style.zIndex=26;this.xb[b].style.zIndex=27;this.ja[b].style.zIndex=28;this.i.Gd(c,a,-1)}T.uo(c.Ma(this.i),this.ja[b])}};
o.vn=function(a,b){this.nb[b].style.zIndex=3*(5-b)-2;this.xb[b].style.zIndex=3*(5-b)-1;this.ja[b].style.zIndex=3*(5-b);b>0&&this.i.tc();this.ja[b].style.backgroundImage="url(images/site/item_slot_shadow.png)";T.na()};o.uc=da("gh");o.jn=function(a,b){this.gh&&t(this.gh,[a,b]);if(b>0)if(this.z.k[a][b]){var c=this.z;if(ed(c,c.k[a][b],a)){cd(c,c.k[a][b],a);var d=c.k[a][0];c.k[a][0]=c.k[a][b];c.k[a][b]=d}V(this.i);this.update()}};o.kn=function(a){this.i.z.remove(a);V(this.i);this.update();return i};
function Td(a,b){a.b.style.display=b?"block":"none"}o.select=function(){this.b.style.backgroundImage="url(images/site/item_border_hover.png)";this.pe=e};
o.update=function(){for(var a=f,b=0;b<5;b++){a=this.z.k[this.Lc][b];if(a==f){if(b>0){this.xb[b].style.display="none";this.nb[b].style.display="none";this.ja[b].style.display="none"}else this.b.style.backgroundImage="url(images/site/item_border.png)";this.F[b].src="images/charsheet/"+this.Lc+".jpg"}else{if(b>0){this.xb[b].style.display="block";this.nb[b].style.display="block";this.ja[b].style.display="block"}else{this.za=a.za;this.b.style.backgroundImage=this.pe?"url(images/site/item_border_hover.png)":
this.za>-1?"url(images/site/item_border_q"+this.za+".png)":"url(images/site/item_border.png)"}this.F[b].src="images/icons/large/"+a.F+".png"}}};function De(a){this.i=a;this.b=document.createElement("div")}o=De.prototype;o.i=f;o.b=f;o.ij=i;o.en=function(a){this.i.Sc(a);this.update()};
o.update=function(){var a,b=this.i.e,c,d;F.xa(this.b);if(b!=f&&b.qe!=f){c=document.createElement("div");a=b.qe;for(var g=0;g<a.length;g++)if(a[g].c==31&&this.i.e.q.q[0][2][1].N==0)this.ij=i;else{d=document.createElement("div");d.className="cs_shape";d.style.backgroundImage="url(images/icons/"+(a[g].c==b.Va?"":"g/")+"small/"+a[g].r[0].n.F+".png)";c.appendChild(d);M(d,"mouseover",T.to,T,[lc(a[g].r[0].n)]);d.onmouseout=function(){T.na()};d.onmousemove=function(){T.move()};M(d,"click",this.en,this,[a[g].c]);
this.ij=e}this.b.appendChild(c);F.La(this.b)}};function Ee(){this.b=document.createElement("div")}Ee.prototype.update=function(a){F.xa(this.b);if(a.e){var b=a.e.ge;switch(a.e.c){case 6:for(var c=0;c<b.length;c++){var d=document.createElement("div");d.className="ps_presence";d.style.backgroundImage="url(images/icons/"+(a.da.lb(b[c].c)?"":"g/")+"small/"+b[c].F+".png)";this.b.appendChild(d);M(d,"mouseover",T.xf,T,[b[c].c]);d.onmouseout=function(){T.na()};d.onmousemove=function(){T.move()};M(d,"click",this.Mi,this,[b[c].c])}}F.La(this.b)}};
Ee.prototype.wb=da("Pa");Ee.prototype.Mi=function(a){this.Pa&&t(this.Pa,[a])};var Fe={1:447,2:493,3:511,4:1213,5:445,6:1143,7:441,8:1533,9:509,10:447,11:247,22:1469},Ge=[[1,3,4,7,11,22],[2,5,6,8,10,9]];
function He(a){var b=new O(1,2),c=new O(7,2);this.i=a;this.b=document.createElement("div");this.b.className="rcs_parent";this.lf=document.createElement("div");this.lf.className="rcs_icon_race_container";this.xd=document.createElement("div");this.xd.className="rcs_icon_container";this.ob=document.createElement("div");this.ob.className="character_race_icon";this.ob.style.backgroundImage="url(images/site/race_class/medium/empty.png)";this.cf=document.createElement("img");this.cf.className="rcs_icon_s";
this.cf.src="images/site/race_class/medium/empty.png";this.ob=new Fc(4);this.ob.u[0].appendChild(this.cf);this.ob.u[0].className="rcs_icon_l";this.ob.u[1].className="rcs_shadow";this.ob.u[2].className="rcs_border";this.ob.u[3].className="rcs_event_l";b.d[0][0].appendChild(this.ob.u[0]);this.If=document.createElement("img");this.If.className="rcs_icon_s";this.If.src="images/site/race_class/medium/empty.png";this.T=new Fc(4);this.T.u[0].appendChild(this.If);this.T.u[0].className="rcs_icon_l";this.T.u[1].className=
"rcs_shadow";this.T.u[2].className="rcs_border";this.T.u[3].className="rcs_event_l";b.d[0][1].appendChild(this.T.u[0]);this.b.appendChild(b.b);a=document.createElement("div");a.className="rcs_select_header";a.innerHTML="Select a Race:";b=document.createElement("div");b.className="rcs_close";b.onclick=function(){T.wa()};this.lf.appendChild(a);this.lf.appendChild(b);c.d[0][0].innerHTML="<div class='rcs_faction_alliance'>Alliance</div>";c.d[0][1].innerHTML="<div class='rcs_faction_horde'>Horde</div>";
for(a=0;a<2;a++)for(b=0;b<Ge[a].length;b++){var d=document.createElement("div");d.className="rcs_race_icon";d.style.backgroundImage="url(images/site/race_class/medium/chr_race_"+Ge[a][b]+".png)";M(d,"click",this.Ml,this,[Ge[a][b]]);c.d[1+b][a].appendChild(d)}this.lf.appendChild(c.b);M(this.T.u[3],"click",this.Jk,this,[]);M(this.ob.u[3],"click",this.ro,this,[]);M(this.T.u[3],"mouseover",this.$h,this,[1,1]);M(this.ob.u[3],"mouseover",this.$h,this,[0,1]);M(this.T.u[3],"mouseout",this.$h,this,[1,0]);
M(this.ob.u[3],"mouseout",this.$h,this,[0,0]);this.jk=new p(this.Ll,this);this.Lj=new p(this.Al,this)}o=He.prototype;o.b=f;o.lf=f;o.xd=f;o.ob=f;o.cf=f;o.T=f;o.If=f;o.i=f;o.jk=f;o.Lj=f;o.$h=function(a,b){if(a)this.T.u[2].style.backgroundPosition=b!=1?"0px 0px":"48px 0px";else this.ob.u[2].style.backgroundPosition=b!=1?"0px 0px":"48px 0px"};
o.update=function(){var a,b;if(this.i.Na!=f){this.cf.src="images/site/race_class/medium/chr_race_"+this.i.Na.c+".png";this.If.src=this.i.e!=f?"images/site/race_class/medium/"+this.i.e.c+".png":"images/site/race_class/medium/empty.png";F.xa(this.xd);a=document.createElement("div");a.className="rcs_select_header";a.innerHTML="Select a Class:";b=document.createElement("div");b.className="rcs_close";b.onclick=function(){T.wa()};this.xd.appendChild(a);this.xd.appendChild(b);for(a=0;a<11;a++)if((Fe[this.i.Na.c]&
1<<a)!=0){b=document.createElement("div");b.className="rcs_icon";b.style.backgroundImage="url(images/site/race_class/medium/"+(a+1)+".png)";M(b,"click",this.Bl,this,[a+1]);this.xd.appendChild(b)}a=document.createElement("div");a.className="clear_both";this.xd.appendChild(a)}else this.cf.src="images/site/race_class/medium/empty.png"};o.Bl=function(a){L.Tm(a,this.i,this.Lj);T.Ca()};o.Ml=function(a){L.Vm(a,this.i,this.jk);T.Ca()};o.Al=function(){T.wa();V(this.i)};o.Ll=function(){this.Jk();V(this.i)};
o.Jk=function(){this.i.Na!=f?T.Id(this.xd):S(T,"Select a Race first!")};o.ro=function(){T.Id(this.lf)};function Ie(a){this.b=document.createElement("div");this.b.className="bb_p";this.i=a}
Ie.prototype={i:f,b:f,aj:f,ui:f,update:function(){var a=this.i.r.r;F.xa(this.b);for(var b in a)this.Am(a[b]);F.La(this.b)},Am:function(a){var b=document.createElement("img");b.className="bb_buff";b.src="images/icons/small/"+a.n.F+".png";b.oncontextmenu=l(i);M(b,"contextmenu",this.Ql,this,[a.n.c]);M(b,"click",this.ag,this,[a.n.c]);b.onmouseout=function(){T.na()};b.onmousemove=function(){T.move()};a.n.Nd&&a.n.Nd.tb>1&&b.appendChild(F.outline(a.tb));M(b,"mouseover",T.xf,T,[a.n.c]);y.A(a);this.b.appendChild(b)},
Ql:function(a){this.aj&&t(this.aj,[a]);this.update()},ag:function(a){this.ui&&t(this.ui,[a]);this.update()},lo:da("aj"),ho:da("ui")};var Vd={1:24,2:8,3:52,4:56,5:44,6:24,7:40,8:44,9:44,11:8};
function Id(a){var b,c,d,g;this.i=a;this.uh=new He(a);this.mf=new De(a);this.bf=new Ee;this.Sd=new Ie(a);this.b=document.createElement("div");d=document.createElement("div");d.className="cs_level_parent";this.j=document.createElement("select");this.j.className="single_select";d.appendChild(this.j);M(this.j,"change",this.Dl,this,f);Ud(this,a.e?a.e.c:0);Sd(this,a.j);c=document.createElement("div");c.className="cs_t";c.appendChild(this.uh.b);c.appendChild(this.Sd.b);c.appendChild(d);F.La(c);c.appendChild(this.mf.b);
c.appendChild(this.bf.b);this.b.appendChild(c);b=new O(1,2);Kc(b,"top");d=document.createElement("div");d.className="cs_m_grid_t";d.appendChild(b.b);this.b.appendChild(d);b.b.className="cs_m_grid";b.L[0].width="195px";b.L[1].width="148px";d=document.createElement("div");d.className="cs_m_grid_sl";g=new O(8,2);this.Ba=[];for(c=0;c<19;c++)this.Ba[c]=new Ce(c,a);for(c=0;c<8;c++){g.d[c][0].style.paddingRight="8px";g.d[c][1].style.paddingLeft="8px";g.d[c][0].appendChild(this.Ba[c].b);g.d[c][1].appendChild(this.Ba[c+
8].b)}g.b.className="align_center";d.appendChild(g.b);c=new O(1,3);d.appendChild(c.b);c.d[0][0].appendChild(this.Ba[16].b);c.d[0][1].appendChild(this.Ba[17].b);c.d[0][2].appendChild(this.Ba[18].b);c.b.className="cs_w_grid";c=document.createElement("div");c.className="cs_m_grid_lb";d.appendChild(c);b.d[0][0].appendChild(d);this.g=[];this.sc=[];for(c=0;c<locale.CS_StatGroups.length;c++){this.sc[c]=new Ec;c==6&&this.sc[c].Jd();this.g[c]=[];d=document.createElement("div");d.className="stat_title";d.appendChild(document.createTextNode(locale.CS_StatGroups[c]));
this.sc[c].M.appendChild(d);for(d=0;d<locale.CS_Stats[c].length;d++){this.g[c][d]=new xe(a,c,d);this.sc[c].t.appendChild(this.g[c][d].b)}d=document.createElement("div");d.className="cs_st_t";b.d[0][1].appendChild(d);this.sc[c].b.className="cs_st_m";b.d[0][1].appendChild(this.sc[c].b);d=document.createElement("div");d.className="cs_st_b";b.d[0][1].appendChild(d)}this.Hc=new O(0,2);this.Hc.b.className="cs_prof_grid";Mc(this.Hc);Lc(this.Hc);Lc(this.Hc);this.Hc.d[0][0].innerHTML="<div class='cs_prof_title'>"+
locale.Professions+"</div>";this.qd=[f,f];this.lc=[f,f];for(c=0;c<2;c++){a=[[0,""]];for(d=0;d<ta.length;d++){g=ta[d];a.push([g,locale.PrimaryProfessions[g]])}this.qd[c]=new Hc([]);this.qd[c].b.className="single_select cs_prof_sel";M(this.qd[c].b,"change",this.Gl,this,[c]);this.lc[c]=new Hc([]);this.lc[c].b.className="single_select cs_prof_level_sel";M(this.lc[c].b,"change",this.Hl,this,[c])}Pd(this);for(c=0;c<2;c++){this.Hc.d[1+c][0].appendChild(this.qd[c].b);this.Hc.d[1+c][1].appendChild(this.lc[c].b)}b.d[0][0].appendChild(this.Hc.b);
d=document.createElement("div");d.className="cs_m_grid_b";this.b.appendChild(d);Td(this.Ba[18],i)}o=Id.prototype;o.b=f;o.i=f;o.Sd=f;o.Ba=[];o.g=[];o.Ha=-1;o.sc=[];o.j=f;o.mf=f;o.bf=f;o.Hc=f;o.qd=[];o.lc=[];
function Pd(a){for(var b=[a.i.ka.length>0?a.i.ka[0]:f,a.i.ka.length>1?a.i.ka[1]:f],c,d,g,h=0;h<2;h++){c=[[0,""]];for(d=0;d<ta.length;d++){g=ta[d];lb(ta[d],a.i.j)<0||h==0&&b[1]&&b[1].c==g||h==1&&b[0]&&b[0].c==g||c.push([g,locale.PrimaryProfessions[g]])}a.qd[h].A(c);a.qd[h].select(b[h]?b[h].c:0);if(b[h]){var j=b[h];a.lc[h].b.style.display="block";g=mb(b[h].c,a.i.j);c=[];for(d=1;d<=g;d++)c.push([d,d]);a.lc[h].A(c);a.lc[h].select(j.j)}else a.lc[h].b.style.display="none"}}
o.Gl=function(a){var b=this.i,c=parseInt(this.qd[a].vb(),10);b.ka[a]=c>0?new Dc(b,Ua[c]):f;V(this.i);Pd(this)};o.Hl=function(a){this.i.ka[a].ya(parseInt(this.lc[a].vb(),10));V(this.i);Pd(this)};function Sd(a,b){for(var c=0;c<a.j.options.length;c++)if(parseInt(a.j.options[c].value,10)==b){a.j.options[c].selected="true";break}}function Ud(a,b){var c;c=b==6?55:1;F.xa(a.j);for(var d=c;d<=85;d++){c=document.createElement("option");c.value=d;c.innerHTML=d;a.j.appendChild(c)}}
function ub(a){var b;for(b=0;b<a.g[0].length;b++)ze(a.g[0][b],a.i.kc.Sb[b]);for(b=0;b<a.g[1].length;b++)ze(a.g[1][b],a.i.kc.R[b]);for(b=0;b<a.g[6].length;b++)ze(a.g[6][b],a.i.kc.Jc[b]);for(b=0;b<a.g[4].length;b++)ze(a.g[4][b],a.i.kc.n[b]);for(b=0;b<a.g[5].length;b++)ze(a.g[5][b],a.i.kc.Da[b]);for(b=0;b<a.g[2].length;b++)ze(a.g[2][b],a.i.kc.aa[b]);for(b=0;b<a.g[3].length;b++)ze(a.g[3][b],a.i.kc.ua[b])}
function Xd(a){var b,c;for(b=0;b<a.g.length;b++)for(c=0;c<a.g[b].length;c++)a.g[b][c].Td.innerHTML=""}o.Dl=function(){this.i.ya(parseInt(this.j.options[this.j.selectedIndex].value,10))};var Je=0,W=1,Ke=2,Le=3,X=0,Me=[["gt","&gt;"],["ge","&ge;"],["lt","&lt;"],["le","&le;"],["eq","="]],Ne=[["wlike","is"]],Oe=[["eq","="]];function Pe(){this.Rf=new fa;this.ra=[];this.se=[];this.He=document.createElement("div")}o=Pe.prototype;o.Rf=new fa;o.se=[];o.ra=[];o.Oe={};o.Pb="";o.He=document.createElement("div");o.Xn="[remove]";o.Wn="";
function Qe(a,b,c){var d=f;switch(b[1]){case W:d=new Re(b[0],b[2]);break;case Je:d=new Se(b[0]);break;case Ke:d=new Te(b[0],b[2]);break;case Le:d=new Ue(b[0],b[2]);break;default:ba("Invalid filter type (var:"+b[0]+") "+b[1])}if(c)if(d.A(c))a.Pb=a.Pb.replace(c,"");return d}
o.A=function(a,b,c){this.Pb=c;this.ra=a;for(this.Rf.clear();this.He.firstChild;)this.He.removeChild(this.He.firstChild);this.se=[];for(a=0;a<b.length;a++)if(b[a]){c=RegExp("(?:^|;)("+b[a][0]+"\\.(?:\\w+)\\.(?:[^;]+);)").exec(this.Pb);c=Qe(this,b[a],c?c[1]:f);this.Rf.push(c);this.Oe[b[a][0]]||(this.se[a]=c)}b=0;for(var d;(a=/(^|;)([^;]+;)/.exec(this.Pb))!=f;){d=this.Pb;if(c=/^(\w+)\.(\w+)\.([^;]+);/.exec(a[2])){this.Uh(c[1],a[2]);b++;if(d==this.Pb)this.Pb=this.Pb.replace(a[0],a[1])}else this.Pb=this.Pb.replace(a[0],
a[1])}};
o.Uh=function(a,b){var c=f,d=0,g,h=document.createElement("select"),j=document.createElement("span"),k=document.createElement("div"),q=f,x=-1,m=e,r=e;m=f;h.className="single_select fm_sel";for(var n=0;n<this.ra.length;n++){m=e;g=this.ra[n][0];switch(g){case 2:g=document.createElement("option");g.value=-1;h.appendChild(g);break;case 0:c!=f&&d>0&&h.appendChild(c);c=document.createElement("optgroup");c.label=this.ra[n][1];d=0;break;case 1:g=document.createElement("option");g.innerHTML=this.ra[n][1];g.value=
n;if(a&&a==this.ra[n][2][0]){g.selected=e;x=n}if(this.Oe[this.ra[n][2][0]])if(x==n)r=i;else m=i;if(m){d++;c!=f?c.appendChild(g):h.appendChild(g)}break;default:ba("Invalid custom select option: "+g)}}c!=f&&d>0&&h.appendChild(c);if(!(a&&x==-1)){if(x!=-1)q=Qe(this,this.ra[x][2],b);m=this.Rf.push(q);if(r){j.appendChild(h);q&&j.appendChild(q.b);M(h,"change",this.ln,this,[j,h,m]);k.appendChild(j);c=document.createElement("a");c.innerHTML=this.Xn;c.className=this.Wn;c.href="#";c.onclick=l(i);k.appendChild(c);
M(c,"click",function(v,s){s!=f&&s.remove();v.parentNode&&v.parentNode.removeChild(v)},window,[k,m]);this.He.appendChild(k)}}};o.ln=function(a,b,c){var d=f;c.K&&a.removeChild(c.K.b);b=parseInt(b.options[b.selectedIndex].value,10);if(b!=-1){d=Qe(this,this.ra[b][2],f);a.appendChild(d.b)}c.K=d};o.Ka=function(){for(var a="",b=this.Rf.$d;(b=b.fc).fc!=f;)if(b.K!=f)a+=b.K.zg();return a};function Ve(a,b){this.Nb=a;this.b=document.createElement("span");this.Eb=b}o=Ve.prototype;o.Nb="";o.b=f;o.Eb=-1;o.ye=X;
o.A=function(){ba("Unimplemented set Method of FilterBase was called")};o.vb=function(){ba("Unimplemented getValue Method of FilterBase was called")};o.zg=function(){ba("Unimplemented getArgumentString Method of FilterBase was called")};
function Re(a,b){Ve.call(this,a,W);this.ye=b;var c=f;switch(this.ye){case 2:c=new Hc(Ne);c.b.style.display="none";break;case 3:c=new Hc(Oe);c.b.style.display="none";break;default:c=new Hc(Me)}this.jh=c;this.b.appendChild(this.jh.b);this.ae=document.createElement("input");this.ae.className="input fm_in";if(this.ye==X)this.ae.value="0";this.b.appendChild(this.ae)}Re.prototype=new Ve("",0);o=Re.prototype;o.ye=X;o.jh=f;o.ae=f;
o.vb=function(){switch(this.ye){case 3:case X:var a=parseFloat(this.ae.value);if(isNaN(a))a="";return a;default:return this.ae.value}};
o.A=function(a){switch(this.ye){case X:a=RegExp("^"+this.Nb+"\\.(eq|gt|lt|ge|le)\\.(\\d+(?:\\.\\d+)?);$").exec(a);break;case 3:a=RegExp("^"+this.Nb+"\\.(eq)\\.(\\d+(?:\\.\\d+)?);$").exec(a);break;case 2:a=RegExp("^"+this.Nb+"\\.(wlike|is)\\.([^;]+);$").exec(a);break;default:a=RegExp("^"+this.Nb+"\\.(w+).([^;]+);$").exec(a)}if(a){this.jh.select(a[1]);this.ae.value=a[2];return e}return i};o.zg=function(){return this.Nb+"."+this.jh.vb()+"."+this.vb()+";"};
function Se(a){Ve.call(this,a,Je);this.Se=document.createElement("input");this.Se.className="input fm_in_min";this.Se.maxLength="5";this.Re=document.createElement("input");this.Re.className="input fm_in_max";this.Re.maxLength="5";this.b.appendChild(this.Se);this.b.appendChild(document.createTextNode(" - "));this.b.appendChild(this.Re)}Se.prototype=new Ve("",0);o=Se.prototype;o.ye=X;o.Se=f;o.Re=f;
o.zg=function(){var a=parseFloat(this.Se.value),b=parseFloat(this.Re.value);return this.Nb+".btw."+(isNaN(a)?"":""+a)+"-"+(isNaN(b)?"":""+b)+";"};o.A=function(a){if(a=RegExp("^"+this.Nb+"\\.btw\\.(\\d*(?:\\.\\d+)?)-(\\d*(?:\\.\\d+)?);$").exec(a)){this.Se.value=a[1];this.Re.value=a[2];return e}return i};function Te(a,b){Ve.call(this,a,Ke);this.ga=b;this.Ua=new Hc(b);this.b.appendChild(this.Ua.b)}Te.prototype=new Ve("",0);o=Te.prototype;o.ga=[];o.Ua=f;o.vb=function(){return this.Ua.vb()};
o.A=function(a){if(a=RegExp("^"+this.Nb+"\\.eq\\.([^;]+);$").exec(a)){this.Ua.select(a[1]);return e}return i};o.zg=function(){return this.Nb+".eq."+this.vb()+";"};function Ue(a,b){Ve.call(this,a,Le);this.ga=b;this.Ua=new Ic(b,"");this.b.appendChild(this.Ua.b)}Ue.prototype=new Ve("",0);o=Ue.prototype;o.ga=[];o.Ua=f;o.vb=function(){return this.Ua.vb()};o.A=function(a){if(a=RegExp("^"+this.Nb+"\\.ba\\.([^;]+);$").exec(a)){this.Ua.select(parseInt(a[1],10));return e}return i};
o.zg=function(){return this.Nb+".ba."+this.vb()+";"};function We(){}o=We.prototype;o.b=f;o.zf=f;o.kf=f;o.sa=f;o.mc=f;o.Zd=f;o.Yi=f;o.Ab=f;
o.Rc=function(){this.sa=new Pe;this.b=document.createElement("form");this.b.onsubmit=l(i);this.b.action="#";this.b.method="post";M(this.b,"submit",this.em,this,f);this.zf=document.createElement("input");this.zf.value=locale.F_AddFilter;this.zf.type="button";M(this.zf,"click",this.Uh,this,f);this.kf=document.createElement("input");this.kf.value=locale.F_Search;this.kf.type="submit";this.kf.className="fm_search";this.mc=document.createElement("input");this.mc.type="checkbox";this.kf.className="fm_propagate";
M(this.mc,"change",this.Kl,this,f);this.Ab=new O(1,4);Kc(this.Ab,"top");this.Ab.L[0].width="100%";this.b.appendChild(this.Ab.b);Mc(this.Ab);this.Ab.d[1][0].appendChild(this.sa.He);this.Ab.d[1][0].appendChild(this.zf);this.Ab.b.className="fm_layout_t";this.b.appendChild(this.kf)};o.em=function(){this.update(this.sa.Ka());this.Zd&&t(this.Zd,[])};o.Uh=function(){this.sa.Uh("","")};function Xe(a,b){a.sa.Oe[b]=e}o.Kl=function(){this.Yi&&t(this.Yi,[])};o.Ka=function(){return this.sa.Ka()};
function Qd(a,b,c){var d=a.sa.Ka();d=d.replace(RegExp("\u0008"+b+"\\.\\w+\\.[^;]+;"),"")+c;a.update(d)}function Ye(a,b){var c=document.createElement("div");c.innerHTML="<span class='if_in_title'>"+a+":</span>";c.appendChild(b);return c}function Ze(a,b){var c=document.createElement("div");c.innerHTML="<div class='if_sel_title'>"+a+"</div>";c.appendChild(b);return c}o.update=function(){ba("Unimplemented function Filter.update")};var $e=[8919044,1116154,2026,2026,2026],af=[[0,locale.a_quality[0]],[1,locale.a_quality[1]],[2,locale.a_quality[2]],[3,locale.a_quality[3]],[4,locale.a_quality[4]],[5,locale.a_quality[5]],[7,locale.a_quality[7]]],bf=[[1,locale.a_class[0]],[2,locale.a_class[1]],[4,locale.a_class[2]],[8,locale.a_class[3]],[16,locale.a_class[4]],[32,locale.a_class[5]],[64,locale.a_class[6]],[128,locale.a_class[7]],[256,locale.a_class[8]],[1024,locale.a_class[10]]];
function cf(a){this.Rc();if(a==0){a=document.createElement("div");a.className="if_propagate";a.appendChild(this.mc);a.appendChild(document.createTextNode(" "+locale.F_Propagate));this.b.appendChild(a)}}cf.prototype=new We;o=cf.prototype;
o.ra=[[2],[0,locale.F_General],[1,locale.F_ItemClass,["class",Ke,[[4,"Armor"],[3,"Gem"],[2,"Weapon"]]]],[0,locale.F_Stats],[1,locale.CS_Stats[1][0],["str",W,X]],[1,locale.CS_Stats[1][1],["agi",W,X]],[1,locale.CS_Stats[1][2],["sta",W,X]],[1,locale.CS_Stats[1][3],["int",W,X]],[1,locale.CS_Stats[1][4],["spi",W,X]],[0,locale.F_Ratings],[1,locale.ItemStatNames[31],["hit",W,X]],[1,locale.ItemStatNames[32],["crit",W,X]],[1,locale.ItemStatNames[35],["res",W,X]],[1,locale.ItemStatNames[36],["haste",W,X]],
[1,locale.ItemStatNames[49],["mast",W,X]],[0,locale.F_Defense],[1,locale.ItemStatNames[13],["dod",W,X]],[1,locale.ItemStatNames[14],["par",W,X]],[1,locale.ItemStatNames[15],["blo",W,X]],[0,locale.F_Melee],[1,locale.ItemStatNames[38],["ap",W,X]],[0,locale.F_Spell],[1,locale.ItemStatNames[45],["sp",W,X]],[0,locale.F_Requirements],[1,"Usable by ",["usablebyclass",Ke,bf]],[1,locale.F_CanBeUsedWithLevel,["canbeusedwithlvl",W,3]],[1,locale.F_RequiresReputation,["reqrepu",Ke,[[1,locale.F_Yes],[0,locale.F_No]]]],
[0,locale.F_Miscellaneous],[1,locale.F_SocketableGem,["issocketablegem",Ke,[[1,locale.F_Yes],[0,locale.F_No]]]],[1,locale.F_GemReqItemLevel,["gemreqitemlvl",W,X]]];o.Fc=0;o.ie=0;o.he=-1;o.ei=function(a,b){this.he=a;this.Fc=b};o.Bj=da("ie");
o.update=function(a){var b=f,c=f,d=f,g=f,h=[],j=i;switch(this.he){case 4:if(this.Fc&2048)c=df(this,[11]);else{j=e;c=df(this,[0,1,2,3,4])}break;case 3:this.sa.Oe.subclass=i;if(this.Fc&64){Xe(this,"subclass");c=df(this,[6])}else if(this.Fc&1024){Xe(this,"subclass");c=df(this,[10])}else c=df(this,[0,1,2,3,4,5,7,8]);break;case 2:if(this.Fc==0)j=e;else c=df(this,f)}if((this.ie&6463488)!=0||this.he==2){d=["dps",Je];g=["delay",Je]}if(j||this.ie!=0){b=[];j=-1;var k=0,q;if(this.he==4)if(this.Fc==0)j&=$e[0]|
$e[1]|$e[2]|$e[3]|$e[4];else{for(q=0;q<5;q++)if(this.Fc&1<<q)k|=$e[q];j&=k}else if(this.he==2)if(this.Fc==0)j&=6463488;if(this.ie)this.ie&=j;else this.ie=j;for(q=1;q<=28;q++)if((this.ie&1<<q)!=0)b[b.length]=[q,q==14?locale.F_ShieldHand:locale.a_slot[q]];b=["slot",Le,b]}h[0]=["name",W,2];h[1]=["quality",Le,af];if(d){h[2]=d;h[3]=g}if(b)h[4]=b;if(c)h[5]=c;h[6]=["lvl",Je];h[7]=["reqlvl",Je];this.sa.A(this.ra,h,a);a=this.sa.se;c=this.Ab.d[0];for(d=0;d<c.length;d++)c[d].innerHTML="";d=Ye(locale.F_Name,
a[0].b);d.className="if_in_later";c[0].appendChild(d);d=Ye(locale.F_ItemLevel,a[6].b);d.className="if_in_later";c[0].appendChild(d);d=Ye(locale.F_RequiredLevel,a[7].b);d.className="if_in_later";c[0].appendChild(d);d=Ze(locale.F_Quality,a[1].b);d.className="if_in_later";c[3].appendChild(d);if(a[2]){d=Ye(locale.F_DPS,a[2].b);d.className="if_in_later";c[0].appendChild(d)}if(a[3]){d=Ye(locale.F_Speed,a[3].b);d.className="if_in_later";c[0].appendChild(d)}a[4]&&c[1].appendChild(Ze(locale.F_InventorySlot,
a[4].b));a[5]&&c[2].appendChild(Ze(locale.F_ItemClass,a[5].b))};function df(a,b){var c=[],d;if(b)for(d=0;d<b.length;d++)c[c.length]=[b[d],Ta[a.he][1][b[d]]];else for(d=0;d<32;d++)if((1<<d&a.Fc)!=0)c[c.length]=[d,Ta[a.he][1][d]];return["subclass",Le,c]};function ef(){this.Rc()}ef.prototype=new We;ef.prototype.sk=[];ef.prototype.ra=[];ef.prototype.Ka=function(){return We.prototype.Ka.call(this)};
ef.prototype.update=function(a){this.sa.A(this.ra,[["name",W,2],["ilvl",Je],["reqlvl",Je]],a);a=this.sa.se;var b=this.Ab.d[0],c;for(c=0;c<b.length;c++)b[c].innerHTML="";c=Ye(locale.F_Name,a[0].b);c.className="if_in_later";b[0].appendChild(c);c=Ye(locale.F_ItemLevel,a[1].b);c.className="if_in_later";b[0].appendChild(c);c=Ye(locale.F_RequiredLevel,a[2].b);c.className="if_in_later";b[0].appendChild(c)};function ff(){this.Rc();this.sa=new Pe}ff.prototype.ra=[[3],[1,locale.CS_Stats[1][0],["str",W,X]],[1,locale.CS_Stats[1][1],["agi",W,X]],[1,locale.CS_Stats[1][2],["sta",W,X]],[1,locale.CS_Stats[1][3],["int",W,X]],[1,locale.CS_Stats[1][4],["spi",W,X]],[1,locale.F_IsEnchant,["isenchant",Ke,[[1,locale.F_Yes],[0,locale.F_No]]]],[1,locale.F_Description,["description",W,2]]];ff.prototype=new We;
ff.prototype.update=function(a){this.sa.A(this.ra,[["name",W,2]],a);var b=this.sa.se,c;a=this.Ab.d[0];for(c=0;c<a.length;c++)a[c].innerHTML="";b=Ye(locale.F_Name,b[0].b);b.className="if_in_later";a[0].appendChild(b)};function gf(){this.Rc()}gf.prototype=new We;gf.prototype.ra=[[2],[1,locale.F_ShowDeleted,["showdeleted",[[1,locale.F_Yes],[0,locale.F_No]]]],[1,locale.F_CharacterLevel,["lvl",W,X]]];gf.prototype.Ab=f;gf.prototype.Ka=function(){return We.prototype.Ka.call(this)};gf.prototype.update=function(a){this.sa.A(this.ra,[["ismine",Ke,[[1,"Yes"],[0,"No"]]]],a);var b=this.sa.se,c;a=this.Ab.d[0];for(c=0;c<a.length;c++)a[c].innerHTML="";b=Ze(locale.F_MyProfiles,b[0].b);b.className="if_in_later";a[0].appendChild(b)};var hf=[[1,locale.a_class[0]],[2,locale.a_class[1]],[3,locale.a_class[2]],[4,locale.a_class[3]],[5,locale.a_class[4]],[6,locale.a_class[5]],[7,locale.a_class[6]],[8,locale.a_class[7]],[9,locale.a_class[8]],[11,locale.a_class[10]]];function jf(){this.Rc()}jf.prototype=new We;jf.prototype.sk=[];jf.prototype.ra=[[1,"Character Class ",["chrclass",Ke,hf]]];jf.prototype.Ka=function(){return We.prototype.Ka.call(this)};jf.prototype.update=function(a){this.sa.A(this.ra,this.sk,a)};var kf=0;
function lf(a){this.S=new Ob([]);this.b=document.createElement("div");this.b.className="il";this.t=document.createElement("div");this.t.className="il_c";this.fb=new Ec;this.fb.M.innerHTML=locale.L_Filter;this.fb.M.className="collapse_h if_collapse_h";this.fb.t.className="collapse_c if_collapse_c";this.fb.b.className="collapse if_collapse";this.fb.b.style.display="none";this.Ta=new O(1,3);this.Ta.b.width="100%";this.Ta.L[0].width="33%";this.Ta.L[1].width="34%";this.Ta.L[2].width="33%";this.nd=document.createElement("a");
this.nd.className="il_page_btn il_prev_page";this.nd.style.display="none";M(this.nd,"click",this.yn,this,f);this.kh=document.createElement("span");this.kh.className="il_curr_page";this.md=document.createElement("a");this.md.className="il_page_btn il_next_page";this.md.style.display="none";M(this.md,"click",this.xn,this,f);this.Ta.d[0][0].appendChild(this.nd);this.Ta.d[0][1].appendChild(this.kh);this.Ta.d[0][1].className="text_align_center";this.Ta.d[0][2].appendChild(this.md);this.Ta.b.className=
"il_page_p";this.Af=document.createElement("div");this.b.appendChild(this.fb.b);this.b.appendChild(this.Af);this.b.appendChild(this.t);this.b.appendChild(this.Ta.b);this.ic=a;this.Mb=new p(this.Jg,this)}o=lf.prototype;o.S=f;o.b=f;o.t=f;o.Ta=f;o.nd=f;o.kh=f;o.md=f;o.fb=f;o.Cb=1;o.Af=f;o.ic="";o.Sa=1;o.Ze=1;o.sd="";o.hc=f;o.kd=f;o.Mb=f;o.B=f;
function mf(a,b,c){var d=document.createElement("a");d.innerHTML=b+(c==a.ic?a.Cb==kf?" \u25bc":" \u25b2":"");d.className="il_sort_link"+(c==a.ic?"_active":"");M(d,"click",a.$l,a,[c]);return d}o.$l=function(a){if(a==this.ic)this.Cb=this.Cb==kf?1:kf;this.ic=a;this.update()};o.Jg=function(a,b){if(b==this.sd){this.Ie(a);this.kd&&this.kd[0].apply(this.kd[1],[this]);this.sd=""}};o.xn=function(){this.Sa=this.Sa<this.Ze?this.Sa+1:this.Ze;this.update()};o.yn=function(){this.Sa=this.Sa>1?this.Sa-1:1;this.update()};
o.filter=function(){this.Sa=1;this.update()};o.uc=da("hc");function nf(a,b){a.Ze=b;if(a.Ze>a.Sa){a.md.innerHTML=locale.next;a.md.style.display=""}else a.md.style.display="none";if(a.Sa>1){a.nd.innerHTML=locale.previous;a.nd.style.display=""}else a.nd.style.display="none";a.kh.innerHTML=C(locale.L_PageOf,[a.Sa,a.Ze]);a.Ta.b.style.display="table"}o.update=ca();o.A=ca();o.Ie=ca();o.na=function(){this.b.style.display="none"};o.show=function(){this.b.style.display="block"};
o.A=function(a){this.Ze=this.Sa=1;this.sd="";this.fb.b.style.display="block";this.B.update(a);this.Ta.b.style.display="none"};o.Ca=function(){this.b.style.display="block";this.t.style.display="block";this.t.innerHTML="<div class='li_loading'>"+locale.L_Loading+"</div>";this.Ta.b.style.display="none"};o.ma=function(a,b){this.S.ma(a,b)};function Dd(a){var b,c;lf.call(this,"level");b=this.S;c=["show_stat_weights_interface"];for(var d in c)b.zc[c[d]]=[];this.bk=a;this.B=new cf(a);this.B.Zd=new p(this.filter,this);F.ba(this.fb.t,this.B.b);this.yd=document.createElement("input");this.yd.type="checkbox";M(this.yd,"click",this.update,this,f);b=document.createElement("input");b.value="Manage Stat Weights";b.type="button";M(b,"click",this.S.ab,this.S,["show_stat_weights_interface",f]);c=document.createElement("span");c.innerHTML="show stat weight based score";
c.className="il_swb";a=document.createElement("div");a.className="il_swb_p";a.appendChild(this.yd);a.appendChild(c);a.appendChild(b);this.Af.appendChild(a);this.t.style.display="none";this.Af.style.display="none";this.Cb=kf}Dd.prototype=new lf("level");o=Dd.prototype;o.k=f;o.te=0;o.T=0;o.of=0;o.B=f;o.nf=i;o.Mb=f;o.Ja=f;o.yd=f;o.Kg=f;o.bk=0;o.Ae=da("Ja");o.Bj=function(a){this.of=a;this.B.Bj(a)};o.ei=function(a,b){this.T=a;this.te=b;this.B.ei(a,b)};
o.A=function(a,b,c){lf.prototype.A.call(this,a,b,c);this.update()};o.update=function(){var a="php/interface/get_items.php"+E({a:this.B.Ka(),o:this.ic+"."+(this.Cb==1?"asc":"desc")+";",p:this.Sa,weights:this.yd.checked?JSON.stringify(this.Ja):JSON.stringify(f)});this.sd=a;Sc(a,this.Mb,[a]);this.Af.style.display="block";this.Ca()};
o.Ie=function(a){var b,c,d,g,h=0,j=this.Kg?this.Kg.ze(this.Ja):0;if(a.length<2)this.t.innerHTML="<div class='il_nothing'>Nothing Found</div>";else{g=new O(a.length,7+(this.nf?2:0)+(this.yd.checked?1:0));g.b.cellSpacing="0px";g.b.width="100%";nf(this,Math.ceil(a[0][0]/a[0][1]));g.L[h].width="26px";h++;g.d[0][h++].appendChild(mf(this,"Name","name"));if(this.nf){g.d[0][h++].appendChild(mf(this,"DpS","dps"));g.d[0][h++].appendChild(mf(this,"Spd","delay"))}g.d[0][h++].appendChild(mf(this,"iLvl","level"));
g.d[0][h++].appendChild(mf(this,"Slot","slot"));g.d[0][h++].appendChild(mf(this,"Type","itemclass"));this.yd.checked&&g.d[0][h++].appendChild(mf(this,"Score","weightedscore"));for(b=0;b<h;b++)g.d[0][b].className="il_sort_c";for(b=1;b<a.length;b++){h=0;c=new ac(a[b][0]);ua.A(c);g.W[b].className="il_row"+b%2;d=document.createElement("a");d.className="itemlist_name_link";d.style.color=va[c.za];d.innerHTML=c.v;d.onmouseout=function(){T.vj()};d.onmousemove=function(){T.move()};this.bk==0?M(d,"mouseover",
T.Kk,T,[c.c]):M(d,"mouseover",T.fi,T,[c.c]);if(this.hc)M(d,"click",function(k){t(this.hc,[k])},this,[c.Ob()]);else d.href="?item="+c.c;g.d[b][h++].innerHTML="<div style='background-image:url(images/icons/small/"+c.F+".png)' class='il_icon' ></div>";g.d[b][h].appendChild(d);if((c.xe&8)!=0){d=document.createElement("sup");d.className="il_heroic";d.innerHTML="H";g.d[b][h].appendChild(d)}h++;if(this.nf){g.d[b][h].className="il_"+(c.uf&512?"un":"")+"imp_col";g.d[b][h++].innerHTML=c.Rb?hc(c):"";g.d[b][h].className=
"il_"+(c.uf&512?"un":"")+"imp_col";g.d[b][h++].innerHTML=c.Rb?gc(c):""}g.d[b][h++].innerHTML=c.j;g.d[b][h].className=this.nf?"il_unimp_col":"il_imp_col";g.d[b][h++].innerHTML=c.ta?locale.a_slot[c.ta]:"";g.d[b][h].className=this.nf?"il_unimp_col":"il_imp_col";g.d[b][h++].innerHTML=c.Mc[0];if(this.yd.checked){g.d[b][h].className="il_imp_col";g.d[b][h].innerHTML=a[b][1];if(this.Kg!=f&&j>0){d=a[b][1]/j;if(d>1)g.d[b][h].style.color="#"+(d>2?"FF":Math.floor(255-192*(d-1)).toString(16))+"FF00";else if(d<
1)g.d[b][h].style.color="#FF"+(d>2?"FF":Math.floor(255-192*(1-d)).toString(16))+"00"}h++}g.d[b][h].className="il_unimp_col";g.d[b][h++].innerHTML="<a href='http://wowhead.com/item="+c.c+"' target='_blank'></a>"}F.ba(this.t,g.b)}};function Gd(){lf.call(this,"setid");this.B=new ef;this.B.Zd=new p(this.filter,this);F.ba(this.fb.t,this.B.b);this.Cb=kf;this.fb.b.style.display="block"}Gd.prototype=new lf("setid");Gd.prototype.update=function(){var a="php/interface/get_sets.php"+E({a:this.B.Ka(),o:this.ic+"."+(this.Cb==1?"asc":"desc")+";",p:this.Sa});this.sd=a;Sc(a,this.Mb,[a]);this.Ca()};
Gd.prototype.Ie=function(a){if(a.length<2)this.t.innerHTML="<div class='il_nothing'>Nothing Found</div>";else{var b=new O(a.length,4),c;b.b.cellSpacing="0px";b.b.width="100%";nf(this,Math.ceil(a[0][0]/a[0][1]));b.d[0][0].appendChild(mf(this,"Name","name"));b.d[0][2].appendChild(mf(this,"iLvl","ilvl"));b.d[0][3].appendChild(mf(this,"Req","reqlvl"));for(var d=1;d<a.length;d++){b.W[d].className="il_row"+d%2;b.d[d][0].innerHTML=a[d][1];b.d[d][0].style.color=va[a[d][6]];b.d[d][0].className="il_imp_col";
b.d[d][0].style.height="28px";for(var g=0;g<a[d][8].length;g++)if(a[d][8][g]!=f){var h=new ac(a[d][8][g]);ua.A(h);c=document.createElement("div");c.className="il_icon";c.style.backgroundImage="url(images/icons/small/"+h.F+".png)";c.style.cssFloat="left";c.style.marginLeft="2px";c.style.marginTop="1px";M(c,"mouseover",T.so,T,[h]);c.onmouseout=function(){T.vj()};c.onmousemove=function(){T.move()};nb(c,this.hc,[h]);b.d[d][1].appendChild(c)}F.La(b.d[d][1]);b.d[d][2].innerHTML=a[d][2]!=a[d][3]?a[d][2]+
"-"+a[d][3]:a[d][2];b.d[d][2].className="il_unimp_col";b.d[d][2].style.textAlign="left";b.d[d][3].innerHTML=a[d][4]!=a[d][5]?a[d][4]+"-"+a[d][5]:a[d][4];b.d[d][3].className="il_unimp_col";b.d[d][3].style.textAlign="left"}F.ba(this.t,b.b);this.t.style.display="block"}};var of="enchantchrlevel",Fd=0;function Ed(a){lf.call(this,of);this.B=new ff;this.B.Zd=new p(this.filter,this);F.ba(this.fb.t,this.B.b);this.Eb=a;this.Cb=kf}Ed.prototype=new lf("id");o=Ed.prototype;o.Eb=2;o.Sj="";o.A=function(a){lf.prototype.A.call(this,a,f,f);this.update()};o.update=function(){var a="php/interface/get_spells.php"+E({a:this.B.Ka()+this.Sj,o:this.ic+"."+(this.Cb==1?"asc":"desc")+";",p:this.Sa});this.sd=a;Sc(a,this.Mb,[a]);this.Ca()};
o.clear=function(){this.fb.b.style.display="none";this.Ta.b.display="none";if(this.Eb==Fd)this.t.innerHTML="<div class='il_notice'>Select an equipped item to enchant it or to set its random property</div>"};
o.Ie=function(a){var b,c,d,g,h=0,j="";this.Ta.b.display="table";if(a.length<2)this.t.innerHTML="<div class='il_nothing'>Nothing Found</div>";else{g=new O(a.length,3);g.b.cellSpacing="1px";g.b.width="100%";nf(this,Math.ceil(a[0][0]/a[0][1]));g.L[h].width="26px";h++;g.d[0][h++].appendChild(mf(this,"Name","name"));g.d[0][h++].appendChild(mf(this,"Req. Level",of));for(b=0;b<h;b++)g.d[0][b].className="il_sort_c";for(b=1;b<a.length;b++){h=0;c=new U(a[b]);y.A(c);g.W[b].className="il_row"+b%2;g.d[b][h++].innerHTML=
"<div style='background-image:url(images/icons/small/"+c.F+".png)' class='il_icon' ></div>";d=document.createElement("a");d.className="itemlist_name_link";d.innerHTML=c.getName();d.onmouseout=function(){T.vj()};d.onmousemove=function(){T.move()};(this.Eb=Fd)?M(d,"mouseover",T.po,T,[c.c]):M(d,"mouseover",T.xf,T,[c.c]);g.d[b][h++].appendChild(d);j="None";for(var k=0;k<c.O.length;k++)if(c.O[k]&&c.O[k].Cf==53&&c.O[k].Xb!=f){j=c.O[k].Xb.Kb;break}g.d[b][h++].innerHTML=j;if(this.hc)M(d,"click",function(q){t(this.hc,
[q])},this,[c.c]);else d.href="?spell="+c.c}F.ba(this.t,g.b)}};var pf="time";function qf(){lf.call(this,pf);this.B=new gf;this.B.Zd=new p(this.filter,this);F.ba(this.fb.t,this.B.b);this.Pn=f;this.t.style.display="none";this.Cb=kf;this.Nj=new p(this.Jl,this)}qf.prototype=new lf(pf);o=qf.prototype;o.Nj=f;o.update=function(){var a="php/interface/profiles/get_profiles.php"+E({a:this.B.Ka(),o:this.ic+"."+(this.Cb==1?"asc":"desc")+";",p:this.Sa});this.sd=a;Sc(a,this.Mb,[a]);this.Ca()};
o.Ie=function(a){var b,c,d,g=0,h;if(a.length<2)this.t.innerHTML="<div class='il_nothing'>Nothing Found</div>";else{d=new O(1,4);d.b.cellSpacing="0px";nf(this,Math.ceil(a[0][0]/a[0][1]));d.L[g].width="30px";g++;d.L[g].width="26px";g++;d.L[g].width="26px";g++;d.L[g].width="838px";g++;for(b=0;b<g;b++)d.d[0][b].className="il_sort_c";for(b=1;b<a.length;b++){g=0;h=Mc(d);d.d[h][0].className="pl_entry_h";c=document.createElement("a");c.innerHTML=a[b][2]?a[b][2]:"Profile #"+a[b][0];c.href="?profile="+a[b][0];
c.target="_blank";if(a[b][3]){c.onmouseout=function(){T.na()};c.onmousemove=function(){T.move()};M(c,"mouseover",T.wo,T,[a[b][3]])}d.d[h][0].appendChild(c);c=document.createElement("span");c.innerHTML="&nbsp;Created: "+a[b][7]+"&nbsp;";d.d[h][0].appendChild(c);if(this.hc){c=document.createElement("a");c.innerHTML="[Import]";c.className="pl_import_link";M(c,"click",function(j){t(this.hc,[j])},this,[a[b][0]]);d.d[h][0].appendChild(c)}if(g_settings.userId==a[b][1]){c=document.createElement("a");c.innerHTML=
"[x]";c.className="pl_delete_link";M(c,"click",this.Il,this,[a[b][0]]);d.d[h][0].appendChild(c)}h=Lc(d);d.W[h].className="il_row"+b%2;d.d[h][g++].innerHTML="<div class='text_align_center'>"+a[b][6]+"</div>";d.d[h][g++].innerHTML="<div style='background-image:url(images/site/race_class/small/chr_race_"+a[b][4]+".png)' class='il_icon' ></div>";d.d[h][g++].innerHTML="<div style='background-image:url(images/site/race_class/small/"+a[b][5]+".png)' class='il_icon' ></div>"}F.ba(this.t,d.b)}};
o.Il=function(a){confirm(locale.sure_delete_profile)&&H.Sm(a,this.Nj)};o.Jl=function(a){a.getResponseHeader("error")?S(T,a.responseText):this.update()};function $d(){lf.call(this,pf);this.B=new jf;this.B.Zd=new p(this.filter,this);Xe(this.B,"chrclass");F.ba(this.fb.t,this.B.b);this.Pn=f;this.t.style.display="none"}$d.prototype=new lf(pf);o=$d.prototype;o.Cb=kf;o.jd=f;o.update=function(){var a="php/interface/user/get_stat_weights.php"+E({a:this.B.Ka(),o:this.ic+"."+(this.Cb==1?"asc":"desc")+";",p:this.Sa});this.sd=a;Sc(a,this.Mb,[a]);this.Ca()};
o.Ie=function(a){var b,c,d=0,g;if(a.length<2)this.t.innerHTML="<div class='il_nothing'>Nothing Found</div>";else{c=new O(1,1);c.b.cellSpacing="0px";c.b.className="swl_content_grid";nf(this,Math.ceil(a[0][0]/a[0][1]));for(b=0;b<d;b++)c.d[0][b].className="il_sort_c";for(b=1;b<a.length;b++){d=0;d=Lc(c);g=document.createElement("a");g.className="swl_entry"+(b!=a.length-1?" swl_entry_b":"");g.innerHTML=a[b][1]+"<br /><span class='swl_creator'>"+a[b][5]+"</span><br /><span class='swl_entry_desc'>"+(a[b][2]?
a[b][2]:"No Description")+"</span>";g.oncontextmenu=l(i);M(g,"click",this.ag,this,[a[b][3]]);M(g,"contextmenu",this.Oi,this,[a[b][0],a[b][1]]);c.d[d][0].appendChild(g)}F.ba(this.t,c.b)}};o.ag=function(a){this.hc&&t(this.hc,[a])};o.Aj=da("jd");o.Oi=function(a,b){this.jd&&t(this.jd,[a,b])};function td(a){var b=new Fc(6);this.ib=a;this.b=b.u[0];this.Qb=[document.createElement("div"),document.createElement("div"),document.createElement("div"),document.createElement("div")];b.u[0].appendChild(this.Qb[0]);b.u[0].appendChild(this.Qb[1]);b.u[0].appendChild(this.Qb[2]);b.u[0].appendChild(this.Qb[3]);this.F=document.createElement("img");this.F.className="talent_icon";this.F.src="images/transparent.gif";b.u[1].className="talent_image_div";b.u[1].appendChild(this.F);this.Qg=b.u[2];this.Qg.className=
"talent_highlight_div";this.Ef=b.u[3];this.Ef.className="talent_border_div";this.$b=b.u[4];this.$b.className="talent_text_div";this.zb=b.u[5];this.zb.style.zIndex=6;this.zb.className="talent_event_parent";this.zb.ondblclick=l(i);this.zb.onmousedown=l(i);this.zb.onmouseup=l(i);this.zb.oncontextmenu=l(i)}o=td.prototype;o.ib=f;o.F=f;o.zb=f;o.$b=f;o.Ef=f;o.Qb=f;o.b=f;o.Qg=f;
o.update=function(a,b){if(this.ib.Aa==this.ib.N||this.ib.N>0&&a){this.F.src="images/icons/medium/"+this.ib.F+".png";this.$b.innerHTML="<span>"+this.ib.N+"</span>/"+this.ib.Aa;this.$b.style.backgroundImage="url(images/talents/pointsbg.png)";this.Ef.style.backgroundImage="url(images/talents/gold.gif)";this.$b.style.color="#FFCC00"}else if(gd(this.ib)&&b||this.ib.N>0){this.F.src="images/icons/medium/"+this.ib.F+".png";this.$b.innerHTML="<span>"+this.ib.N+"</span>/"+this.ib.Aa;this.$b.style.backgroundImage=
"url(images/talents/pointsbg.png)";this.Ef.style.backgroundImage="url(images/talents/green.gif)";this.$b.style.color="#00DD00"}else{this.F.src="images/icons/g/medium/"+this.ib.F+".png";this.$b.innerHTML="<span style='margin-top:200px'>"+this.ib.N+"</span>/"+this.ib.Aa;this.$b.style.backgroundImage="url(images/talents/pointsbg_g.png)";this.Ef.style.backgroundImage="url(images/talents/grey.gif)";this.$b.style.color="#999999"}};function rf(){var a,b,c,d,g=new O(1,2);Kc(g,"top");var h=document.createElement("div"),j=document.createElement("div");c=document.createElement("div");this.b=document.createElement("div");this.Hh=document.createElement("div");this.Hh.className="cs_sheet_p";this.Sh=document.createElement("div");this.Ui=document.createElement("div");this.Wi=document.createElement("div");this.Ei=document.createElement("div");this.Ci=document.createElement("div");this.Ai=document.createElement("div");this.hj=document.createElement("div");
this.qi=document.createElement("div");this.Eo=document.createElement("div");this.Ga=new fe;this.dc=new re;this.Ff=new se;this.qi.appendChild(this.Ff.b);this.Ga.qb.ma("show_stat_weights_interface",new p(function(){this.rf.show()},this));this.rf=new Zd;this.vh=new ve;c.appendChild(this.vh.b);c.appendChild(this.Ai);this.db=new Nc([this.Ei,h,c,this.Ga.b,this.hj,this.qi],["Items","Gems","Enchants","Reforging","Sets","Buffs"],"eqf");c=document.createElement("div");c.className="lp_t";c.appendChild(this.db.bh);
d=document.createElement("div");d.className="lp_m";d.appendChild(this.db.b);a=document.createElement("div");a.className="lp_b";g.L[0].style.width="343px";g.L[1].style.width="637px";g.d[0][0].appendChild(this.Hh);g.d[0][1].appendChild(c);g.d[0][1].appendChild(d);g.d[0][1].appendChild(a);this.vd=document.createElement("div");this.Qe=document.createElement("div");b=document.createElement("form");b.onsubmit=new Function("return false");b.action="#";M(b,"submit",this.Cl,this,[]);this.Sg=document.createElement("input");
this.Sg.className="input im_sa_in";this.Ug=document.createElement("input");this.Ug.className="input im_sa_in";this.Tg=new Hc([[0,locale.US+"/"+locale.Oceanic],[1,locale.Europe],[2,locale.Korea],[3,locale.Taiwan],[4,locale.China]]);this.Tg.b.className="single_select single_select_focussable";this.Pe=document.createElement("input");this.Pe.type="submit";this.Pe.value="Import";this.Pe.className="";F.wj(this.Pe,{"default":"button im_sa_btn",focus:"im_sa_btn_hover",hover:"im_sa_btn_hover"});a=document.createElement("div");
a.className="im_sa_h";a.appendChild(document.createTextNode("Import a character from the Armory"));this.Qe.appendChild(a);a=document.createElement("div");a.className="im_sa_r";c=document.createElement("div");c.className="im_sa_left";a.appendChild(c);c.appendChild(document.createTextNode("Name"));d=document.createElement("div");d.className="im_sa_right";a.appendChild(d);d.appendChild(this.Sg);F.La(a);b.appendChild(a);a=document.createElement("div");a.className="im_sa_r";c=document.createElement("div");
c.className="im_sa_left";a.appendChild(c);c.appendChild(document.createTextNode("Server"));d=document.createElement("div");d.className="im_sa_right";a.appendChild(d);d.appendChild(this.Ug);F.La(a);b.appendChild(a);a=document.createElement("div");a.className="im_sa_r";c=document.createElement("div");c.className="im_sa_left";a.appendChild(c);c.appendChild(document.createTextNode("Region"));d=document.createElement("div");d.className="im_sa_right";a.appendChild(d);d.appendChild(this.Tg.b);F.La(a);b.appendChild(a);
a=document.createElement("div");a.className="im_sa_b im_sa_add_padding";a.appendChild(this.Pe);b.appendChild(a);this.Qe.appendChild(b);this.Qe.className="im_sa_p";this.Uj=document.createElement("div");this.Qe.appendChild(this.Uj);(new O(4,1)).b.className="align_center";(new O(1,2)).b.cellSpacing="5px";b=document.createElement("form");b.onsubmit=new Function("return false");b.action="#";M(b,"submit",this.Xl,this,[]);this.pc=document.createElement("input");this.pc.value=locale.save_as_new;this.pc.type=
"submit";F.wj(this.pc,{"default":"button im_sa_save_btn",focus:"im_sa_save_btn_hover",hover:"im_sa_save_btn_hover"});this.hf=document.createElement("input");this.hf.className="input im_sa_in";this.gf=document.createElement("input");this.gf.className="input im_sa_in";this.Dh=document.createElement("input");this.Dh.className="input im_sa_in";this.ng=document.createElement("input");this.ng.className="input im_sa_in";this.ng.type="password";a=document.createElement("div");a.className="im_sa_h";a.appendChild(document.createTextNode("Save the current profile"));
this.vd.appendChild(a);a=document.createElement("div");a.className="im_sa_r";c=document.createElement("div");c.className="im_sa_left";a.appendChild(c);c.appendChild(document.createTextNode(locale.S_ProfileName));d=document.createElement("div");d.className="im_sa_right";a.appendChild(d);d.appendChild(this.hf);F.La(a);b.appendChild(a);a=document.createElement("div");a.className="im_sa_r";c=document.createElement("div");c.className="im_sa_left";a.appendChild(c);c.appendChild(document.createTextNode(locale.S_CharacterDescription));
d=document.createElement("div");d.className="im_sa_right";a.appendChild(d);d.appendChild(this.gf);F.La(a);b.appendChild(a);this.Od=document.createElement("div");a=document.createElement("div");a.className="im_sa_r";c=document.createElement("div");c.className="im_sa_left";a.appendChild(c);c.appendChild(document.createTextNode(locale.L_UserName));d=document.createElement("div");d.className="im_sa_right";a.appendChild(d);d.appendChild(this.Dh);F.La(a);this.Od.appendChild(a);a=document.createElement("div");
a.className="im_sa_r";c=document.createElement("div");c.className="im_sa_left";a.appendChild(c);c.appendChild(document.createTextNode(locale.L_Password));d=document.createElement("div");d.className="im_sa_right";a.appendChild(d);d.appendChild(this.ng);F.La(a);this.Od.appendChild(a);b.appendChild(this.Od);if(g_settings.profileId>0&&g_settings.userId>0){a=document.createElement("div");a.className="im_sa_r";c=document.createElement("div");c.className="im_sa_center im_sa_add_padding";a.appendChild(c);
c.appendChild(this.pc)}else{a=document.createElement("div");a.className="im_sa_b im_sa_add_padding";a.appendChild(this.pc)}b.appendChild(a);this.vd.appendChild(b);if(g_settings.profileId>0&&g_settings.userId>0){a=document.createElement("div");a.className="im_sa_border";this.vd.appendChild(a);a=document.createElement("div");a.className="im_sa_r";a.innerHTML='<span class="im_sa_notice">Update the current profile</span>';this.vd.appendChild(a);this.wf=document.createElement("input");this.wf.value=locale.update_profile;
this.wf.type="submit";this.pc.className="im_sa_save_btn";F.wj(this.wf,{"default":"button im_sa_save_btn",focus:"im_sa_save_btn_hover",hover:"im_sa_save_btn_hover"});M(this.wf,"click",this.kd,this,f);a=document.createElement("div");a.className="im_sa_b im_sa_add_padding";a.appendChild(this.wf);this.vd.appendChild(a)}this.vd.className="im_sa_p";c=new Nc([this.Sh,this.dc.b],["Talents","Glyphs"],"ttf");j.appendChild(c.bh);j.appendChild(c.b);this.rh=new qf;this.rh.A("ismine.eq.1;","","");a=document.createElement("div");
a.className="pl_r";c=document.createElement("div");c.className="pl_t";d=document.createElement("div");d.className="pl_b";d.appendChild(this.rh.b);c.appendChild(d);a.appendChild(c);this.Wi.appendChild(a);this.Ne=new Nc([g.b,j,this.Ui,this.Qe,this.vd,this.Wi],["Character Sheet","Talents","Overview","Import","Save","Browse"],"mtf");this.b.appendChild(this.Ne.b);this.Lb=new ke;h.appendChild(this.Lb.b);h.appendChild(this.Ci);if(g_settings.sessionId)this.Od.style.display="none"}o=rf.prototype;o.b=f;
o.Ne=f;o.db=f;o.Hh=f;o.Sh=f;o.Ui=f;o.rh=f;o.Wi=f;o.Ei=f;o.Ci=f;o.Ai=f;o.hj=f;o.qi=f;o.Qe=f;o.vd=f;o.Sg=f;o.Ug=f;o.Tg=f;o.Pe=f;o.Uj=f;o.Rg=f;o.Od=f;o.pc=f;o.hf=f;o.gf=f;o.Dh=f;o.ng=f;o.Ch=f;o.wf=f;o.Mb=f;o.Lb=f;o.Ga=f;o.dc=f;o.Ff=f;o.vh=f;o.rf=f;o.update=function(a){F.ba(this.Hh,a.C.b);F.ba(this.Ei,a.Qa.b);F.ba(this.Ci,a.Zc.b);F.ba(this.hj,a.gj.b);F.ba(this.Ai,a.Le.b);a.e!=f&&F.ba(this.Sh,a.e.q.b);this.dc.update(a);var b=this.rf;b.i=a;ae(b)};
o.Cl=function(){var a=this.Sg.value,b=this.Ug.value;if(a==""||a.length<2)S(T,"The character name is empty or too short!");else if(b=="")S(T,"The server name is empty or too short!");else this.Rg&&this.Rg[0].apply(this.Rg[1],[a,b,parseInt(this.Tg.b.selectedIndex,10)])};
o.Xl=function(){var a=this.hf.value,b=this.gf.value,c=this.Dh.value,d=this.ng.value;if(!g_settings.sessionId){if(c==""||c.length<4){S(T,"The user name is empty or too short!");return}if(d==""||d.length<4){S(T,"The password is empty or too short!");return}}this.Ch&&this.Ch[0].apply(this.Ch[1],[a,b,c,d])};o.kd=function(){var a=this.hf.value,b=this.gf.value;this.Mb&&this.Mb[0].apply(this.Mb[1],[a,b])};var fb="Ajax: Error - Received bad HTTP response code: $";function K(a,b,c){sf(a,b,c,e)}function Sc(a,b,c){sf(a,b,c,i)}
function sf(a,b,c,d){var g=tf();if(a)if(g){c||(c=[]);a+=-1==a.search(/\?/)?"?_="+(new Date).getTime():"&_="+(new Date).getTime();g.open("GET",a,e);g.onreadystatechange=b?function(){var h=c;if(this.readyState==4)if(!d&&this.status==200){var j=this.getResponseHeader("error");if(j)Xa(j);else{h.splice(0,0,eval("("+this.responseText+")"));t(b,h)}}else if(d){h.splice(0,0,this);t(b,h)}else Wa(D(fb,this.status))}:ca();g.setRequestHeader("Content-Type","application/x-www-form-urlencoded; Charset=utf-8");g.send(f)}else Wa("Ajax: Error - Unable to send a request because of a prior error.");
else Wa(D("Ajax: Error - Invalid URL supplied: $",a))}function tf(){var a=f;if(window.XMLHttpRequest)a=new XMLHttpRequest;else if(window.Bo)a=new ActiveXObject("MSXML2.XMLHTTP.3.0");else Wa("Ajax: Error - Unable to create request object.");return a};var P={Rc:function(){window.g_validateLogin=P.Ok;window.g_login=P.an;window.g_logout=P.bn;window.g_checkTopic=P.Qm;window.g_checkEdit=P.Om;window.g_checkReply=P.Pm;window.g_register=P.Vn;window.g_requestPasswordChange=P.ao;window.g_requestPasswordRecovery=P.bo},ao:function(a,b){try{var c=document.getElementById("password").value;if(c!=document.getElementById("password_repeat").value)S(T,locale.Password_and_repeat_differ);else if(c.length<5)S(T,locale.Password_to_short);else{K("php/interface/user/change_password.php"+
E({userId:a,password:MD5(c),guid:b}),new p(P.hk,P),f);T.Ca()}}catch(d){S(T,d.toString())}},bo:function(){try{K("php/interface/user/recover_password.php"+E({user_name:encodeURIComponent(document.getElementById("user_name").value),email:encodeURIComponent(document.getElementById("email").value)}),new p(P.hk,P),f);T.Ca()}catch(a){S(T,a.toString())}},hk:function(a){if(a.status==200){a=eval("("+a.responseText+")");if(typeof a==="object"){if(a[0]==1){S(T,a[1]);return}yb(T,a[1]);return}}T.wa()},Vn:function(){var a=
document.getElementById("user_name").value,b=MD5(document.getElementById("password").value),c=document.getElementById("email").value;if(document.getElementById("password").value!=document.getElementById("password_repeat").value){S(T,locale.Password_and_repeat_differ);return i}if(a.length<4){S(T,locale.Username_to_short);return i}if(document.getElementById("password").value.length<5){S(T,locale.Password_to_short);return i}if(document.getElementById("email").value.search("@")==-1){S(T,locale.Invalid_email);
return i}K("php/interface/user/request_registration.php?u="+a+"&pw="+b+"&e="+c,new p(P.Vk,P),f);document.getElementById("login").disabled=e;return i},Vk:function(a){document.getElementById("login").disabled=i;if(a.status==200)if(a.responseText.search("error_username")!=-1)S(T,locale.Username_invalid_characters);else a.responseText.search("register_success")!=-1?yb(T,"An E-Mail has been sent. Before you can use your account you have to confirm your registration by following the link given in the mail."):
S(T,a.responseText)},Ok:function(){try{var a=document.getElementById("login_password").value;if(document.getElementById("login_user_name").value.length<4){S(T,"User name is too short");return i}if(a.length<4){S(T,"Password is too short");return i}document.getElementById("login_password_md5").value=MD5(a);return e}catch(b){S(T,b);return i}},an:function(){try{if(P.Ok()){T.Ca();K("php/interface/user/authenticate.php"+E({user_name:document.getElementById("login_user_name").value,password:document.getElementById("login_password_md5").value,
cookie:document.getElementById("login_cookie").checked}),new p(P.Tk,P),f)}}catch(a){S(T,a)}},Tk:function(a){if(a.status==200){a=eval("("+a.responseText+")");if(a[0]==1)S(T,a[1]);else{g_settings.sessionId=a[1];g_settings.userId=a[2];document.getElementById("ajax_login").style.display="none";document.getElementById("ajax_logout").style.display="block";document.getElementById("register_logged_out").style.display="none";document.getElementById("register_logged_in").style.display="block";document.getElementById("register_user_name").innerHTML=
a[3];g_settings.isPlanner&&R.Zm();T.wa()}}else T.wa()},bn:function(){try{K("php/interface/user/logout.php",new p(P.Uk,P),f)}catch(a){}},Uk:function(){g_settings.sessionId="";g_settings.userId=0;g_settings.userName="";document.getElementById("ajax_login").style.display="block";document.getElementById("ajax_logout").style.display="none";document.getElementById("register_logged_out").style.display="block";document.getElementById("register_logged_in").style.display="none";g_settings.isPlanner&&R.$m();
T.wa()},Cg:function(){if(typeof window.innerWidth!="undefined")return[window.innerWidth,window.innerHeight];var a=window.document.compatMode&&window.document.compatMode=="CSS1Compat"?window.document.documentElement:window.document.body;return[parseInt(a.clientWidth,10),parseInt(a.clientHeight,10)]},Qm:function(a){var b=document.getElementById("topic_title").value,c=document.getElementById("topic_content").value;if(b.length<2)S(T,"The title of your post is too short!");else if(c.length<2)S(T,"The content of your topic is too short!");
else{document.getElementById("topic_submit").disabled=e;K("php/interface/forum/newTopic.php?forum="+a+"&title="+encodeURIComponent(b)+"&content="+encodeURIComponent(c)+"&session_id="+g_settings.sessionId,new p(P.Sk,P),f)}},Sk:function(a){if(a.status==200){a=eval("("+a.responseText+")");if(a[0]!=0){S(T,a[1]);document.getElementById("topic_submit").disabled=i}else{document.getElementById("topic_form").onsubmit=new Function("");document.getElementById("topic_form").action="?f&topic="+a[1];document.getElementById("topic_form").submit()}}else{S(T,
a.responseText);document.getElementById("topic_submit").disabled=i}},Jo:function(a){K("php/interface/forum/deleteTopic.php?topic="+a+"&session_id="+g_settings.sessionId,f,f)},Oo:function(a){K("php/interface/forum/lockTopic.php?topic="+a+"&session_id="+g_settings.sessionId,f,f)},Pm:function(a,b){var c=document.getElementById("reply_content").value;if(c.length<2)S(T,"The content of your post is too short!");else{document.getElementById("reply_submit").disabled=e;K("php/interface/forum/addPost.php?topic="+
a+"&content="+encodeURIComponent(c)+"&session_id="+g_settings.sessionId,new p(P.Rk,P),[a,b])}},Rk:function(a,b,c){if(a.status==200){a=eval("("+a.responseText+")");if(a[0]!=0){S(T,a[1]);document.getElementById("reply_submit").disabled=i}else{document.getElementById("reply_form").onsubmit=new Function("");document.getElementById("reply_form").action="?f&topic="+b+"&page="+Math.ceil(a[1]/c)+"#bottom";document.getElementById("reply_form").submit()}}else{S(T,a.responseText);document.getElementById("reply_submit").disabled=
i}},Om:function(a,b,c){var d=document.getElementById("edit_content").value;if(d.length<2)S(T,"The content of your post is too short!");else{document.getElementById("edit_submit").disabled=e;K("php/interface/forum/editPost.php?post="+a+"&content="+encodeURIComponent(d)+"&session_id="+g_settings.sessionId,new p(P.Qk,P),[a,b,c])}},Qk:function(a,b,c,d){if(a.status==200){a=eval("("+a.responseText+")");if(a[0]!=0){S(T,a[1]);document.getElementById("edit_submit").disabled=i}else{document.getElementById("edit_form").onsubmit=
new Function("");document.getElementById("edit_form").action="?f&topic="+c+"&page="+d+"#p"+b;document.getElementById("edit_form").submit()}}else{S(T,a.responseText);document.getElementById("edit_submit").disabled=i}}};window.__chardev_init=P.Rc;var R={Kj:85,Uc:[],w:f,Wa:-1,l:f,ql:i,Go:0,Hm:0,Ho:"",Fo:"en",rb:new Nb,Rc:function(a){ua=new Rc;y=new Tc;Va=document.getElementById("error_console");if(document.addEventListener)document.addEventListener("mousemove",T.Bk,e);else document.body.onmousemove=T.Bk;M(document.body,"keydown",T.Ym,T,f);if(a.isPlanner){var b=R.Rm(),c=new rf;a.character&&b.load(a.character);R.ko(c);document.getElementById("mtf_p").className="mtf_p";document.getElementById("mm_w").className="mm_w2";document.getElementById("mtf_p").appendChild(c.Ne.bh);
document.getElementById("planner_parent").appendChild(c.b);R.rb.ma("started",new p(R.Fn,R));R.rb.ma("finished",new p(R.Dn,R));R.rb.ma("progress_change",new p(R.En,R));R.rb.ma("values_change",new p(R.Gn,R));window.onbeforeunload=function(d){d=d||window.event;if(!R.sn()){if(d)d.returnValue="Are you sure? All unsaved changes will be lost, if you continue!";return"Are you sure? All unsaved changes will be lost, if you continue!"}return f}}},Sn:function(){R.Wa!=-1&&Ub(R.rb)},Fn:function(){if(R.w!=f){var a=
T;if(a.je==f){a.je=document.createElement("div");a.je.className="tt_loading";a.je.innerHTML=db(0)+"%"}a.Id(a.je)}},Dn:function(){R.w!=f&&T.wa()},En:function(a){if(R.w!=f)if(T.je!=f)T.je.innerHTML=db(a)+"%"},Gn:function(a){R.w!=f&&de(R.w.Ga.qb,a)},Po:function(a){R.w!=f&&ce(R.w.Ga.qb,Qb(a))},Fk:function(){R.w!=f&&R.w.rf.show()}};
R.Rm=function(){var a=new Cd;a.si=new p(R.hn,R);a.Ii=new p(R.tn,R);a.Ni=new p(R.fn,R);for(var b=a.C,c=new p(R.Jn,R),d=0;d<b.Ba.length;d++)b.Ba[d].uc(c);a.Qa.B.Yi=new p(R.pn,R);a.Qa.uc(new p(R.qn,R));a.Qa.kd=[R.rn,R];a.gj.uc(new p(R.In,R));a.Zc.uc(new p(R.Ek,R));a.Zc.kd=[R.on,R];a.Le.uc(new p(R.mn,R));a.Le.kd=[R.nn,R];Xe(a.Le.B,"isenchant");a.ma("stat_weights_change",new p(R.Hk,R));a.ma("stat_caps_change",new p(R.Gk,R));a.Qa.ma("show_stat_weights_interface",new p(R.Fk,R));a.Zc.ma("show_stat_weights_interface",
new p(R.Fk,R));R.Uc.push(a);R.Wa==-1&&R.xo();return a};R.xo=function(){R.Wa=0;R.l=R.Uc[R.Wa];R.rb.update(R.l);R.w!=f&&R.w.update(R.l)};R.pn=function(){var a=R.l;if(a.Qa.B.mc&&a.Qa.B.mc.checked)a.Rh=a.Qa.B.Ka()};R.fn=function(){if(R.w!=f&&R.Wa!=-1){R.Bg();R.w.dc.update(R.l)}};R.Bg=function(){var a,b;if(R.w!=f&&R.Wa!=-1){a=R.l;b=a.C.Ha;b>=0?R.w.Ga.update(a.z.H(b)):R.w.Ga.update(f);R.w.Ga.qb.update(a)}a=R.rb;a.Bb=f;Pb(a)};R.Ro=function(a){var b=R.Uc[a];R.Uc.splice(a,1);return b};
R.parse=function(a){return Ya(a,R.l)};R.tn=function(){R.w!=f&&R.Wa!=-1&&R.w.dc.update(R.l)};R.hn=function(a){var b=-1;if(R.w!=f&&R.Wa!=-1){R.w.dc.update(R.l);if(a.e!=f){b=R.l;b.e!=f&&F.ba(R.w.Sh,b.e.q.b)}b=a.C.Ha;R.w.db.Ia==0&&b!=-1&&R.qj(b)}};
R.qj=function(a){if(!(a<0)){var b=R.l,c,d,g;c=b.Qa;Xe(c.B,"usablebyclass");Xe(c.B,"issocketablegem");Xe(c.B,"canbeusedwithlvl");Xe(c.B,"class");Xe(c.B,"gemreqitemlvl");c.nf=a==16||a==17&&b.e!=f&&(1<<b.e.c&154)!=0||a==18&&b.e!=f&&(1<<b.e.c&826)!=0;if(a!=16&&a!=17&&a!=18)Xe(c.B,"slot");else c.B.sa.Oe.slot=i;if(a==1||a==12||a==13||a==14||a==15||a==6||a==5)Xe(c.B,"subclass");else c.B.sa.Oe.subclass=i;g=Md(b,a);d=Od(b,a);c.ei(d[0],d[1]);c.Bj(g);a=c.B.mc&&c.B.mc.checked?b.Rh:b.sf[a];a=a.replace(/\bclass\.\w+\.[^;]*;/,
"")+(d[0]>=0?"class.eq."+d[0]+";":"");a=a.replace(/\bslot\.\w+\.[^;]*;/,"")+(g>0?"slot.ba."+g+";":"");a=a.replace(/\bsubclass\.\w+\.[^;]*;/,"")+(d[1]>0?"subclass.ba."+d[1]+";":"");c.A(a,f,f);c.Kg=R.Xm()}};R.rn=function(){var a=R.l,b=a.C.Ha,c=a.Qa.B.Ka(),d=a.Qa.B.mc&&a.Qa.B.mc.checked;a.tc();if(d)a.Rh=c;else{R.sh("name",c);R.sh("quality",c);R.sh("lvl",c);R.sh("reqlvl",c);a.sf[b]=c}};R.sh=function(a,b){var c=b.match(RegExp("\\b"+a+"\\.\\w+\\.[^;]+;","g"));c?Rd(R.l,a,c.join("")):Rd(R.l,a,"")};
R.wk=function(a){var b=R.l,c=b.Le;if(a<0)c.clear();else if(a=b.z.k[a][0]){R.w.vh.update(a);c.Sj="itemclass.ba."+(1<<a.T)+";itemsubclass.ba."+(1<<a.fa)+";slot.ba."+(1<<a.ta)+";enchantitemlevel.le."+a.j+";enchantchrlevel.le."+b.j+";isenchant.eq.1;";c.A("")}else c.clear()};
R.Jn=function(a,b){if(b==0){var c=R.l.C;a!=-1&&c.Ba[a].select();if(c.Ha!=-1&&c.Ha!=a){var d=c.Ba[c.Ha];d.b.style.backgroundImage=d.za>-1?"url(images/site/item_border_q"+d.za+".png)":"url(images/site/item_border.png)";d.pe=i}c.Ha=a;if(R.w.db.Ia==0)b==0&&R.qj(a);else if(R.w.db.Ia==1)if(R.l.z.H(a)!=f){R.w.Lb.update(R.l,a,-1);R.l.Zc.na()}else R.w.db.show(0);else if(R.w.db.Ia==3)R.l.z.H(a)!=f?R.Bg():R.w.db.show(0);else if(R.w.db.Ia==2)R.l.z.H(a)!=f?R.wk(a):R.w.db.show(0);else R.w.db.Ia==5&&R.w.db.show(0)}};
R.Kn=function(a){var b=R.l,c=b.C.Ha,d=b.Zc;a=kb(b.z.k[c][0].ha[a]);Xe(d.B,"usablebyclass");Xe(d.B,"issocketablegem");Xe(d.B,"gemreqitemlvl");Xe(d.B,"class");d.ei(3,a);d.A((b.e!=f?"usablebyclass.eq."+(1<<b.e.c-1)+";":"")+"issocketablegem.eq.1;class.eq.3;subclass.ba."+a+";gemreqitemlvl.le."+b.z.k[c][0].j+";",f,f)};R.Ln=function(a){var b=R.l,c=b.C.Ha;b.tc();dc(b.z.k[c][0],f,a,i);V(R.l);R.w.Lb.update(R.l,c,R.w.Lb.Zb)};
R.gn=function(a){var b=R.l.C.Ha;if(a==0)R.qj(b);else if(a==1){R.w.Lb.update(R.l,b,-1);R.l.Zc.na()}else if(a==3)R.Bg();else if(a==2)R.wk(b);else a!=4&&a==5&&R.w.Ff.update(R.l)};R.on=ca();R.Ek=function(a){var b=R.l,c=b.C.Ha,d=R.w.Lb;b.tc();a=a.Ob();dc(b.z.k[c][0],a,d.Zb,i);V(R.l);R.w.Lb.update(R.l,c,d.Zb)};R.qn=function(a){R.Ak(a,R.l.C.Ha)};R.In=function(a){R.Ak(a,na[a.ta])};
R.Ak=function(a,b){if(b!=-1){R.l.z.A(b,a.Ob());if(b==16)R.l.C.Ba[17].update();else b==17&&R.l.C.Ba[16].update();R.l.C.Ba[b].update();V(R.l)}};R.Xm=function(){if(R.Wa==-1)return f;var a=R.l,b=a.C.Ha;if(b==-1)return f;return a.z.k[b][0]};R.mn=function(a){var b=R.l,c=b.C.Ha;a=y.H(a);b.tc();sb(b.z.k[c][0],a.O[0].Xb);V(b)};R.nn=ca();
R.ko=function(a){R.w=a;a.Ne.wb(R.un,R);a.db.wb(R.gn,R);var b=a.Lb,c=R;b.Ri=R.Kn;b.Si=c;a.Lb.ih=[R.Ek,R];a.Lb.hh=[R.Ln,R];a.Ga.wb(R.Cn,R);a.Ga.qb.ma("stat_weight_change",new p(R.On,R));a.Ga.qb.ma("stat_cap_change",new p(R.Mn,R));a.Ga.qb.ma("stat_caps_reset",new p(R.Nn,R));a.Ga.qb.ma("optimise",new p(R.Sn,R));a.Ga.qb.ma("use_optimised_reforge",new p(R.Qn,R));a.Rg=[R.Jm,R];a.Ch=[R.co,R];a.Mb=[R.zo,R];a.dc.uc(R.dn,R);a.dc.Aj(R.Hn,R);a.rh.uc(new p(R.zn,R));a.vh.wb(R.Bn,R);a.Ff.ii=new p(R.cn,R);a.rf.Ti=
new p(R.Rn,R);if(R.Wa!=-1){R.w.update(R.l);R.Hk(R.l.Zh());R.Gk(Jd(R.l));de(R.w.Ga.qb,R.rb)}};R.Qn=function(){if(!(!R.rb&&R.rb.Bb)){for(var a=[],b,c=0;c<19;c++)if((b=R.rb.Bb[c])&&b[0]!=-1)a[c]=[w[b[0]],w[b[1]]];R.l.ai(a);R.Bg()}};R.Bn=function(){V(R.l)};R.zn=function(a){T.Ca();H.Un(a,new p(R.An,R))};R.An=function(a){R.l.load(a);R.w.Ne.show(0);T.wa()};R.Hn=function(a,b){var c=R.l;if(c.e)c.e.U[a][b]=f;R.w.dc.update(c)};R.dn=function(a,b){var c=R.l;c.e&&vd(c.e,a,b);R.w.dc.update(c)};
R.Jm=function(a,b,c){T.Ca();H.Tn(a,b,c,new p(R.Yk,R))};R.Yk=function(a,b){if(a!=f){R.l.load(a);T.wa();R.w.Ne.show(0)}else S(T,b)};R.Cn=function(){V(R.l);R.Bg();R.rb.update(R.l)};R.co=function(a,b,c,d){var g=R.l;g.zj(a);g.$=b;T.Ca();g_settings.sessionId?H.Pk(0,g,new p(R.ej,R)):H.Ao(c,d,g,new p(R.ej,R))};R.zo=function(a,b){var c=R.l;c.zj(a);c.$=b;T.Ca();g_settings.sessionId?H.Pk(g_settings.profileId,c,new p(R.ej,R)):S(T,"In order to update an existing profile, you have to be logged in!")};
R.ej=function(a,b){b?S(T,b):yb(T,"Your profile was saved.<br /><a class='tt_profile_link' href='?profile="+a+"' target='_blank'>Click here</a> to view it.")};R.Zm=function(){if(R.w!=f)R.w.Od.style.display="none"};R.$m=function(){if(R.w!=f)R.w.Od.style.display="block"};
R.un=function(a){switch(a){case 2:a=R.l;var b,c,d,g,h=i,j="<div class='ov_parent'><div class='ov_character_info'>Level "+a.j;if(a.Na)j+=" "+a.Na.v;if(a.e){b="";if(a.e.q.J!=-1)b="<span class='ov_spec'>"+a.e.q.we[a.e.q.J]+"</span> ";j+=" <span class='ov_class_"+a.e.c+"'>"+b+a.e.v+"</span>"}j+="<div class='ov_avg_item_level'>"+locale.OV_AverageItemLevel+": "+Math.floor(a.g.Ve)+"</div>";j+="</div>";for(b=0;b<a.z.k.length;b++){d=a.z.k[b][0];h=b==9;if(d!=f){j+="<div class='ov_item_parent'><div class='ov_slot'>"+
locale.a_slot[d.ta]+"</div>";j+="<div><a class='ov_item' onmousemove='g_moveTooltip();' onmouseout='g_hideTooltip();' onmouseover='g_showItemBySlot("+b+");' style='color:"+va[d.za]+"; white-space:nowrap;'>"+d.v+"</a> <span class='ov_item_level'>("+d.j+")</span></div>";for(c=0;c<d.I.length;c++){g=d.I[c];if(g==f&&d.ha[c]==0)if(h)h=i;else continue;j+="<div class='ov_socket'>";j+=d.ha[c]==0?locale.blacksmithingsocket+": ":d.ha[c]==14?locale.PrismaticSocket+": ":locale.a_socket[Math.log(d.ha[c])/Math.log(2)]+
": ";j+=g!=f?"<a class='ov_gem' onmousemove='g_moveTooltip();' onmouseout='g_hideTooltip();' onmouseover='g_showItemWithoutPreview("+g.c+");' style='color:"+va[g.za]+"; white-space:nowrap;'>"+g.v+"</a>":locale.OV_EmptySocket;j+="</div>"}d=d.G;if(d.length>0){j+="<div class='ov_enchant'>"+locale.OV_Enchant+":";for(c=0;c<d.length;c++)j+="<div class='ov_enchant_desc'>"+d[c].$+"</div>";j+="</div>"}j+="</div>"}}R.w.Ui.innerHTML=j+"</div>";break;case 0:R.w.db.Ia==5&&R.w.Ff.update(R.l);break;case 4:a=R.l;
R.w.gf.value=a.$;R.w.hf.value=a.v}};R.cn=function(a,b){R.l.r.add(a,b)};R.Mn=function(a,b){if(R.Wa!=-1){var c=R.l;if(c.qf==f)c.qf=Kd(c);c.qf[a]=b;c.S.ab("stat_caps_change",[Jd(c)])}};R.Nn=function(){R.Wa!=-1&&Ld(R.l)};R.On=function(a,b){if(R.Wa!=-1){var c=R.l;c.Ja[a]=b;c.S.ab("stat_weights_change",[c.Ja])}};R.Rn=function(a){R.Wa!=-1&&R.l.Ae(a)};
R.Hk=function(a){var b=[R.l.Ja[6],R.l.Ja[13],R.l.Ja[14],R.l.Ja[31],R.l.Ja[32],R.l.Ja[36],R.l.Ja[37],R.l.Ja[49]];R.rb.Cj(b);if(R.w!=f&&R.Wa!=-1){R.w.rf.A(a);R.w.Ga.qb.Cj(b)}};R.Gk=function(a){R.rb.yj(a);R.w!=f&&R.Wa!=-1&&R.w.Ga.qb.yj(a)};R.sn=function(){for(var a=0;a<R.Uc.length;a++)if(R.Uc!=f&&JSON.stringify(R.Uc[a].Wg)!=JSON.stringify(gb(R.Uc[a])))return i;return e};window.__engine_init=R.Rc;window.CHARDEV_CORE_BUILD=338;
